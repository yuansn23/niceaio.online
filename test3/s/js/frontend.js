/* 1.2.9203 */
var t,e;function mimetype(e){"use strict";var t=[{file:"image",ext:["jpg","jpeg","png","gif","webp","svg","psd"]},{file:"archive",ext:["zip","7z","rar"]},{file:"pdf",ext:["pdf"]},{file:"video",ext:["mp4","flv","m3u8","ts","3gp","avi","mov","wmv"]},{file:"code",ext:["php","html","css","js","inc","py","xml","json"]},{file:"text",ext:["txt","rtf","pages"]},{file:"music",ext:["mp3","m3u"]},{file:"audio",ext:["mid","aif","wav"]},{file:"chart",ext:["xls","xlsx","numbers"]},{file:"csv",ext:["csv"]},{file:"powerpoint",ext:["pptx","pptm","ppt"]},{file:"word",ext:["doc","docx"]}];let i=e.ext||"file",n=e.filename;if(e.url)try{const i=/\/([^\/]+\.[^\s\?#\/]+)$/i;var s=new URL(e.url),o=s.pathname.match(i);n=o?o[1]:s.hostname}catch(e){}if(n&&!e.ext){o=(n=n.replace(/(\?.*|$)/,"")).lastIndexOf(".");if(-1!=o){var r=n.toLowerCase().substr(o+1);for(let e=0;e<t.length;e++)if(-1!=t[e].ext.indexOf(r)){i=t[e].file;break}}}return"files/"+i}function humanSize(e){if(!e)return e;let t=0;for(;1024<=e;)e/=1024,t++;return e.toFixed(0)+" "+["B","KB","MB","GB"][t]}function format(e,t=defaults){var i=0<=(e="number"==typeof(e="string"==typeof e&&0==t.precision&&-1!=(i=e.indexOf("."))?e.substring(0,i):e)?e.toFixed(fixed(t.precision)):e).indexOf("-")?"-":"",e=toStr(numbersToCurrency(e,t.precision)).split("."),n=e[0],e=e[1],n=addThousandSeparator(n,t.thousands);return(null!=t.prefix?t.prefix:"")+i+joinIntegerAndDecimal(n,e,t.decimal)+(null!=t.suffix?t.suffix:"")}function unformat(e,t){var i=0<=e.indexOf("-")?-1:1,e=numbersToCurrency(e,t);return parseFloat(e)*i}function fixed(e){return between(0,e,20)}function between(e,t,i){return Math.max(e,Math.min(t,i))}function numbersToCurrency(e,t){return parseFloat(toStr(e).replace(/[^0-9\.]+/g,"")||"0").toFixed(fixed(t))}function addThousandSeparator(e,t){return e.replace(/(\d)(?=(?:\d{3})+\b)/gm,"$1"+t)}function currencyToIntegerAndDecimal(e){return toStr(e).split(".")}function joinIntegerAndDecimal(e,t,i){return t?e+i+t:e}function toStr(e){return e?e.toString():""}function setCursor(e,t){function i(){e.setSelectionRange(t,t)}e===document.activeElement&&(i(),setTimeout(i,1))}function event(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t}function scrollIt(e,i="y",n=null,s=300,o="linear",r,a,l={x:0,y:0}){null==n&&(n=window);const c={linear(e){return e},easeInQuad(e){return e*e},easeOutQuad(e){return e*(2-e)}};const d="y"==i?n!=window?n.scrollTop:n.pageYOffset:n!=window?n.scrollLeft:n.pageXOffset,u="now"in window.performance?performance.now():(new Date).getTime(),h=Math.max(0,Math.floor("number"==typeof e?e:function(e){for(var t=l.x,i=l.y;e;)t+=e.offsetLeft,i+=e.offsetTop,e=e.offsetParent;return{x:t,y:i}}("string"==typeof e?document.querySelector(e):e)[i]));"requestAnimationFrame"in window!=!1&&s?function e(){var t="now"in window.performance?performance.now():(new Date).getTime(),t=Math.min(1,(t-u)/s),t=c[o](t)*(h-d)+d;"y"==i?n.scroll(0,t):n.scroll(t,0),a&&a(),0==Math.ceil(Math.floor(t-h))?("y"==i?n.scroll(0,h):n.scroll(h,0),r&&r()):requestAnimationFrame(e)}():("y"==i?n.scroll(0,h):n.scroll(h,0),r&&r())}function gtag(){dataLayer.push(arguments)}function facebookPixelInit(e){function t(e,t){null!=window.fbq&&fbq("track","Purchase",{content_type:"product",value:t.budget,currency:t.currency})}var i,n,s;n=window,s=document,n.fbq||(i=n.fbq=function(){i.callMethod?i.callMethod.apply(i,arguments):i.queue.push(arguments)},n._fbq||(n._fbq=i),(i.push=i).loaded=!0,i.version="2.0",i.queue=[],(n=s.createElement("script")).async=!0,n.src="https://connect.facebook.net/en_US/fbevents.js",(s=s.getElementsByTagName("script")[0]).parentNode.insertBefore(n,s)),console.log("Init facebook pixel:",e.id),fbq("init",e.id),fbq("track","PageView"),$mx(document).on("click",'[data-track-event="payment"]',function(){fbq("track","InitiateCheckout")}),$events.on("navigate",function(e,t){fbq("track","PageView",{url:t.path})}),ecommerceEvent&&"purchase"==ecommerceEvent.type&&t(0,ecommerceEvent),$events.on("paid",t);$events.on("viewProduct",function(e,t){fbq("track","ViewContent",t)},!0),$events.on("lead",function(e,t){var i;null!=window.fbq&&(fbq("track","Lead",{},{eventID:"lead_"+t.lead_id}),t.addons)&&null!=t.addons["facebookpixel-goal"]&&(i=JSON.parse(t.addons["facebookpixel-goal"]),window.fbq("trackCustom",i.e,{},{eventID:t.tms}))}),$events.on("addToCart",function(e,t){let i=t.product.price;var n=t.product_id,s=[n];let o=[{id:n,quantity:1,item_price:i}];_.each(t.options,(e,t)=>{i+=e.price,o.push({id:"option:"+t,quantity:1,item_price:e.price})}),fbq("track","AddToCart",{value:i,currency:t.currency,content_type:"product",contents:o,content_ids:s},{eventID:t.event_id})}),$events.on("search",function(e,t){fbq("track","Search",{search_string:t.query})}),$events.on("initiateCheckout",function(e,t){fbq("track","InitiateCheckout")}),$events.on("__tap",function(e,i){if(i.addons&&null!=i.addons["facebookpixel-goal"]){var t=JSON.parse(i.addons["facebookpixel-goal"]);window.fbq("trackCustom",t.e,{},{eventID:i.tms})}else if(i.data){let t=0;_.each(i.data,e=>{t++,e&&e.event&&window.fbq("trackCustom",e.event,{custom_param:e.param},{eventID:i.tms+"-"+t})})}})}!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).Vue=t()}(this,function(){"use strict";var N=Object.freeze({});function R(e){return null==e}function P(e){return null!=e}function B(e){return!0===e}function y(e){return"string"==typeof e||"number"==typeof e||"symbol"==typeof e||"boolean"==typeof e}function H(e){return null!==e&&"object"==typeof e}var f=Object.prototype.toString;function F(e){return"[object Object]"===f.call(e)}function m(e){var t=parseFloat(String(e));return 0<=t&&Math.floor(t)===t&&isFinite(e)}function X(e){return P(e)&&"function"==typeof e.then&&"function"==typeof e.catch}function g(e){return null==e?"":Array.isArray(e)||F(e)&&e.toString===f?JSON.stringify(e,null,2):String(e)}function Z(e){var t=parseFloat(e);return isNaN(t)?e:t}function s(e,t){for(var i=Object.create(null),n=e.split(","),s=0;s<n.length;s++)i[n[s]]=!0;return t?function(e){return i[e.toLowerCase()]}:function(e){return i[e]}}var b=s("slot,component",!0),k=s("key,ref,slot,slot-scope,is");function V(e,t){if(e.length){t=e.indexOf(t);if(-1<t)return e.splice(t,1)}}var w=Object.prototype.hasOwnProperty;function M(e,t){return w.call(e,t)}function e(t){var i=Object.create(null);return function(e){return i[e]||(i[e]=t(e))}}var $=/-(\w)/g,T=e(function(e){return e.replace($,function(e,t){return t?t.toUpperCase():""})}),S=e(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}),C=/\B([A-Z])/g,G=e(function(e){return e.replace(C,"-$1").toLowerCase()}),K=Function.prototype.bind?function(e,t){return e.bind(t)}:function(i,n){function e(e){var t=arguments.length;return t?1<t?i.apply(n,arguments):i.call(n,e):i.call(n)}return e._length=i.length,e};function D(e,t){for(var i=e.length-(t=t||0),n=new Array(i);i--;)n[i]=e[i+t];return n}function _(e,t){for(var i in t)e[i]=t[i];return e}function z(e){for(var t={},i=0;i<e.length;i++)e[i]&&_(t,e[i]);return t}function E(e,t,i){}var q=function(e,t,i){return!1},J=function(e){return e};function Q(t,i){if(t===i)return!0;var e=H(t),n=H(i);if(!e||!n)return!e&&!n&&String(t)===String(i);try{var s,o,r=Array.isArray(t),a=Array.isArray(i);return r&&a?t.length===i.length&&t.every(function(e,t){return Q(e,i[t])}):t instanceof Date&&i instanceof Date?t.getTime()===i.getTime():!r&&!a&&(s=Object.keys(t),o=Object.keys(i),s.length===o.length)&&s.every(function(e){return Q(t[e],i[e])})}catch(t){return!1}}function ee(e,t){for(var i=0;i<e.length;i++)if(Q(e[i],t))return i;return-1}function te(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}var ie="data-server-rendered",ne=["component","directive","filter"],t=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],v={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:q,isReservedAttr:q,isUnknownElement:q,getTagNamespace:E,parsePlatformTagName:J,mustUseProp:q,async:!0,_lifecycleHooks:t},se=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function oe(e,t,i,n){Object.defineProperty(e,t,{value:i,enumerable:!!n,writable:!0,configurable:!0})}var re,ae=new RegExp("[^"+se.source+".$_\\d]"),le="__proto__"in{},o="undefined"!=typeof window,ce="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,i=ce&&WXEnvironment.platform.toLowerCase(),n=o&&window.navigator.userAgent.toLowerCase(),W=n&&/msie|trident/.test(n),de=n&&0<n.indexOf("msie 9.0"),ue=n&&0<n.indexOf("edge/"),he=(n&&n.indexOf("android"),n&&/iphone|ipad|ipod|ios/.test(n)||"ios"===i),i=(n&&/chrome\/\d+/.test(n),n&&/phantomjs/.test(n),n&&n.match(/firefox\/(\d+)/)),pe={}.watch,fe=!1;if(o)try{var r={};Object.defineProperty(r,"passive",{get:function(){fe=!0}}),window.addEventListener("test-passive",null,r)}catch(N){}var me=function(){return re=void 0===re?!o&&!ce&&"undefined"!=typeof global&&global.process&&"server"===global.process.env.VUE_ENV:re},ve=o&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function ge(e){return"function"==typeof e&&/native code/.test(e.toString())}var be="undefined"!=typeof Symbol&&ge(Symbol)&&"undefined"!=typeof Reflect&&ge(Reflect.ownKeys);function ye(){this.set=Object.create(null)}var ke="undefined"!=typeof Set&&ge(Set)?Set:(ye.prototype.has=function(e){return!0===this.set[e]},ye.prototype.add=function(e){this.set[e]=!0},ye.prototype.clear=function(){this.set=Object.create(null)},ye),n=E,we=0,d=function(){this.id=we++,this.subs=[]},_e=(d.prototype.addSub=function(e){this.subs.push(e)},d.prototype.removeSub=function(e){V(this.subs,e)},d.prototype.depend=function(){d.target&&d.target.addDep(this)},d.prototype.notify=function(){for(var e=this.subs.slice(),t=0,i=e.length;t<i;t++)e[t].update()},d.target=null,[]);function xe(e){_e.push(e),d.target=e}function $e(){_e.pop(),d.target=_e[_e.length-1]}var U=function(e,t,i,n,s,o,r,a){this.tag=e,this.data=t,this.children=i,this.text=n,this.elm=s,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=t&&t.key,this.componentOptions=r,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=a,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},r={child:{configurable:!0}},Se=(r.child.get=function(){return this.componentInstance},Object.defineProperties(U.prototype,r),function(e){void 0===e&&(e="");var t=new U;return t.text=e,t.isComment=!0,t});function Ce(e){return new U(void 0,void 0,void 0,String(e))}function Te(e){var t=new U(e.tag,e.data,e.children&&e.children.slice(),e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);return t.ns=e.ns,t.isStatic=e.isStatic,t.key=e.key,t.isComment=e.isComment,t.fnContext=e.fnContext,t.fnOptions=e.fnOptions,t.fnScopeId=e.fnScopeId,t.asyncMeta=e.asyncMeta,t.isCloned=!0,t}var Ae=Array.prototype,Oe=Object.create(Ae),De=(["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(o){var r=Ae[o];oe(Oe,o,function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var i,n=r.apply(this,e),s=this.__ob__;switch(o){case"push":case"unshift":i=e;break;case"splice":i=e.slice(2)}return i&&s.observeArray(i),s.dep.notify(),n})}),Object.getOwnPropertyNames(Oe)),ze=!0;function I(e){ze=e}var Fe=function(e){if(this.value=e,this.dep=new d,this.vmCount=0,oe(e,"__ob__",this),Array.isArray(e)){if(le)e.__proto__=Oe;else for(var t=e,i=Oe,n=De,s=0,o=n.length;s<o;s++){var r=n[s];oe(t,r,i[r])}this.observeArray(e)}else this.walk(e)};function Me(e,t){var i;if(H(e)&&!(e instanceof U))return M(e,"__ob__")&&e.__ob__ instanceof Fe?i=e.__ob__:ze&&!me()&&(Array.isArray(e)||F(e))&&Object.isExtensible(e)&&!e._isVue&&(i=new Fe(e)),t&&i&&i.vmCount++,i}function Ee(i,e,n,t,s){var o,r,a,l=new d,c=Object.getOwnPropertyDescriptor(i,e);c&&!1===c.configurable||(o=c&&c.get,r=c&&c.set,o&&!r||2!==arguments.length||(n=i[e]),a=!s&&Me(n),Object.defineProperty(i,e,{enumerable:!0,configurable:!0,get:function(){var e=o?o.call(i):n;return d.target&&(l.depend(),a)&&(a.dep.depend(),Array.isArray(e))&&function e(t){for(var i=void 0,n=0,s=t.length;n<s;n++)(i=t[n])&&i.__ob__&&i.__ob__.dep.depend(),Array.isArray(i)&&e(i)}(e),e},set:function(e){var t=o?o.call(i):n;e===t||e!=e&&t!=t||o&&!r||(r?r.call(i,e):n=e,a=!s&&Me(e),l.notify())}}))}function Ie(e,t,i){var n;return Array.isArray(e)&&m(t)?(e.length=Math.max(e.length,t),e.splice(t,1,i)):t in e&&!(t in Object.prototype)?e[t]=i:(n=e.__ob__,e._isVue||n&&n.vmCount||(n?(Ee(n.value,t,i),n.dep.notify()):e[t]=i)),i}function je(e,t){var i;Array.isArray(e)&&m(t)?e.splice(t,1):(i=e.__ob__,e._isVue||i&&i.vmCount||M(e,t)&&(delete e[t],i)&&i.dep.notify())}Fe.prototype.walk=function(e){for(var t=Object.keys(e),i=0;i<t.length;i++)Ee(e,t[i])},Fe.prototype.observeArray=function(e){for(var t=0,i=e.length;t<i;t++)Me(e[t])};var x=v.optionMergeStrategies;function Le(e,t){if(t)for(var i,n,s,o=be?Reflect.ownKeys(t):Object.keys(t),r=0;r<o.length;r++)"__ob__"!==(i=o[r])&&(n=e[i],s=t[i],M(e,i)?n!==s&&F(n)&&F(s)&&Le(n,s):Ie(e,i,s));return e}function Ne(i,n,s){return s?function(){var e="function"==typeof n?n.call(s,s):n,t="function"==typeof i?i.call(s,s):i;return e?Le(e,t):t}:n?i?function(){return Le("function"==typeof n?n.call(this,this):n,"function"==typeof i?i.call(this,this):i)}:n:i}function Re(e,t){t=t?e?e.concat(t):Array.isArray(t)?t:[t]:e;return t&&function(e){for(var t=[],i=0;i<e.length;i++)-1===t.indexOf(e[i])&&t.push(e[i]);return t}(t)}function Pe(e,t,i,n){e=Object.create(e||null);return t?_(e,t):e}x.data=function(e,t,i){return i?Ne(e,t,i):t&&"function"!=typeof t?e:Ne(e,t)},t.forEach(function(e){x[e]=Re}),ne.forEach(function(e){x[e+"s"]=Pe}),x.watch=function(e,t,i,n){if(e===pe&&(e=void 0),!(t=t===pe?void 0:t))return Object.create(e||null);if(!e)return t;var s,o={};for(s in _(o,e),t){var r=o[s],a=t[s];r&&!Array.isArray(r)&&(r=[r]),o[s]=r?r.concat(a):Array.isArray(a)?a:[a]}return o},x.props=x.methods=x.inject=x.computed=function(e,t,i,n){var s;return e?(_(s=Object.create(null),e),t&&_(s,t),s):t},x.provide=Ne;var Be=function(e,t){return void 0===t?e:t};function He(i,n,s){var e=n="function"==typeof n?n.options:n,t=e.props;if(t){var o,r,a={};if(Array.isArray(t))for(o=t.length;o--;)"string"==typeof(r=t[o])&&(a[T(r)]={type:null});else if(F(t))for(var l in t)r=t[l],a[T(l)]=F(r)?r:{type:r};e.props=a}var e=n,c=e.inject;if(c){var d=e.inject={};if(Array.isArray(c))for(var u=0;u<c.length;u++)d[c[u]]={from:c[u]};else if(F(c))for(var h in c){var p=c[h];d[h]=F(p)?_({from:h},p):{from:p}}}var f=n.directives;if(f)for(var m in f){var v=f[m];"function"==typeof v&&(f[m]={bind:v,update:v})}if(!n._base&&(n.extends&&(i=He(i,n.extends,s)),n.mixins))for(var g=0,b=n.mixins.length;g<b;g++)i=He(i,n.mixins[g],s);var y,k={};for(y in i)w(y);for(y in n)M(i,y)||w(y);function w(e){var t=x[e]||Be;k[e]=t(i[e],n[e],s,e)}return k}function Ve(e,t,i){var n;if("string"==typeof i)return M(e=e[t],i)?e[i]:M(e,t=T(i))?e[t]:!M(e,n=S(t))&&(e[i]||e[t])||e[n]}function qe(e,t,i,n){var t=t[e],s=!M(i,e),i=i[e],o=Xe(Boolean,t.type);return-1<o&&(s&&!M(t,"default")?i=!1:""!==i&&i!==G(e)||!((s=Xe(String,t.type))<0||o<s)||(i=!0)),void 0===i&&(i=function(e,t,i){var n;if(M(t,"default"))return n=t.default,e&&e.$options.propsData&&void 0===e.$options.propsData[i]&&void 0!==e._props[i]?e._props[i]:"function"==typeof n&&"Function"!==Ue(t.type)?n.call(e):n}(n,t,e),o=ze,I(!0),Me(i),I(o)),i}var We=/^\s*function (\w+)/;function Ue(e){e=e&&e.toString().match(We);return e?e[1]:""}function Ye(e,t){return Ue(e)===Ue(t)}function Xe(e,t){if(!Array.isArray(t))return Ye(t,e)?0:-1;for(var i=0,n=t.length;i<n;i++)if(Ye(t[i],e))return i;return-1}function Ze(e,t,i){xe();try{if(t)for(var n=t;n=n.$parent;){var s=n.$options.errorCaptured;if(s)for(var o=0;o<s.length;o++)try{if(!1===s[o].call(n,e,t,i))return}catch(e){Ke(e,n,"errorCaptured hook")}}Ke(e,t,i)}finally{$e()}}function Ge(e,t,i,n,s){var o;try{(o=i?e.apply(t,i):e.call(t))&&!o._isVue&&X(o)&&!o._handled&&(o.catch(function(e){return Ze(e,n,s+" (Promise/async)")}),o._handled=!0)}catch(e){Ze(e,n,s)}return o}function Ke(e,t,i){if(v.errorHandler)try{return v.errorHandler.call(null,e,t,i)}catch(t){t!==e&&Je(t)}Je(e)}function Je(e){if(!o&&!ce||"undefined"==typeof console)throw e;console.error(e)}var Qe,et,tt,it,r=!1,nt=[],st=!1;function ot(){st=!1;for(var e=nt.slice(0),t=nt.length=0;t<e.length;t++)e[t]()}function rt(e,t){var i;if(nt.push(function(){if(e)try{e.call(t)}catch(e){Ze(e,t,"nextTick")}else i&&i(t)}),st||(st=!0,et()),!e&&"undefined"!=typeof Promise)return new Promise(function(e){i=e})}"undefined"!=typeof Promise&&ge(Promise)?(Qe=Promise.resolve(),et=function(){Qe.then(ot),he&&setTimeout(E)},r=!0):W||"undefined"==typeof MutationObserver||!ge(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString()?et="undefined"!=typeof setImmediate&&ge(setImmediate)?function(){setImmediate(ot)}:function(){setTimeout(ot,0)}:(tt=1,t=new MutationObserver(ot),it=document.createTextNode(String(tt)),t.observe(it,{characterData:!0}),et=function(){tt=(tt+1)%2,it.data=String(tt)},r=!0);var at=new ke;function lt(e){!function e(t,i){var n,s,o=Array.isArray(t);if(!(!o&&!H(t)||Object.isFrozen(t)||t instanceof U)){if(t.__ob__){var r=t.__ob__.dep.id;if(i.has(r))return;i.add(r)}if(o)for(n=t.length;n--;)e(t[n],i);else for(n=(s=Object.keys(t)).length;n--;)e(t[s[n]],i)}}(e,at),at.clear()}var ct=e(function(e){var t="&"===e.charAt(0),i="~"===(e=t?e.slice(1):e).charAt(0),n="!"===(e=i?e.slice(1):e).charAt(0);return{name:e=n?e.slice(1):e,once:i,capture:n,passive:t}});function dt(e,s){function o(){var e=arguments,t=o.fns;if(!Array.isArray(t))return Ge(t,null,arguments,s,"v-on handler");for(var i=t.slice(),n=0;n<i.length;n++)Ge(i[n],null,e,s,"v-on handler")}return o.fns=e,o}function ut(e,t,i,n,s,o){var r,a,l,c;for(r in e)a=e[r],l=t[r],c=ct(r),R(a)||(R(l)?(R(a.fns)&&(a=e[r]=dt(a,o)),B(c.once)&&(a=e[r]=s(c.name,a,c.capture)),i(c.name,a,c.capture,c.passive,c.params)):a!==l&&(l.fns=a,e[r]=l));for(r in t)R(e[r])&&n((c=ct(r)).name,t[r],c.capture)}function ht(e,t,i){var n,s=(e=e instanceof U?e.data.hook||(e.data.hook={}):e)[t];function o(){i.apply(this,arguments),V(n.fns,o)}R(s)?n=dt([o]):P(s.fns)&&B(s.merged)?(n=s).fns.push(o):n=dt([s,o]),n.merged=!0,e[t]=n}function pt(e,t,i,n,s){if(P(t)){if(M(t,i))return e[i]=t[i],s||delete t[i],1;if(M(t,n))return e[i]=t[n],s||delete t[n],1}}function ft(e){return y(e)?[Ce(e)]:Array.isArray(e)?function e(t,i){for(var n,s,o,r=[],a=0;a<t.length;a++)R(n=t[a])||"boolean"==typeof n||(o=r[s=r.length-1],Array.isArray(n)?0<n.length&&(mt((n=e(n,(i||"")+"_"+a))[0])&&mt(o)&&(r[s]=Ce(o.text+n[0].text),n.shift()),r.push.apply(r,n)):y(n)?mt(o)?r[s]=Ce(o.text+n):""!==n&&r.push(Ce(n)):mt(n)&&mt(o)?r[s]=Ce(o.text+n.text):(B(t._isVList)&&P(n.tag)&&R(n.key)&&P(i)&&(n.key="__vlist"+i+"_"+a+"__"),r.push(n)));return r}(e):void 0}function mt(e){return P(e)&&P(e.text)&&!1===e.isComment}function vt(e,t){if(e){for(var i=Object.create(null),n=be?Reflect.ownKeys(e):Object.keys(e),s=0;s<n.length;s++){var o=n[s];if("__ob__"!==o){for(var r,a=e[o].from,l=t;l;){if(l._provided&&M(l._provided,a)){i[o]=l._provided[a];break}l=l.$parent}!l&&"default"in e[o]&&(r=e[o].default,i[o]="function"==typeof r?r.call(t):r)}}return i}}function gt(e,t){if(!e||!e.length)return{};for(var i,n={},s=0,o=e.length;s<o;s++){var r=e[s],a=r.data;a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,r.context!==t&&r.fnContext!==t||!a||null==a.slot?(n.default||(n.default=[])).push(r):(a=n[a=a.slot]||(n[a]=[]),"template"===r.tag?a.push.apply(a,r.children||[]):a.push(r))}for(i in n)n[i].every(bt)&&delete n[i];return n}function bt(e){return e.isComment&&!e.asyncFactory||" "===e.text}function yt(e){return e.isComment&&e.asyncFactory}function kt(e,t,i){var n,s,o=0<Object.keys(t).length,r=e?!!e.$stable:!o,a=e&&e.$key;if(e){if(e._normalized)return e._normalized;if(r&&i&&i!==N&&a===i.$key&&!o&&!i.$hasNormal)return i;for(var l in n={},e)e[l]&&"$"!==l[0]&&(n[l]=function(e,t,i){function n(){var e=arguments.length?i.apply(null,arguments):i({}),t=(e=e&&"object"==typeof e&&!Array.isArray(e)?[e]:ft(e))&&e[0];return e&&(!t||1===e.length&&t.isComment&&!yt(t))?void 0:e}return i.proxy&&Object.defineProperty(e,t,{get:n,enumerable:!0,configurable:!0}),n}(t,l,e[l]))}else n={};for(s in t)s in n||(n[s]=function(e,t){return function(){return e[t]}}(t,s));return e&&Object.isExtensible(e)&&(e._normalized=n),oe(n,"$stable",r),oe(n,"$key",a),oe(n,"$hasNormal",o),n}function wt(e,t){var i,n,s,o;if(Array.isArray(e)||"string"==typeof e)for(r=new Array(e.length),i=0,n=e.length;i<n;i++)r[i]=t(e[i],i);else if("number"==typeof e)for(r=new Array(e),i=0;i<e;i++)r[i]=t(i+1,i);else if(H(e))if(be&&e[Symbol.iterator])for(var r=[],a=e[Symbol.iterator](),l=a.next();!l.done;)r.push(t(l.value,r.length)),l=a.next();else for(s=Object.keys(e),r=new Array(s.length),i=0,n=s.length;i<n;i++)o=s[i],r[i]=t(e[o],o,i);return(r=P(r)?r:[])._isVList=!0,r}function _t(e,t,i,n){var s=this.$scopedSlots[e],s=s?(i=i||{},s(i=n?_(_({},n),i):i)||("function"==typeof t?t():t)):this.$slots[e]||("function"==typeof t?t():t),n=i&&i.slot;return n?this.$createElement("template",{slot:n},s):s}function xt(e){return Ve(this.$options,"filters",e)||J}function $t(e,t){return Array.isArray(e)?-1===e.indexOf(t):e!==t}function St(e,t,i,n,s){i=v.keyCodes[t]||i;return s&&n&&!v.keyCodes[t]?$t(s,n):i?$t(i,e):n?G(n)!==t:void 0===e}function Ct(n,s,o,r,a){if(o&&H(o)){var l,e;for(e in o=Array.isArray(o)?z(o):o)!function(t){l="class"===t||"style"===t||k(t)?n:(e=n.attrs&&n.attrs.type,r||v.mustUseProp(s,e,t)?n.domProps||(n.domProps={}):n.attrs||(n.attrs={}));var e=T(t),i=G(t);e in l||i in l||(l[t]=o[t],a&&((n.on||(n.on={}))["update:"+t]=function(e){o[t]=e}))}(e)}return n}function Tt(e,t){var i=this._staticTrees||(this._staticTrees=[]),n=i[e];return n&&!t||Ot(n=i[e]=this.$options.staticRenderFns[e].call(this._renderProxy,null,this),"__static__"+e,!1),n}function At(e,t,i){return Ot(e,"__once__"+t+(i?"_"+i:""),!0),e}function Ot(e,t,i){if(Array.isArray(e))for(var n=0;n<e.length;n++)e[n]&&"string"!=typeof e[n]&&Dt(e[n],t+"_"+n,i);else Dt(e,t,i)}function Dt(e,t,i){e.isStatic=!0,e.key=t,e.isOnce=i}function zt(e,t){if(t&&F(t)){var i,n=e.on=e.on?_({},e.on):{};for(i in t){var s=n[i],o=t[i];n[i]=s?[].concat(s,o):o}}return e}function Ft(e,t,i,n){t=t||{$stable:!i};for(var s=0;s<e.length;s++){var o=e[s];Array.isArray(o)?Ft(o,t,i):o&&(o.proxy&&(o.fn.proxy=!0),t[o.key]=o.fn)}return n&&(t.$key=n),t}function Mt(e,t){for(var i=0;i<t.length;i+=2){var n=t[i];"string"==typeof n&&n&&(e[t[i]]=t[i+1])}return e}function Et(e,t){return"string"==typeof e?t+e:e}function It(e){e._o=At,e._n=Z,e._s=g,e._l=wt,e._t=_t,e._q=Q,e._i=ee,e._m=Tt,e._f=xt,e._k=St,e._b=Ct,e._v=Ce,e._e=Se,e._u=Ft,e._g=zt,e._d=Mt,e._p=Et}function jt(e,t,i,s,n){var o,r=this,a=n.options,n=(M(s,"_uid")?(o=Object.create(s))._original=s:s=(o=s)._original,B(a._compiled)),l=!n;this.data=e,this.props=t,this.children=i,this.parent=s,this.listeners=e.on||N,this.injections=vt(a.inject,s),this.slots=function(){return r.$slots||kt(e.scopedSlots,r.$slots=gt(i,s)),r.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return kt(e.scopedSlots,this.slots())}}),n&&(this.$options=a,this.$slots=this.slots(),this.$scopedSlots=kt(e.scopedSlots,this.$slots)),a._scopeId?this._c=function(e,t,i,n){e=qt(o,e,t,i,n,l);return e&&!Array.isArray(e)&&(e.fnScopeId=a._scopeId,e.fnContext=s),e}:this._c=function(e,t,i,n){return qt(o,e,t,i,n,l)}}function Lt(e,t,i,n){e=Te(e);return e.fnContext=i,e.fnOptions=n,t.slot&&((e.data||(e.data={})).slot=t.slot),e}function Nt(e,t){for(var i in t)e[T(i)]=t[i]}It(jt.prototype);var Rt={init:function(e,t){var i,n,s;e.componentInstance&&!e.componentInstance._isDestroyed&&e.data.keepAlive?Rt.prepatch(e,e):(e.componentInstance=(n={_isComponent:!0,_parentVnode:i=e,parent:Qt},P(s=i.data.inlineTemplate)&&(n.render=s.render,n.staticRenderFns=s.staticRenderFns),new i.componentOptions.Ctor(n))).$mount(t?e.elm:void 0,t)},prepatch:function(e,t){var i=t.componentOptions,n=t.componentInstance=e.componentInstance,s=i.propsData,e=i.listeners,i=i.children,o=t.data.scopedSlots,r=n.$scopedSlots,r=!!(o&&!o.$stable||r!==N&&!r.$stable||o&&n.$scopedSlots.$key!==o.$key||!o&&n.$scopedSlots.$key),o=!!(i||n.$options._renderChildren||r);if(n.$options._parentVnode=t,n.$vnode=t,n._vnode&&(n._vnode.parent=t),n.$options._renderChildren=i,n.$attrs=t.data.attrs||N,n.$listeners=e||N,s&&n.$options.props){I(!1);for(var a=n._props,l=n.$options._propKeys||[],c=0;c<l.length;c++){var d=l[c],u=n.$options.props;a[d]=qe(d,u,s,n)}I(!0),n.$options.propsData=s}e=e||N,r=n.$options._parentListeners,n.$options._parentListeners=e,Jt(n,e,r),o&&(n.$slots=gt(i,t.context),n.$forceUpdate())},insert:function(e){var t=e.context,i=e.componentInstance;i._isMounted||(i._isMounted=!0,u(i,"mounted")),e.data.keepAlive&&(t._isMounted?(i._inactive=!1,si.push(i)):ii(i,!0))},destroy:function(e){var t=e.componentInstance;t._isDestroyed||(e.data.keepAlive?function e(t,i){if(!(i&&(t._directInactive=!0,ti(t))||t._inactive)){t._inactive=!0;for(var n=0;n<t.$children.length;n++)e(t.$children[n]);u(t,"deactivated")}}(t,!0):t.$destroy())}},Pt=Object.keys(Rt);function Bt(a,e,t,i,n){if(!R(a)){var s,o=t.$options._base;if("function"==typeof(a=H(a)?o.extend(a):a)){if(R(a.cid)&&void 0===(C=s=a,T=o,a=B(C.error)&&P(C.errorComp)?C.errorComp:P(C.resolved)?C.resolved:((A=Ut)&&P(C.owners)&&-1===C.owners.indexOf(A)&&C.owners.push(A),B(C.loading)&&P(C.loadingComp)?C.loadingComp:A&&!P(C.owners)?(O=C.owners=[A],D=!0,F=z=null,A.$on("hook:destroyed",function(){return V(O,A)}),M=function(e){for(var t=0,i=O.length;t<i;t++)O[t].$forceUpdate();e&&(O.length=0,null!==z&&(clearTimeout(z),z=null),null!==F)&&(clearTimeout(F),F=null)},o=te(function(e){C.resolved=Yt(e,T),D?O.length=0:M(!0)}),E=te(function(e){P(C.errorComp)&&(C.error=!0,M(!0))}),H(I=C(o,E))&&(X(I)?R(C.resolved)&&I.then(o,E):X(I.component)&&(I.component.then(o,E),P(I.error)&&(C.errorComp=Yt(I.error,T)),P(I.loading)&&(C.loadingComp=Yt(I.loading,T),0===I.delay?C.loading=!0:z=setTimeout(function(){z=null,R(C.resolved)&&R(C.error)&&(C.loading=!0,M(!1))},I.delay||200)),P(I.timeout))&&(F=setTimeout(function(){F=null,R(C.resolved)&&E(null)},I.timeout))),D=!1,C.loading?C.loadingComp:C.resolved):void 0)))return o=s,I=e,_=t,x=i,$=n,(S=Se()).asyncFactory=o,S.asyncMeta={data:I,context:_,children:x,tag:$},S;e=e||{},xi(a),P(e.model)&&(o=a.options,_=e,x=o.model&&o.model.prop||"value",o=o.model&&o.model.event||"input",(_.attrs||(_.attrs={}))[x]=_.model.value,x=_.on||(_.on={}),$=x[o],_=_.model.callback,P($)?(Array.isArray($)?-1===$.indexOf(_):$!==_)&&(x[o]=[_].concat($)):x[o]=_);S=function(e){var t=a.options.props;if(!R(t)){var i={},n=e.attrs,s=e.props;if(P(n)||P(s))for(var o in t){var r=G(o);pt(i,s,o,r,!0)||pt(i,n,o,r,!1)}return i}}(e);if(!B(a.options.functional)){for(var o=e.on,r=(e.on=e.nativeOn,B(a.options.abstract)&&(r=e.slot,e={},r)&&(e.slot=r),e),l=r.hook||(r.hook={}),c=0;c<Pt.length;c++){var d=Pt[c],u=l[d],h=Rt[d];u===h||u&&u._merged||(l[d]=u?function(i,n){function e(e,t){i(e,t),n(e,t)}return e._merged=!0,e}(h,u):h)}var p=a.options.name||n;return new U("vue-component-"+a.cid+(p?"-"+p:""),e,void 0,void 0,void 0,t,{Ctor:a,propsData:S,listeners:o,tag:n,children:i},s)}var p=a,j=S,f=e,o=t,n=i,m=p.options,v={},g=m.props;if(P(g))for(var b in g)v[b]=qe(b,g,j||N);else P(f.attrs)&&Nt(v,f.attrs),P(f.props)&&Nt(v,f.props);var y=new jt(f,v,n,o,p);if((n=m.render.call(null,y._c,y))instanceof U)return Lt(n,f,y.parent,m);if(Array.isArray(n)){for(var k=ft(n)||[],L=new Array(k.length),w=0;w<k.length;w++)L[w]=Lt(k[w],f,y.parent,m);return L}}}var _,x,$,S,C,T,A,O,D,z,F,M,E,I}var Ht=1,Vt=2;function qt(e,t,i,n,s,o){return(Array.isArray(i)||y(i))&&(s=n,n=i,i=void 0),B(o)&&(s=Vt),o=e,e=t,t=n,n=s,(!P(s=i)||!P(s.__ob__))&&(e=P(s)&&P(s.is)?s.is:e)?(Array.isArray(t)&&"function"==typeof t[0]&&((s=s||{}).scopedSlots={default:t[0]},t.length=0),n===Vt?t=ft(t):n===Ht&&(t=function(e){for(var t=0;t<e.length;t++)if(Array.isArray(e[t]))return Array.prototype.concat.apply([],e);return e}(t)),n="string"==typeof e?(r=o.$vnode&&o.$vnode.ns||v.getTagNamespace(e),v.isReservedTag(e)?new U(v.parsePlatformTagName(e),s,t,void 0,void 0,o):s&&s.pre||!P(n=Ve(o.$options,"components",e))?new U(e,s,t,void 0,void 0,o):Bt(n,s,o,t,e)):Bt(e,s,o,t),Array.isArray(n)?n:P(n)?(P(r)&&function e(t,i,n){if(t.ns=i,"foreignObject"===t.tag&&(n=!(i=void 0)),P(t.children))for(var s=0,o=t.children.length;s<o;s++){var r=t.children[s];P(r.tag)&&(R(r.ns)||B(n)&&"svg"!==r.tag)&&e(r,i,n)}}(n,r),P(s)&&(H((e=s).style)&&lt(e.style),H(e.class)&&lt(e.class)),n):Se()):Se();var r}var Wt,Ut=null;function Yt(e,t){return H(e=e.__esModule||be&&"Module"===e[Symbol.toStringTag]?e.default:e)?t.extend(e):e}function Xt(e){if(Array.isArray(e))for(var t=0;t<e.length;t++){var i=e[t];if(P(i)&&(P(i.componentOptions)||yt(i)))return i}}function Zt(e,t){Wt.$on(e,t)}function Gt(e,t){Wt.$off(e,t)}function Kt(t,i){var n=Wt;return function e(){null!==i.apply(null,arguments)&&n.$off(t,e)}}function Jt(e,t,i){ut(t,i||{},Zt,Gt,Kt,Wt=e),Wt=void 0}var Qt=null;function ei(e){var t=Qt;return Qt=e,function(){Qt=t}}function ti(e){for(;e=e&&e.$parent;)if(e._inactive)return 1}function ii(e,t){if(t){if(e._directInactive=!1,ti(e))return}else if(e._directInactive)return;if(e._inactive||null===e._inactive){e._inactive=!1;for(var i=0;i<e.$children.length;i++)ii(e.$children[i]);u(e,"activated")}}function u(e,t){xe();var i=e.$options[t],n=t+" hook";if(i)for(var s=0,o=i.length;s<o;s++)Ge(i[s],e,null,e,n);e._hasHookEvent&&e.$emit("hook:"+t),$e()}var ni,h=[],si=[],oi={},ri=!1,ai=!1,li=0,ci=0,di=Date.now;function ui(){var e,t;for(ci=di(),ai=!0,h.sort(function(e,t){return e.id-t.id}),li=0;li<h.length;li++)(e=h[li]).before&&e.before(),t=e.id,oi[t]=null,e.run();for(var i=si.slice(),n=h.slice(),s=(li=h.length=si.length=0,ri=ai=!(oi={}),i),o=0;o<s.length;o++)s[o]._inactive=!0,ii(s[o],!0);for(var r=n,a=r.length;a--;){var l=r[a],c=l.vm;c._watcher===l&&c._isMounted&&!c._isDestroyed&&u(c,"updated")}ve&&v.devtools&&ve.emit("flush")}o&&!W&&(ni=window.performance)&&"function"==typeof ni.now&&di()>document.createEvent("Event").timeStamp&&(di=function(){return ni.now()});function j(e,t,i,n,s){this.vm=e,s&&(e._watcher=this),e._watchers.push(this),n?(this.deep=!!n.deep,this.user=!!n.user,this.lazy=!!n.lazy,this.sync=!!n.sync,this.before=n.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=i,this.id=++hi,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new ke,this.newDepIds=new ke,this.expression="","function"==typeof t?this.getter=t:(this.getter=function(e){var i;if(!ae.test(e))return i=e.split("."),function(e){for(var t=0;t<i.length;t++){if(!e)return;e=e[i[t]]}return e}}(t),this.getter||(this.getter=E)),this.value=this.lazy?void 0:this.get()}var hi=0,pi=(j.prototype.get=function(){xe(this);var e,t=this.vm;try{e=this.getter.call(t,t)}catch(e){if(!this.user)throw e;Ze(e,t,'getter for watcher "'+this.expression+'"')}finally{this.deep&&lt(e),$e(),this.cleanupDeps()}return e},j.prototype.addDep=function(e){var t=e.id;this.newDepIds.has(t)||(this.newDepIds.add(t),this.newDeps.push(e),this.depIds.has(t))||e.addSub(this)},j.prototype.cleanupDeps=function(){for(var e=this.deps.length;e--;){var t=this.deps[e];this.newDepIds.has(t.id)||t.removeSub(this)}var i=this.depIds;this.depIds=this.newDepIds,this.newDepIds=i,this.newDepIds.clear(),i=this.deps,this.deps=this.newDeps,this.newDeps=i,this.newDeps.length=0},j.prototype.update=function(){if(this.lazy)this.dirty=!0;else if(this.sync)this.run();else{var e=this,t=e.id;if(null==oi[t]){if(oi[t]=!0,ai){for(var i=h.length-1;li<i&&h[i].id>e.id;)i--;h.splice(i+1,0,e)}else h.push(e);ri||(ri=!0,rt(ui))}}},j.prototype.run=function(){var e,t,i;this.active&&((e=this.get())!==this.value||H(e)||this.deep)&&(t=this.value,this.value=e,this.user?(i='callback for watcher "'+this.expression+'"',Ge(this.cb,this.vm,[e,t],this.vm,i)):this.cb.call(this.vm,e,t))},j.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},j.prototype.depend=function(){for(var e=this.deps.length;e--;)this.deps[e].depend()},j.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||V(this.vm._watchers,this);for(var e=this.deps.length;e--;)this.deps[e].removeSub(this);this.active=!1}},{enumerable:!0,configurable:!0,get:E,set:E});function fi(e,t,i){pi.get=function(){return this[t][i]},pi.set=function(e){this[t][i]=e},Object.defineProperty(e,i,pi)}function mi(e){e._watchers=[];var t=e.$options;if(t.props){var i=e,n=t.props,s,o,r,a=i.$options.propsData||{},l=i._props={},c=i.$options._propKeys=[];for(s in i.$parent&&I(!1),n)o=s,r=void 0,c.push(o),r=qe(o,n,a,i),Ee(l,o,r),o in i||fi(i,"_props",o);I(!0)}if(t.methods){var d=e,u=t.methods,h;for(h in d.$options.props,u)d[h]="function"!=typeof u[h]?E:K(u[h],d)}if(t.data){for(var p=e,f,m=p.$options.data,v=(F(m=p._data="function"==typeof m?function(e,t){xe();try{return e.call(t,t)}catch(e){return Ze(e,t,"data()"),{}}finally{$e()}}(m,p):m||{})||(m={}),Object.keys(m)),g=p.$options.props,b=(p.$options.methods,v.length);b--;){var y=v[b];g&&M(g,y)||36!==(f=(y+"").charCodeAt(0))&&95!==f&&fi(p,"_data",y)}Me(m,!0)}else Me(e._data={},!0);if(t.computed){var k=e,w=t.computed,_,x=k._computedWatchers=Object.create(null),$=me();for(_ in w){var S=w[_],C="function"==typeof S?S:S.get;$||(x[_]=new j(k,C||E,E,vi)),_ in k||gi(k,_,S)}}if(t.watch&&t.watch!==pe){var T,A=e,O=t.watch;for(T in O){var D=O[T];if(Array.isArray(D))for(var z=0;z<D.length;z++)ki(A,T,D[z]);else ki(A,T,D)}}}var vi={lazy:!0};function gi(e,t,i){var n=!me();"function"==typeof i?(pi.get=n?bi(t):yi(i),pi.set=E):(pi.get=i.get?n&&!1!==i.cache?bi(t):yi(i.get):E,pi.set=i.set||E),Object.defineProperty(e,t,pi)}function bi(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),d.target&&e.depend(),e.value}}function yi(e){return function(){return e.call(this,this)}}function ki(e,t,i,n){return"string"==typeof(i=F(i)?(n=i).handler:i)&&(i=e[i]),e.$watch(t,i,n)}var wi,_i=0;function xi(s){var e,t,i=s.options;return s.super&&(e=xi(s.super))!==s.superOptions&&(s.superOptions=e,(t=function(){var e,t,i=s.options,n=s.sealedOptions;for(t in i)i[t]!==n[t]&&(e=e||{},e[t]=i[t]);return e}())&&_(s.extendOptions,t),(i=s.options=He(e,s.extendOptions)).name)&&(i.components[i.name]=s),i}function a(e){this._init(e)}function $i(e){e.cid=0;var u=1;e.extend=function(e){var t=this,i=t.cid,n=(e=e||{})._Ctor||(e._Ctor={});if(n[i])return n[i];function s(e){this._init(e)}var o=e.name||t.options.name;if(((s.prototype=Object.create(t.prototype)).constructor=s).cid=u++,s.options=He(t.options,e),s.super=t,s.options.props){var r=s,a;for(a in r.options.props)fi(r.prototype,"_props",a)}if(s.options.computed){var l=s,c,d=l.options.computed;for(c in d)gi(l.prototype,c,d[c])}return s.extend=t.extend,s.mixin=t.mixin,s.use=t.use,ne.forEach(function(e){s[e]=t[e]}),o&&(s.options.components[o]=s),s.superOptions=t.options,s.extendOptions=e,s.sealedOptions=_({},s.options),n[i]=s}}function Si(e){return e&&(e.Ctor.options.name||e.tag)}function Ci(e,t){return Array.isArray(e)?-1<e.indexOf(t):"string"==typeof e?-1<e.split(",").indexOf(t):"[object RegExp]"===f.call(e)&&e.test(t)}function Ti(e,t){var i,n=e.cache,s=e.keys,o=e._vnode;for(i in n){var r=n[i];r&&(r=r.name)&&!t(r)&&Ai(n,i,s,o)}}function Ai(e,t,i,n){var s=e[t];!s||n&&s.tag===n.tag||s.componentInstance.$destroy(),e[t]=null,V(i,t)}a.prototype._init=function(e){var t,i,s,n,o,r,a=this,l=(a._uid=_i++,a._isVue=!0,e&&e._isComponent?(r=e,c=(c=a).$options=Object.create(c.constructor.options),l=r._parentVnode,c.parent=r.parent,l=(c._parentVnode=l).componentOptions,c.propsData=l.propsData,c._parentListeners=l.listeners,c._renderChildren=l.children,c._componentTag=l.tag,r.render&&(c.render=r.render,c.staticRenderFns=r.staticRenderFns)):a.$options=He(xi(a.constructor),e||{},a),(a._renderProxy=a)._self=a),c=l.$options,d=c.parent;if(d&&!c.abstract){for(;d.$options.abstract&&d.$parent;)d=d.$parent;d.$children.push(l)}l.$parent=d,l.$root=d?d.$root:l,l.$children=[],l.$refs={},l._watcher=null,l._inactive=null,l._directInactive=!1,l._isMounted=!1,l._isDestroyed=!1,l._isBeingDestroyed=!1,(r=a)._events=Object.create(null),r._hasHookEvent=!1,(e=r.$options._parentListeners)&&Jt(r,e),(s=a)._vnode=null,s._staticTrees=null,e=s.$options,n=s.$vnode=e._parentVnode,o=n&&n.context,s.$slots=gt(e._renderChildren,o),s.$scopedSlots=N,s._c=function(e,t,i,n){return qt(s,e,t,i,n,!1)},s.$createElement=function(e,t,i,n){return qt(s,e,t,i,n,!0)},o=n&&n.data,Ee(s,"$attrs",o&&o.attrs||N,null,!0),Ee(s,"$listeners",e._parentListeners||N,null,!0),u(a,"beforeCreate"),(i=vt((t=a).$options.inject,t))&&(I(!1),Object.keys(i).forEach(function(e){Ee(t,e,i[e])}),I(!0)),mi(a),(o=(n=a).$options.provide)&&(n._provided="function"==typeof o?o.call(n):o),u(a,"created"),a.$options.el&&a.$mount(a.$options.el)},t=a,Object.defineProperty(t.prototype,"$data",{get:function(){return this._data}}),Object.defineProperty(t.prototype,"$props",{get:function(){return this._props}}),t.prototype.$set=Ie,t.prototype.$delete=je,t.prototype.$watch=function(e,t,i){if(F(t))return ki(this,e,t,i);(i=i||{}).user=!0;var n=new j(this,e,t,i);return i.immediate&&(e='callback for immediate watcher "'+n.expression+'"',xe(),Ge(t,this,[n.value],this,e),$e()),function(){n.teardown()}},wi=/^hook:/,(t=a).prototype.$on=function(e,t){var i=this;if(Array.isArray(e))for(var n=0,s=e.length;n<s;n++)i.$on(e[n],t);else(i._events[e]||(i._events[e]=[])).push(t),wi.test(e)&&(i._hasHookEvent=!0);return i},t.prototype.$once=function(e,t){var i=this;function n(){i.$off(e,n),t.apply(i,arguments)}return n.fn=t,i.$on(e,n),i},t.prototype.$off=function(e,t){var i=this;if(arguments.length)if(Array.isArray(e))for(var n=0,s=e.length;n<s;n++)i.$off(e[n],t);else{var o,r=i._events[e];if(r)if(t){for(var a=r.length;a--;)if((o=r[a])===t||o.fn===t){r.splice(a,1);break}}else i._events[e]=null}else i._events=Object.create(null);return i},t.prototype.$emit=function(e){if(t=this._events[e])for(var t=1<t.length?D(t):t,i=D(arguments,1),n='event handler for "'+e+'"',s=0,o=t.length;s<o;s++)Ge(t[s],this,i,this,n);return this},(t=a).prototype._update=function(e,t){var i=this,n=i.$el,s=i._vnode,o=ei(i);i._vnode=e,i.$el=s?i.__patch__(s,e):i.__patch__(i.$el,e,t,!1),o(),n&&(n.__vue__=null),i.$el&&(i.$el.__vue__=i),i.$vnode&&i.$parent&&i.$vnode===i.$parent._vnode&&(i.$parent.$el=i.$el)},t.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},t.prototype.$destroy=function(){var e=this;if(!e._isBeingDestroyed){u(e,"beforeDestroy"),e._isBeingDestroyed=!0;var t=e.$parent;!t||t._isBeingDestroyed||e.$options.abstract||V(t.$children,e),e._watcher&&e._watcher.teardown();for(var i=e._watchers.length;i--;)e._watchers[i].teardown();e._data.__ob__&&e._data.__ob__.vmCount--,e._isDestroyed=!0,e.__patch__(e._vnode,null),u(e,"destroyed"),e.$off(),e.$el&&(e.$el.__vue__=null),e.$vnode&&(e.$vnode.parent=null)}},It((t=a).prototype),t.prototype.$nextTick=function(e){return rt(e,this)},t.prototype._render=function(){var e,t=this,i=t.$options,n=i.render,s=i._parentVnode;s&&(t.$scopedSlots=kt(s.data.scopedSlots,t.$slots,t.$scopedSlots)),t.$vnode=s;try{Ut=t,e=n.call(t._renderProxy,t.$createElement)}catch(i){Ze(i,t,"render"),e=t._vnode}finally{Ut=null}return(e=(e=Array.isArray(e)&&1===e.length?e[0]:e)instanceof U?e:Se()).parent=s,e};function Oi(e,t,i){return"value"===i&&zi(e)&&"button"!==t||"selected"===i&&"option"===e||"checked"===i&&"input"===e||"muted"===i&&"video"===e}var l,Di,t=[String,RegExp,Array],t={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:t,exclude:t,max:[String,Number]},methods:{cacheVNode:function(){var e,t,i=this.cache,n=this.keys,s=this.vnodeToCache,o=this.keyToCache;s&&(e=s.tag,t=s.componentInstance,s=s.componentOptions,i[o]={name:Si(s),tag:e,componentInstance:t},n.push(o),this.max&&n.length>parseInt(this.max)&&Ai(i,n[0],n,this._vnode),this.vnodeToCache=null)}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var e in this.cache)Ai(this.cache,e,this.keys)},mounted:function(){var e=this;this.cacheVNode(),this.$watch("include",function(t){Ti(e,function(e){return Ci(t,e)})}),this.$watch("exclude",function(t){Ti(e,function(e){return!Ci(t,e)})})},updated:function(){this.cacheVNode()},render:function(){var e=this.$slots.default,t=Xt(e),i=t&&t.componentOptions;if(i){var n=Si(i),s=this.include,o=this.exclude;if(s&&(!n||!Ci(s,n))||o&&n&&Ci(o,n))return t;s=this.cache,o=this.keys,n=null==t.key?i.Ctor.cid+(i.tag?"::"+i.tag:""):t.key;s[n]?(t.componentInstance=s[n].componentInstance,V(o,n),o.push(n)):(this.vnodeToCache=t,this.keyToCache=n),t.data.keepAlive=!0}return t||e&&e[0]}}},n=(l=a,Object.defineProperty(l,"config",{get:function(){return v}}),l.util={warn:n,extend:_,mergeOptions:He,defineReactive:Ee},l.set=Ie,l.delete=je,l.nextTick=rt,l.observable=function(e){return Me(e),e},l.options=Object.create(null),ne.forEach(function(e){l.options[e+"s"]=Object.create(null)}),_((l.options._base=l).options.components,t),l.use=function(e){var t,i=this._installedPlugins||(this._installedPlugins=[]);return-1<i.indexOf(e)||((t=D(arguments,1)).unshift(this),"function"==typeof e.install?e.install.apply(e,t):"function"==typeof e&&e.apply(null,t),i.push(e)),this},l.mixin=function(e){return this.options=He(this.options,e),this},$i(l),Di=l,ne.forEach(function(i){Di[i]=function(e,t){return t?("component"===i&&F(t)&&(t.name=t.name||e,t=this.options._base.extend(t)),this.options[i+"s"][e]=t="directive"===i&&"function"==typeof t?{bind:t,update:t}:t):this.options[i+"s"][e]}}),Object.defineProperty(a.prototype,"$isServer",{get:me}),Object.defineProperty(a.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(a,"FunctionalRenderContext",{value:jt}),a.version="2.6.14",s("style,class")),zi=s("input,textarea,option,select,progress"),Fi=s("contenteditable,draggable,spellcheck"),Mi=s("events,caret,typing,plaintext-only"),Ei=function(e,t){return Ri(t)||"false"===t?"false":"contenteditable"===e&&Mi(t)?t:"true"},Ii=s("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),ji="http://www.w3.org/1999/xlink",Li=function(e){return":"===e.charAt(5)&&"xlink"===e.slice(0,5)},Ni=function(e){return Li(e)?e.slice(6,e.length):""},Ri=function(e){return null==e||!1===e};function Pi(e,t){return{staticClass:Bi(e.staticClass,t.staticClass),class:P(e.class)?[e.class,t.class]:t.class}}function Bi(e,t){return e?t?e+" "+t:e:t||""}function Hi(e){if(Array.isArray(e)){for(var t,i=e,n="",s=0,o=i.length;s<o;s++)P(t=Hi(i[s]))&&""!==t&&(n&&(n+=" "),n+=t);return n}if(H(e)){var r,a=e,l="";for(r in a)a[r]&&(l&&(l+=" "),l+=r);return l}return"string"==typeof e?e:""}function Vi(e){return Wi(e)||Ui(e)}var qi={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Wi=s("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Ui=s("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0);function Yi(e){return Ui(e)?"svg":"math"===e?"math":void 0}var Xi=Object.create(null),Zi=s("text,number,password,search,email,tel,url");function Gi(e){return"string"==typeof e?document.querySelector(e)||document.createElement("div"):e}var t=Object.freeze({createElement:function(e,t){var i=document.createElement(e);return"select"!==e||t.data&&t.data.attrs&&void 0!==t.data.attrs.multiple&&i.setAttribute("multiple","multiple"),i},createElementNS:function(e,t){return document.createElementNS(qi[e],t)},createTextNode:function(e){return document.createTextNode(e)},createComment:function(e){return document.createComment(e)},insertBefore:function(e,t,i){e.insertBefore(t,i)},removeChild:function(e,t){e.removeChild(t)},appendChild:function(e,t){e.appendChild(t)},parentNode:function(e){return e.parentNode},nextSibling:function(e){return e.nextSibling},tagName:function(e){return e.tagName},setTextContent:function(e,t){e.textContent=t},setStyleScope:function(e,t){e.setAttribute(t,"")}}),Ki={create:function(e,t){Ji(t)},update:function(e,t){e.data.ref!==t.data.ref&&(Ji(e,!0),Ji(t))},destroy:function(e){Ji(e,!0)}};function Ji(e,t){var i,n,s=e.data.ref;P(s)&&(n=e.context,i=e.componentInstance||e.elm,n=n.$refs,t?Array.isArray(n[s])?V(n[s],i):n[s]===i&&(n[s]=void 0):e.data.refInFor?Array.isArray(n[s])?n[s].indexOf(i)<0&&n[s].push(i):n[s]=[i]:n[s]=i)}var Qi=new U("",{},[]),en=["create","activate","update","remove","destroy"];function tn(e,t){return e.key===t.key&&e.asyncFactory===t.asyncFactory&&(e.tag===t.tag&&e.isComment===t.isComment&&P(e.data)===P(t.data)&&("input"!==e.tag||(i=P(n=e.data)&&P(n=n.attrs)&&n.type)===(n=P(n=t.data)&&P(n=n.attrs)&&n.type)||Zi(i)&&Zi(n))||B(e.isAsyncPlaceholder)&&R(t.asyncFactory.error));var i,n}var nn={create:sn,update:sn,destroy:function(e){sn(e,Qi)}};function sn(e,t){if(e.data.directives||t.data.directives){var i,n,s,o=e,r=t,e=o===Qi,a=r===Qi,l=rn(o.data.directives,o.context),c=rn(r.data.directives,r.context),d=[],u=[];for(i in c)n=l[i],s=c[i],n?(s.oldValue=n.value,s.oldArg=n.arg,an(s,"update",r,o),s.def&&s.def.componentUpdated&&u.push(s)):(an(s,"bind",r,o),s.def&&s.def.inserted&&d.push(s));if(d.length&&(t=function(){for(var e=0;e<d.length;e++)an(d[e],"inserted",r,o)},e?ht(r,"insert",t):t()),u.length&&ht(r,"postpatch",function(){for(var e=0;e<u.length;e++)an(u[e],"componentUpdated",r,o)}),!e)for(i in l)c[i]||an(l[i],"unbind",o,o,a)}}var on=Object.create(null);function rn(e,t){var i,n,s,o=Object.create(null);if(e)for(i=0;i<e.length;i++)(n=e[i]).modifiers||(n.modifiers=on),(o[(s=n).rawName||s.name+"."+Object.keys(s.modifiers||{}).join(".")]=n).def=Ve(t.$options,"directives",n.name);return o}function an(e,t,i,n,s){var o=e.def&&e.def[t];if(o)try{o(i.elm,e,i,n,s)}catch(n){Ze(n,i.context,"directive "+e.name+" "+t+" hook")}}Ki=[Ki,nn];function ln(e,t){var i=t.componentOptions;if(!(P(i)&&!1===i.Ctor.options.inheritAttrs||R(e.data.attrs)&&R(t.data.attrs))){var n,s,o=t.elm,r=e.data.attrs||{},a=t.data.attrs||{};for(n in a=P(a.__ob__)?t.data.attrs=_({},a):a)s=a[n],r[n]!==s&&cn(o,n,s,t.data.pre);for(n in(W||ue)&&a.value!==r.value&&cn(o,"value",a.value),r)R(a[n])&&(Li(n)?o.removeAttributeNS(ji,Ni(n)):Fi(n)||o.removeAttribute(n))}}function cn(e,t,i,n){n||-1<e.tagName.indexOf("-")?dn(e,t,i):Ii(t)?Ri(i)?e.removeAttribute(t):(i="allowfullscreen"===t&&"EMBED"===e.tagName?"true":t,e.setAttribute(t,i)):Fi(t)?e.setAttribute(t,Ei(t,i)):Li(t)?Ri(i)?e.removeAttributeNS(ji,Ni(t)):e.setAttributeNS(ji,t,i):dn(e,t,i)}function dn(t,e,i){var n;Ri(i)?t.removeAttribute(e):(!W||de||"TEXTAREA"!==t.tagName||"placeholder"!==e||""===i||t.__ieph||(t.addEventListener("input",n=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",n)}),t.__ieph=!0),t.setAttribute(e,i))}nn={create:ln,update:ln};function un(e,t){var i=t.elm,n=t.data,e=e.data;R(n.staticClass)&&R(n.class)&&(R(e)||R(e.staticClass)&&R(e.class))||(n=function(e){for(var t,i=e.data,n=e,s=e;P(s.componentInstance);)(s=s.componentInstance._vnode)&&s.data&&(i=Pi(s.data,i));for(;P(n=n.parent);)n&&n.data&&(i=Pi(i,n.data));return e=i.staticClass,t=i.class,P(e)||P(t)?Bi(e,Hi(t)):""}(t),(n=P(e=i._transitionClasses)?Bi(n,Hi(e)):n)!==i._prevClass&&(i.setAttribute("class",n),i._prevClass=n))}var hn,pn,fn,mn,vn,gn,bn={create:un,update:un},yn=/[\w).+\-_$\]]/;function kn(e){for(var t,i,n,s,o,r,a,l,c=!1,d=!1,u=!1,h=!1,p=0,f=0,m=0,v=0,g=0;g<e.length;g++)if(i=t,t=e.charCodeAt(g),c)39===t&&92!==i&&(c=!1);else if(d)34===t&&92!==i&&(d=!1);else if(u)96===t&&92!==i&&(u=!1);else if(h)47===t&&92!==i&&(h=!1);else if(124!==t||124===e.charCodeAt(g+1)||124===e.charCodeAt(g-1)||p||f||m){switch(t){case 34:d=!0;break;case 39:c=!0;break;case 96:u=!0;break;case 40:m++;break;case 41:m--;break;case 91:f++;break;case 93:f--;break;case 123:p++;break;case 125:p--}if(47===t){for(var b=g-1,y=void 0;0<=b&&" "===(y=e.charAt(b));b--);y&&yn.test(y)||(h=!0)}}else void 0===n?(v=g+1,n=e.slice(0,g).trim()):k();function k(){(s=s||[]).push(e.slice(v,g).trim()),v=g+1}if(void 0===n?n=e.slice(0,g).trim():0!==v&&k(),s)for(g=0;g<s.length;g++)o=n,r=s[g],l=a=void 0,n=(l=r.indexOf("("))<0?'_f("'+r+'")('+o+")":(a=r.slice(0,l),r=r.slice(l+1),'_f("'+a+'")('+o+(")"!==r?","+r:r));return n}function wn(e,t){console.error("[Vue compiler]: "+e)}function _n(e,t){return e?e.map(function(e){return e[t]}).filter(function(e){return e}):[]}function xn(e,t,i,n,s){(e.props||(e.props=[])).push(An({name:t,value:i,dynamic:s},n)),e.plain=!1}function $n(e,t,i,n,s){(s?e.dynamicAttrs||(e.dynamicAttrs=[]):e.attrs||(e.attrs=[])).push(An({name:t,value:i,dynamic:s},n)),e.plain=!1}function Sn(e,t,i,n){e.attrsMap[t]=i,e.attrsList.push(An({name:t,value:i},n))}function Cn(e,t,i){return i?"_p("+t+',"'+e+'")':e+t}function A(e,t,i,n,s,o,r,a){(n=n||N).right?a?t="("+t+")==='click'?'contextmenu':("+t+")":"click"===t&&(t="contextmenu",delete n.right):n.middle&&(a?t="("+t+")==='click'?'mouseup':("+t+")":"click"===t&&(t="mouseup")),n.capture&&(delete n.capture,t=Cn("!",t,a)),n.once&&(delete n.once,t=Cn("~",t,a)),n.passive&&(delete n.passive,t=Cn("&",t,a)),l=n.native?(delete n.native,e.nativeEvents||(e.nativeEvents={})):e.events||(e.events={});var l,i=An({value:i.trim(),dynamic:a},r),a=(n!==N&&(i.modifiers=n),l[t]);Array.isArray(a)?s?a.unshift(i):a.push(i):l[t]=a?s?[i,a]:[a,i]:i,e.plain=!1}function O(e,t,i){var n=Y(e,":"+t)||Y(e,"v-bind:"+t);if(null!=n)return kn(n);if(!1!==i){n=Y(e,t);if(null!=n)return JSON.stringify(n)}}function Y(e,t,i){var n;if(null!=(n=e.attrsMap[t]))for(var s=e.attrsList,o=0,r=s.length;o<r;o++)if(s[o].name===t){s.splice(o,1);break}return i&&delete e.attrsMap[t],n}function Tn(e,t){for(var i=e.attrsList,n=0,s=i.length;n<s;n++){var o=i[n];if(t.test(o.name))return i.splice(n,1),o}}function An(e,t){return t&&(null!=t.start&&(e.start=t.start),null!=t.end)&&(e.end=t.end),e}function On(e,t,i){var i=i||{},n=i.number,s="$$v",i=(i.trim&&(s="(typeof $$v === 'string'? $$v.trim(): $$v)"),Dn(t,s=n?"_n("+s+")":s));e.model={value:"("+t+")",expression:JSON.stringify(t),callback:"function ($$v) {"+i+"}"}}function Dn(e,t){var i=function(e){if(e=e.trim(),hn=e.length,e.indexOf("[")<0||e.lastIndexOf("]")<hn-1)return-1<(mn=e.lastIndexOf("."))?{exp:e.slice(0,mn),key:'"'+e.slice(mn+1)+'"'}:{exp:e,key:null};for(pn=e,mn=vn=gn=0;!Fn();)if(Mn(fn=zn()))En(fn);else if(91===fn){t=void 0;i=void 0;var t=fn;var i=1;for(vn=mn;!Fn();)if(Mn(t=zn()))En(t);else if(91===t&&i++,93===t&&i--,0===i){gn=mn;break}}return{exp:e.slice(0,vn),key:e.slice(vn+1,gn)}}(e);return null===i.key?e+"="+t:"$set("+i.exp+", "+i.key+", "+t+")"}function zn(){return pn.charCodeAt(++mn)}function Fn(){return hn<=mn}function Mn(e){return 34===e||39===e}function En(e){for(var t=e;!Fn()&&(e=zn())!==t;);}var In,jn="__r";function Ln(t,i,n){var s=In;return function e(){null!==i.apply(null,arguments)&&Pn(t,e,n,s)}}var Nn=r&&!(i&&Number(i[1])<=53);function Rn(e,t,i,n){var s,o;Nn&&(s=ci,t=(o=t)._wrapper=function(e){if(e.target===e.currentTarget||e.timeStamp>=s||e.timeStamp<=0||e.target.ownerDocument!==document)return o.apply(this,arguments)}),In.addEventListener(e,t,fe?{capture:i,passive:n}:i)}function Pn(e,t,i,n){(n||In).removeEventListener(e,t._wrapper||t,i)}function Bn(e,t){var i,n,s;R(e.data.on)&&R(t.data.on)||(i=t.data.on||{},e=e.data.on||{},In=t.elm,P((n=i).__r)&&(n[s=W?"change":"input"]=[].concat(n.__r,n[s]||[]),delete n.__r),P(n.__c)&&(n.change=[].concat(n.__c,n.change||[]),delete n.__c),ut(i,e,Rn,Pn,Ln,t.context),In=void 0)}var Hn,r={create:Bn,update:Bn};function Vn(e,t){if(!R(e.data.domProps)||!R(t.data.domProps)){var i,n,s=t.elm,o=e.data.domProps||{},r=t.data.domProps||{};for(i in P(r.__ob__)&&(r=t.data.domProps=_({},r)),o)i in r||(s[i]="");for(i in r){if(n=r[i],"textContent"===i||"innerHTML"===i){if(t.children&&(t.children.length=0),n===o[i])continue;1===s.childNodes.length&&s.removeChild(s.childNodes[0])}if("value"===i&&"PROGRESS"!==s.tagName){var a=R(s._value=n)?"":String(n);d=a,(c=s).composing||"OPTION"!==c.tagName&&!function(e,t){var i=!0;try{i=document.activeElement!==e}catch(e){}return i&&e.value!==t}(c,d)&&!function(e){var t=c.value,i=c._vModifiers;if(P(i)){if(i.number)return Z(t)!==Z(e);if(i.trim)return t.trim()!==e.trim()}return t!==e}(d)||(s.value=a)}else if("innerHTML"===i&&Ui(s.tagName)&&R(s.innerHTML)){(Hn=Hn||document.createElement("div")).innerHTML="<svg>"+n+"</svg>";for(var l=Hn.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;l.firstChild;)s.appendChild(l.firstChild)}else if(n!==o[i])try{s[i]=n}catch(e){}}}var c,d}var i={create:Vn,update:Vn},qn=e(function(e){var t={},i=/:(.+)/;return e.split(/;(?![^(]*\))/g).forEach(function(e){e&&1<(e=e.split(i)).length&&(t[e[0].trim()]=e[1].trim())}),t});function Wn(e){var t=Un(e.style);return e.staticStyle?_(e.staticStyle,t):t}function Un(e){return Array.isArray(e)?z(e):"string"==typeof e?qn(e):e}function Yn(e,t,i){if(Zn.test(t))e.style.setProperty(t,i);else if(Gn.test(i))e.style.setProperty(G(t),i.replace(Gn,""),"important");else{var n=Jn(t);if(Array.isArray(i))for(var s=0,o=i.length;s<o;s++)e.style[n]=i[s];else e.style[n]=i}}var Xn,Zn=/^--/,Gn=/\s*!important$/,Kn=["Webkit","Moz","ms"],Jn=e(function(e){if(Xn=Xn||document.createElement("div").style,"filter"!==(e=T(e))&&e in Xn)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),i=0;i<Kn.length;i++){var n=Kn[i]+t;if(n in Xn)return n}});function Qn(e,t){var i=t.data,e=e.data;if(!(R(i.staticStyle)&&R(i.style)&&R(e.staticStyle)&&R(e.style))){var n,s,o=t.elm,i=e.staticStyle,e=e.normalizedStyle||e.style||{},r=i||e,i=Un(t.data.style)||{},a=(t.data.normalizedStyle=P(i.__ob__)?_({},i):i,function(e){for(var t,i={},n=e;n.componentInstance;)(n=n.componentInstance._vnode)&&n.data&&(t=Wn(n.data))&&_(i,t);(t=Wn(e.data))&&_(i,t);for(var s=e;s=s.parent;)s.data&&(t=Wn(s.data))&&_(i,t);return i}(t));for(s in r)R(a[s])&&Yn(o,s,"");for(s in a)(n=a[s])!==r[s]&&Yn(o,s,null==n?"":n)}}var es={create:Qn,update:Qn},ts=/\s+/;function is(t,e){var i;(e=e&&e.trim())&&(t.classList?-1<e.indexOf(" ")?e.split(ts).forEach(function(e){return t.classList.add(e)}):t.classList.add(e):(i=" "+(t.getAttribute("class")||"")+" ").indexOf(" "+e+" ")<0&&t.setAttribute("class",(i+e).trim()))}function ns(t,e){if(e=e&&e.trim())if(t.classList)-1<e.indexOf(" ")?e.split(ts).forEach(function(e){return t.classList.remove(e)}):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{for(var i=" "+(t.getAttribute("class")||"")+" ",n=" "+e+" ";0<=i.indexOf(n);)i=i.replace(n," ");(i=i.trim())?t.setAttribute("class",i):t.removeAttribute("class")}}function ss(e){var t;if(e)return"object"==typeof e?(!(t={})!==e.css&&_(t,os(e.name||"v")),_(t,e),t):"string"==typeof e?os(e):void 0}var os=e(function(e){return{enterClass:e+"-enter",enterToClass:e+"-enter-to",enterActiveClass:e+"-enter-active",leaveClass:e+"-leave",leaveToClass:e+"-leave-to",leaveActiveClass:e+"-leave-active"}}),rs=o&&!de,as="transition",ls="animation",cs="transition",ds="transitionend",us="animation",hs="animationend",ps=(rs&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(cs="WebkitTransition",ds="webkitTransitionEnd"),void 0===window.onanimationend)&&void 0!==window.onwebkitanimationend&&(us="WebkitAnimation",hs="webkitAnimationEnd"),o?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(e){return e()});function fs(e){ps(function(){ps(e)})}function ms(e,t){var i=e._transitionClasses||(e._transitionClasses=[]);i.indexOf(t)<0&&(i.push(t),is(e,t))}function L(e,t){e._transitionClasses&&V(e._transitionClasses,t),ns(e,t)}function vs(t,e,i){var e=bs(t,e),n=e.type,s=e.timeout,o=e.propCount;if(!n)return i();function r(e){e.target===t&&++l>=o&&c()}var a=n===as?ds:hs,l=0,c=function(){t.removeEventListener(a,r),i()};setTimeout(function(){l<o&&c()},s+1),t.addEventListener(a,r)}var gs=/\b(transform|all)(,|$)/;function bs(e,t){var i,e=window.getComputedStyle(e),n=(e[cs+"Delay"]||"").split(", "),s=(e[cs+"Duration"]||"").split(", "),n=ys(n,s),o=(e[us+"Delay"]||"").split(", "),r=(e[us+"Duration"]||"").split(", "),o=ys(o,r),a=0,l=0;return t===as?0<n&&(i=as,a=n,l=s.length):t===ls?0<o&&(i=ls,a=o,l=r.length):l=(i=0<(a=Math.max(n,o))?o<n?as:ls:null)?(i===as?s:r).length:0,{type:i,timeout:a,propCount:l,hasTransform:i===as&&gs.test(e[cs+"Property"])}}function ys(i,e){for(;i.length<e.length;)i=i.concat(i);return Math.max.apply(null,e.map(function(e,t){return ks(e)+ks(i[t])}))}function ks(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function ws(t,e){var i=t.elm,n=(P(i._leaveCb)&&(i._leaveCb.cancelled=!0,i._leaveCb()),ss(t.data.transition));if(!R(n)&&!P(i._enterCb)&&1===i.nodeType){for(var s=n.css,o=n.type,r=n.enterClass,a=n.enterToClass,l=n.enterActiveClass,c=n.appearClass,d=n.appearToClass,u=n.appearActiveClass,h=n.beforeEnter,p=n.enter,f=n.afterEnter,m=n.enterCancelled,v=n.beforeAppear,g=n.appear,b=n.afterAppear,y=n.appearCancelled,n=n.duration,k=Qt,w=Qt.$vnode;w&&w.parent;)k=w.context,w=w.parent;var _,x,$,S,C,T,A,O,D,z,F=!k._isMounted||!t.isRootInsert;F&&!g&&""!==g||(_=F&&c?c:r,x=F&&u?u:l,$=F&&d?d:a,c=F&&v||h,S=F&&"function"==typeof g?g:p,C=F&&b||f,T=F&&y||m,A=Z(H(n)?n.enter:n),O=!1!==s&&!de,D=$s(S),z=i._enterCb=te(function(){O&&(L(i,$),L(i,x)),z.cancelled?(O&&L(i,_),T&&T(i)):C&&C(i),i._enterCb=null}),t.data.show||ht(t,"insert",function(){var e=i.parentNode,e=e&&e._pending&&e._pending[t.key];e&&e.tag===t.tag&&e.elm._leaveCb&&e.elm._leaveCb(),S&&S(i,z)}),c&&c(i),O&&(ms(i,_),ms(i,x),fs(function(){L(i,_),z.cancelled||(ms(i,$),D)||(xs(A)?setTimeout(z,A):vs(i,o,z))})),t.data.show&&(e&&e(),S)&&S(i,z),O)||D||z()}}function _s(e,t){var i,n,s,o,r,a,l,c,d,u,h,p,f,m,v=e.elm,g=(P(v._enterCb)&&(v._enterCb.cancelled=!0,v._enterCb()),ss(e.data.transition));if(R(g)||1!==v.nodeType)return t();function b(){m.cancelled||(!e.data.show&&v.parentNode&&((v.parentNode._pending||(v.parentNode._pending={}))[e.key]=e),a&&a(v),h&&(ms(v,s),ms(v,r),fs(function(){L(v,s),m.cancelled||(ms(v,o),p)||(xs(f)?setTimeout(m,f):vs(v,n,m))})),l&&l(v,m),h)||p||m()}P(v._leaveCb)||(i=g.css,n=g.type,s=g.leaveClass,o=g.leaveToClass,r=g.leaveActiveClass,a=g.beforeLeave,l=g.leave,c=g.afterLeave,d=g.leaveCancelled,u=g.delayLeave,g=g.duration,h=!1!==i&&!de,p=$s(l),f=Z(H(g)?g.leave:g),m=v._leaveCb=te(function(){v.parentNode&&v.parentNode._pending&&(v.parentNode._pending[e.key]=null),h&&(L(v,o),L(v,r)),m.cancelled?(h&&L(v,s),d&&d(v)):(t(),c&&c(v)),v._leaveCb=null}),u?u(b):b())}function xs(e){return"number"==typeof e&&!isNaN(e)}function $s(e){var t;return!R(e)&&(P(t=e.fns)?$s(Array.isArray(t)?t[0]:t):1<(e._length||e.length))}function Ss(e,t){!0!==t.data.show&&ws(t)}var t=function(e){for(var t,S={},i=e.modules,C=e.nodeOps,n=0;n<en.length;++n)for(S[en[n]]=[],t=0;t<i.length;++t)P(i[t][en[n]])&&S[en[n]].push(i[t][en[n]]);function o(e){var t=C.parentNode(e);P(t)&&C.removeChild(t,e)}function T(e,t,i,n,s,o,r){(e=P(e.elm)&&P(o)?o[r]=Te(e):e).isRootInsert=!s,function(e,t,i,n){var s=e.data;if(P(s)){var o=P(e.componentInstance)&&s.keepAlive;if(P(s=s.hook)&&P(s=s.init)&&s(e,!1),P(e.componentInstance)){if(p(e,t),c(i,e.elm,n),B(o)){for(var r,s=e,a=t,o=i,e=n,l=s;l.componentInstance;)if(P(r=(l=l.componentInstance._vnode).data)&&P(r=r.transition)){for(r=0;r<S.activate.length;++r)S.activate[r](Qi,l);a.push(l);break}c(o,s.elm,e)}return 1}}}(e,t,i,n)||(o=e.data,r=e.children,P(s=e.tag)?(e.elm=e.ns?C.createElementNS(e.ns,s):C.createElement(s,e),a(e),f(e,r,t),P(o)&&m(e,t)):B(e.isComment)?e.elm=C.createComment(e.text):e.elm=C.createTextNode(e.text),c(i,e.elm,n))}function p(e,t){P(e.data.pendingInsert)&&(t.push.apply(t,e.data.pendingInsert),e.data.pendingInsert=null),e.elm=e.componentInstance.$el,A(e)?(m(e,t),a(e)):(Ji(e),t.push(e))}function c(e,t,i){P(e)&&(P(i)?C.parentNode(i)===e&&C.insertBefore(e,t,i):C.appendChild(e,t))}function f(e,t,i){if(Array.isArray(t))for(var n=0;n<t.length;++n)T(t[n],i,e.elm,null,!0,t,n);else y(e.text)&&C.appendChild(e.elm,C.createTextNode(String(e.text)))}function A(e){for(;e.componentInstance;)e=e.componentInstance._vnode;return P(e.tag)}function m(e,t){for(var i=0;i<S.create.length;++i)S.create[i](Qi,e);P(n=e.data.hook)&&(P(n.create)&&n.create(Qi,e),P(n.insert))&&t.push(e)}function a(e){var t;if(P(t=e.fnScopeId))C.setStyleScope(e.elm,t);else for(var i=e;i;)P(t=i.context)&&P(t=t.$options._scopeId)&&C.setStyleScope(e.elm,t),i=i.parent;P(t=Qt)&&t!==e.context&&t!==e.fnContext&&P(t=t.$options._scopeId)&&C.setStyleScope(e.elm,t)}function O(e,t,i,n,s,o){for(;n<=s;++n)T(i[n],o,e,t,!1,i,n)}function v(e){var t,i,n=e.data;if(P(n))for(P(t=n.hook)&&P(t=t.destroy)&&t(e),t=0;t<S.destroy.length;++t)S.destroy[t](e);if(P(t=e.children))for(i=0;i<e.children.length;++i)v(e.children[i])}function D(e,t,i){for(;t<=i;++t){var n=e[t];P(n)&&(P(n.tag)?(function e(t,i){if(P(i)||P(t.data)){var n,s=S.remove.length+1;for(P(i)?i.listeners+=s:i=function(e,t){function i(){0==--i.listeners&&o(e)}return i.listeners=t,i}(t.elm,s),P(n=t.componentInstance)&&P(n=n._vnode)&&P(n.data)&&e(n,i),n=0;n<S.remove.length;++n)S.remove[n](t,i);P(n=t.data.hook)&&P(n=n.remove)?n(t,i):i()}else o(t.elm)}(n),v(n)):o(n.elm))}}function z(e,t,i,n,s,o){if(e!==t){n=(t=P(t.elm)&&P(n)?n[s]=Te(t):t).elm=e.elm;if(B(e.isAsyncPlaceholder))P(t.asyncFactory.resolved)?F(e.elm,t,i):t.isAsyncPlaceholder=!0;else if(B(t.isStatic)&&B(e.isStatic)&&t.key===e.key&&(B(t.isCloned)||B(t.isOnce)))t.componentInstance=e.componentInstance;else{var r,s=t.data,a=(P(s)&&P(r=s.hook)&&P(r=r.prepatch)&&r(e,t),e.children),l=t.children;if(P(s)&&A(t)){for(r=0;r<S.update.length;++r)S.update[r](e,t);P(r=s.hook)&&P(r=r.update)&&r(e,t)}if(R(t.text))if(P(a)&&P(l)){if(a!==l){var c=n;var d=a;var u=l;var h=i;for(var p,f,m,v=0,g=0,b=d.length-1,y=d[0],k=d[b],w=u.length-1,_=u[0],x=u[w],$=!o;v<=b&&g<=w;)R(y)?y=d[++v]:R(k)?k=d[--b]:tn(y,_)?(z(y,_,h,u,g),y=d[++v],_=u[++g]):tn(k,x)?(z(k,x,h,u,w),k=d[--b],x=u[--w]):tn(y,x)?(z(y,x,h,u,w),$&&C.insertBefore(c,y.elm,C.nextSibling(k.elm)),y=d[++v],x=u[--w]):_=(tn(k,_)?(z(k,_,h,u,g),$&&C.insertBefore(c,k.elm,y.elm),k=d[--b]):(R(p)&&(p=function(e,t,i){for(var n,s={},o=t;o<=i;++o)P(n=e[o].key)&&(s[n]=o);return s}(d,v,b)),!R(f=P(_.key)?p[_.key]:function(e,t,i,n){for(var s=i;s<n;s++){var o=t[s];if(P(o)&&tn(e,o))return s}}(_,d,v,b))&&tn(m=d[f],_)?(z(m,_,h,u,g),d[f]=void 0,$&&C.insertBefore(c,m.elm,y.elm)):T(_,h,c,y.elm,!1,u,g)),u[++g]);b<v?O(c,R(u[w+1])?null:u[w+1].elm,u,g,w,h):w<g&&D(d,v,b)}}else P(l)?(P(e.text)&&C.setTextContent(n,""),O(n,null,l,0,l.length-1,i)):P(a)?D(a,0,a.length-1):P(e.text)&&C.setTextContent(n,"");else e.text!==t.text&&C.setTextContent(n,t.text);P(s)&&P(r=s.hook)&&P(r=r.postpatch)&&r(e,t)}}}function g(e,t,i){if(B(i)&&P(e.parent))e.parent.data.pendingInsert=t;else for(var n=0;n<t.length;++n)t[n].data.hook.insert(t[n])}var b=s("attrs,class,staticClass,staticStyle,key");function F(e,t,i,n){var s,o=t.tag,r=t.data,a=t.children;if(n=n||r&&r.pre,t.elm=e,B(t.isComment)&&P(t.asyncFactory))t.isAsyncPlaceholder=!0;else if(P(r)&&(P(s=r.hook)&&P(s=s.init)&&s(t,!0),P(s=t.componentInstance)))p(t,i);else if(P(o)){if(P(a))if(e.hasChildNodes())if(P(s=r)&&P(s=s.domProps)&&P(s=s.innerHTML)){if(s!==e.innerHTML)return}else{for(var l=!0,c=e.firstChild,d=0;d<a.length;d++){if(!c||!F(c,a[d],i,n)){l=!1;break}c=c.nextSibling}if(!l||c)return}else f(t,a,i);if(P(r)){var u,h=!1;for(u in r)if(!b(u)){h=!0,m(t,i);break}!h&&r.class&&lt(r.class)}}else e.data!==t.text&&(e.data=t.text);return 1}return function(e,t,i,n){if(!R(t)){var s=!1,o=[];if(R(e))s=!0,T(t,o);else{var r=P(e.nodeType);if(!r&&tn(e,t))z(e,t,o,null,null,n);else{if(r){if(1===e.nodeType&&e.hasAttribute(ie)&&(e.removeAttribute(ie),i=!0),B(i)&&F(e,t,o))return g(t,o,!0),e;n=e,e=new U(C.tagName(n).toLowerCase(),{},[],void 0,n)}r=e.elm,i=C.parentNode(r);if(T(t,o,r._leaveCb?null:i,C.nextSibling(r)),P(t.parent))for(var a=t.parent,l=A(t);a;){for(var c=0;c<S.destroy.length;++c)S.destroy[c](a);if(a.elm=t.elm,l){for(var d=0;d<S.create.length;++d)S.create[d](Qi,a);var u=a.data.hook.insert;if(u.merged)for(var h=1;h<u.fns.length;h++)u.fns[h]()}else Ji(a);a=a.parent}P(i)?D([e],0,0):P(e.tag)&&v(e)}}return g(t,o,s),t.elm}P(e)&&v(e)}}({nodeOps:t,modules:[nn,bn,r,i,es,o?{create:Ss,activate:Ss,remove:function(e,t){!0!==e.data.show?_s(e,t):t()}}:{}].concat(Ki)}),Cs=(de&&document.addEventListener("selectionchange",function(){var e=document.activeElement;e&&e.vmodel&&Ms(e,"input")}),{inserted:function(e,t,i,n){"select"===i.tag?(n.elm&&!n.elm._vOptions?ht(i,"postpatch",function(){Cs.componentUpdated(e,t,i)}):Ts(e,t,i.context),e._vOptions=[].map.call(e.options,Ds)):"textarea"!==i.tag&&!Zi(e.type)||(e._vModifiers=t.modifiers,t.modifiers.lazy)||(e.addEventListener("compositionstart",zs),e.addEventListener("compositionend",Fs),e.addEventListener("change",Fs),de&&(e.vmodel=!0))},componentUpdated:function(e,t,i){var n,s;"select"===i.tag&&(Ts(e,t,i.context),n=e._vOptions,(s=e._vOptions=[].map.call(e.options,Ds)).some(function(e,t){return!Q(e,n[t])}))&&(e.multiple?t.value.some(function(e){return Os(e,s)}):t.value!==t.oldValue&&Os(t.value,s))&&Ms(e,"change")}});function Ts(e,t){As(e,t),(W||ue)&&setTimeout(function(){As(e,t)},0)}function As(e,t){var i=t.value,n=e.multiple;if(!n||Array.isArray(i)){for(var s,o,r=0,a=e.options.length;r<a;r++)if(o=e.options[r],n)s=-1<ee(i,Ds(o)),o.selected!==s&&(o.selected=s);else if(Q(Ds(o),i))return e.selectedIndex!==r&&(e.selectedIndex=r);n||(e.selectedIndex=-1)}}function Os(t,e){return e.every(function(e){return!Q(e,t)})}function Ds(e){return"_value"in e?e._value:e.value}function zs(e){e.target.composing=!0}function Fs(e){e.target.composing&&(e.target.composing=!1,Ms(e.target,"input"))}function Ms(e,t){var i=document.createEvent("HTMLEvents");i.initEvent(t,!0,!0),e.dispatchEvent(i)}function Es(e){return!e.componentInstance||e.data&&e.data.transition?e:Es(e.componentInstance._vnode)}nn={model:Cs,show:{bind:function(e,t,i){var t=t.value,n=(i=Es(i)).data&&i.data.transition,s=e.__vOriginalDisplay="none"===e.style.display?"":e.style.display;t&&n?(i.data.show=!0,ws(i,function(){e.style.display=s})):e.style.display=t?s:"none"},update:function(e,t,i){var n=t.value;!n!=!t.oldValue&&((i=Es(i)).data&&i.data.transition?(i.data.show=!0,n?ws(i,function(){e.style.display=e.__vOriginalDisplay}):_s(i,function(){e.style.display="none"})):e.style.display=n?e.__vOriginalDisplay:"none")},unbind:function(e,t,i,n,s){s||(e.style.display=e.__vOriginalDisplay)}}},bn={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function Is(e){var t=e&&e.componentOptions;return t&&t.Ctor.options.abstract?Is(Xt(t.children)):e}function js(e){var t,i={},n=e.$options;for(t in n.propsData)i[t]=e[t];var s,o=n._parentListeners;for(s in o)i[T(s)]=o[s];return i}function Ls(e,t){if(/\d-keep-alive$/.test(t.tag))return e("keep-alive",{props:t.componentOptions.propsData})}function Ns(e){return e.tag||yt(e)}function Rs(e){return"show"===e.name}r={name:"transition",props:bn,abstract:!0,render:function(e){var t=this,i=this.$slots.default;if(i&&(i=i.filter(Ns)).length){var n=this.mode,i=i[0];if(!function(e){for(;e=e.parent;)if(e.data.transition)return 1}(this.$vnode)){var s=Is(i);if(s){if(this._leaving)return Ls(e,i);var o="__transition-"+this._uid+"-",o=(s.key=null==s.key?s.isComment?o+"comment":o+s.tag:!y(s.key)||0===String(s.key).indexOf(o)?s.key:o+s.key,(s.data||(s.data={})).transition=js(this)),r=this._vnode,a=Is(r);if(s.data.directives&&s.data.directives.some(Rs)&&(s.data.show=!0),a&&a.data&&(a.key!==s.key||a.tag!==s.tag)&&!yt(a)&&(!a.componentInstance||!a.componentInstance._vnode.isComment)){a=a.data.transition=_({},o);if("out-in"===n)return this._leaving=!0,ht(a,"afterLeave",function(){t._leaving=!1,t.$forceUpdate()}),Ls(e,i);if("in-out"===n){if(yt(s))return r;var l,e=function(){l()};ht(o,"afterEnter",e),ht(o,"enterCancelled",e),ht(a,"delayLeave",function(e){l=e})}}}}return i}}},i=_({tag:String,moveClass:String},bn);function Ps(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function Bs(e){e.data.newPos=e.elm.getBoundingClientRect()}function Hs(e){var t=e.data.pos,i=e.data.newPos,n=t.left-i.left,t=t.top-i.top;(n||t)&&(e.data.moved=!0,(i=e.elm.style).transform=i.WebkitTransform="translate("+n+"px,"+t+"px)",i.transitionDuration="0s")}delete i.mode;var Vs,es={Transition:r,TransitionGroup:{props:i,beforeMount:function(){var n=this,s=this._update;this._update=function(e,t){var i=ei(n);n.__patch__(n._vnode,n.kept,!1,!0),n._vnode=n.kept,i(),s.call(n,e,t)}},render:function(e){for(var t=this.tag||this.$vnode.data.tag||"span",i=Object.create(null),n=this.prevChildren=this.children,s=this.$slots.default||[],o=this.children=[],r=js(this),a=0;a<s.length;a++){var l=s[a];l.tag&&null!=l.key&&0!==String(l.key).indexOf("__vlist")&&(o.push(l),((i[l.key]=l).data||(l.data={})).transition=r)}if(n){for(var c=[],d=[],u=0;u<n.length;u++){var h=n[u];h.data.transition=r,h.data.pos=h.elm.getBoundingClientRect(),(i[h.key]?c:d).push(h)}this.kept=e(t,null,c),this.removed=d}return e(t,null,o)},updated:function(){var e=this.prevChildren,n=this.moveClass||(this.name||"v")+"-move";e.length&&this.hasMove(e[0].elm,n)&&(e.forEach(Ps),e.forEach(Bs),e.forEach(Hs),this._reflow=document.body.offsetHeight,e.forEach(function(e){var i;e.data.moved&&(e=(i=e.elm).style,ms(i,n),e.transform=e.WebkitTransform=e.transitionDuration="",i.addEventListener(ds,i._moveCb=function e(t){t&&t.target!==i||t&&!/transform$/.test(t.propertyName)||(i.removeEventListener(ds,e),i._moveCb=null,L(i,n))}))}))},methods:{hasMove:function(e,t){var i;return!!rs&&(this._hasMove||(i=e.cloneNode(),e._transitionClasses&&e._transitionClasses.forEach(function(e){ns(i,e)}),is(i,t),i.style.display="none",this.$el.appendChild(i),e=bs(i),this.$el.removeChild(i),this._hasMove=e.hasTransform))}}}},qs=(a.config.mustUseProp=Oi,a.config.isReservedTag=Vi,a.config.isReservedAttr=n,a.config.getTagNamespace=Yi,a.config.isUnknownElement=function(e){var t;return!o||!Vi(e)&&(e=e.toLowerCase(),null!=Xi[e]?Xi[e]:(t=document.createElement(e),-1<e.indexOf("-")?Xi[e]=t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement:Xi[e]=/HTMLUnknownElement/.test(t.toString())))},_(a.options.directives,nn),_(a.options.components,es),a.prototype.__patch__=o?t:E,a.prototype.$mount=function(e,t){return i=this,e=e=e&&o?Gi(e):void 0,n=t,i.$el=e,i.$options.render||(i.$options.render=Se),u(i,"beforeMount"),new j(i,function(){i._update(i._render(),n)},E,{before:function(){i._isMounted&&!i._isDestroyed&&u(i,"beforeUpdate")}},!0),n=!1,null==i.$vnode&&(i._isMounted=!0,u(i,"mounted")),i;var i,n},o&&setTimeout(function(){v.devtools&&ve&&ve.emit("init",a)},0),/\{\{((?:.|\r?\n)+?)\}\}/g),Ws=/[-.*+?^${}()|[\]\/\\]/g,Us=e(function(e){var t=e[0].replace(Ws,"\\$&"),e=e[1].replace(Ws,"\\$&");return new RegExp(t+"((?:.|\\n)+?)"+e,"g")}),Ki={staticKeys:["staticClass"],transformNode:function(e,t){t.warn;t=Y(e,"class"),t&&(e.staticClass=JSON.stringify(t)),t=O(e,"class",!1);t&&(e.classBinding=t)},genData:function(e){var t="";return e.staticClass&&(t+="staticClass:"+e.staticClass+","),e.classBinding&&(t+="class:"+e.classBinding+","),t}},bn={staticKeys:["staticStyle"],transformNode:function(e,t){t.warn;t=Y(e,"style"),t&&(e.staticStyle=JSON.stringify(qn(t))),t=O(e,"style",!1);t&&(e.styleBinding=t)},genData:function(e){var t="";return e.staticStyle&&(t+="staticStyle:"+e.staticStyle+","),e.styleBinding&&(t+="style:("+e.styleBinding+"),"),t}},r=s("area,base,br,col,embed,frame,hr,img,input,isindex,keygen,link,meta,param,source,track,wbr"),i=s("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source"),Ys=s("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track"),Xs=/^\s*([^\s"'<>\/=]+)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,Zs=/^\s*((?:v-[\w-]+:|@|:|#)\[[^=]+?\][^\s"'<>\/=]*)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,n="[a-zA-Z_][\\-\\.0-9_a-zA-Z"+se.source+"]*",nn="((?:"+n+"\\:)?"+n+")",Gs=new RegExp("^<"+nn),Ks=/^\s*(\/?)>/,Js=new RegExp("^<\\/"+nn+"[^>]*>"),Qs=/^<!DOCTYPE [^>]+>/i,eo=/^<!\--/,to=/^<!\[/,io=s("script,style,textarea",!0),no={},so={"&lt;":"<","&gt;":">","&quot;":'"',"&amp;":"&","&#10;":"\n","&#9;":"\t","&#39;":"'"},oo=/&(?:lt|gt|quot|amp|#39);/g,ro=/&(?:lt|gt|quot|amp|#39|#10|#9);/g,ao=s("pre,textarea",!0),lo=function(e,t){return e&&ao(e)&&"\n"===t[0]};var co,uo,ho,po,fo,mo,vo,go,bo=/^@|^v-on:/,yo=/^v-|^@|^:|^#/,ko=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,wo=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,_o=/^\(|\)$/g,xo=/^\[.*\]$/,$o=/:(.*)$/,So=/^:|^\.|^v-bind:/,Co=/\.[^.\]]+(?=[^\]]*$)/g,To=/^v-slot(:|$)|^#/,Ao=/[\r\n]/,Oo=/[ \f\t\r\n]+/g,Do=e(function(e){return(Vs=Vs||document.createElement("div")).innerHTML=e,Vs.textContent}),zo="_empty_";function Fo(e,t,i){return{type:1,tag:e,attrsList:t,attrsMap:function(e){for(var t={},i=0,n=e.length;i<n;i++)t[e[i].name]=e[i].value;return t}(t),rawAttrsMap:{},parent:i,children:[]}}function Mo(e,h){co=h.warn||wn,mo=h.isPreTag||q,vo=h.mustUseProp||q,go=h.getTagNamespace||q,h.isReservedTag,ho=_n(h.modules,"transformNode"),po=_n(h.modules,"preTransformNode"),fo=_n(h.modules,"postTransformNode"),uo=h.delimiters;var p,f,m=[],r=!1!==h.preserveWhitespace,a=h.whitespace,v=!1,g=!1;function b(e){var t,i;s(e),v||e.processed||(e=Eo(e,h)),m.length||e===p||p.if&&(e.elseif||e.else)&&jo(p,{exp:e.elseif,block:e}),f&&!e.forbidden&&(e.elseif||e.else?(t=e,(i=function(e){for(var t=e.length;t--;){if(1===e[t].type)return e[t];e.pop()}}(f.children))&&i.if&&jo(i,{exp:t.elseif,block:t})):(e.slotScope&&(i=e.slotTarget||'"default"',(f.scopedSlots||(f.scopedSlots={}))[i]=e),f.children.push(e),e.parent=f)),e.children=e.children.filter(function(e){return!e.slotScope}),s(e),e.pre&&(v=!1),mo(e.tag)&&(g=!1);for(var n=0;n<fo.length;n++)fo[n](e,h)}function s(e){if(!g)for(var t;(t=e.children[e.children.length-1])&&3===t.type&&" "===t.text;)e.children.pop()}for(var t,l,o=e,c={warn:co,expectHTML:h.expectHTML,isUnaryTag:h.isUnaryTag,canBeLeftOpenTag:h.canBeLeftOpenTag,shouldDecodeNewlines:h.shouldDecodeNewlines,shouldDecodeNewlinesForHref:h.shouldDecodeNewlinesForHref,shouldKeepComment:h.comments,outputSourceRange:h.outputSourceRange,start:function(e,t,i,n,s){var o=f&&f.ns||go(e),r=Fo(e,t=W&&"svg"===o?function(e){for(var t=[],i=0;i<e.length;i++){var n=e[i];No.test(n.name)||(n.name=n.name.replace(Ro,""),t.push(n))}return t}(t):t,f);o&&(r.ns=o),"style"!==(e=r).tag&&("script"!==e.tag||e.attrsMap.type&&"text/javascript"!==e.attrsMap.type)||me()||(r.forbidden=!0);for(var a=0;a<po.length;a++)r=po[a](r,h)||r;if(v||(null!=Y(t=r,"v-pre")&&(t.pre=!0),r.pre&&(v=!0)),mo(r.tag)&&(g=!0),v){var o,l=(o=r).attrsList,c=l.length;if(c)for(var d=o.attrs=new Array(c),u=0;u<c;u++)d[u]={name:l[u].name,value:JSON.stringify(l[u].value)},null!=l[u].start&&(d[u].start=l[u].start,d[u].end=l[u].end);else o.pre||(o.plain=!0)}else r.processed||(Io(r),(t=Y(e=r,"v-if"))?(e.if=t,jo(e,{exp:t,block:e})):(null!=Y(e,"v-else")&&(e.else=!0),(t=Y(e,"v-else-if"))&&(e.elseif=t)),null!=Y(o=r,"v-once")&&(o.once=!0));p=p||r,i?b(r):(f=r,m.push(r))},end:function(e,t,i){var n=m[m.length-1];--m.length,f=m[m.length-1],b(n)},chars:function(e,t,i){var n,s,o;!f||W&&"textarea"===f.tag&&f.attrsMap.placeholder===e||(o=f.children,(e=g||e.trim()?"script"===f.tag||"style"===f.tag?e:Do(e):o.length?a?"condense"===a&&Ao.test(e)?"":" ":r?" ":"":"")&&(g||"condense"!==a||(e=e.replace(Oo," ")),!v&&" "!==e&&(n=function(e){var t=uo?Us(uo):qs;if(t.test(e)){for(var i,n,s,o=[],r=[],a=t.lastIndex=0;i=t.exec(e);){(n=i.index)>a&&(r.push(s=e.slice(a,n)),o.push(JSON.stringify(s)));var l=kn(i[1].trim());o.push("_s("+l+")"),r.push({"@binding":l}),a=n+i[0].length}return a<e.length&&(r.push(s=e.slice(a)),o.push(JSON.stringify(s))),{expression:o.join("+"),tokens:r}}}(e))?s={type:2,expression:n.expression,tokens:n.tokens,text:e}:" "===e&&o.length&&" "===o[o.length-1].text||(s={type:3,text:e}),s)&&o.push(s))},comment:function(e,t,i){f&&f.children.push({type:3,text:e,isComment:!0})}},d=[],j=c.expectHTML,L=c.isUnaryTag||q,N=c.canBeLeftOpenTag||q,u=0;o;){if(t=o,l&&io(l)){var n=0,y=l.toLowerCase(),i=no[y]||(no[y]=new RegExp("([\\s\\S]*?)(</"+y+"[^>]*>)","i")),i=o.replace(i,function(e,t,i){return n=i.length,io(y)||"noscript"===y||(t=t.replace(/<!\--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g,"$1")),lo(y,t)&&(t=t.slice(1)),c.chars&&c.chars(t),""});u+=o.length-i.length,o=i,I(y,u-n,u)}else{var k=o.indexOf("<");if(0===k){if(eo.test(o)){i=o.indexOf("--\x3e");if(0<=i){c.shouldKeepComment&&c.comment(o.substring(4,i),u,u+i+3),E(i+3);continue}}if(to.test(o)){var w=o.indexOf("]>");if(0<=w){E(w+2);continue}}w=o.match(Qs);if(w){E(w[0].length);continue}var _=o.match(Js);if(_){var x=u;E(_[0].length),I(_[1],x,u);continue}_=function(){var e=o.match(Gs);if(e){var t,i,n={tagName:e[1],attrs:[],start:u};for(E(e[0].length);!(t=o.match(Ks))&&(i=o.match(Zs)||o.match(Xs));)i.start=u,E(i[0].length),i.end=u,n.attrs.push(i);if(t)return n.unarySlash=t[1],E(t[0].length),n.end=u,n}}();if(_){z=D=O=A=T=C=x=S=$=void 0;var $=_,S=$.tagName,x=$.unarySlash;j&&("p"===l&&Ys(S)&&I(l),N(S))&&l===S&&I(S);for(var x=L(S)||!!x,C=$.attrs.length,T=new Array(C),A=0;A<C;A++){var O=$.attrs[A],D=O[3]||O[4]||O[5]||"",z="a"===S&&"href"===O[1]?c.shouldDecodeNewlinesForHref:c.shouldDecodeNewlines;T[A]={name:O[1],value:function(e,t){return t=t?ro:oo,e.replace(t,function(e){return so[e]})}(D,z)}}x||(d.push({tag:S,lowerCasedTag:S.toLowerCase(),attrs:T,start:$.start,end:$.end}),l=S),c.start&&c.start(S,T,x,$.start,$.end),lo(_.tagName,o)&&E(1);continue}}var _=void 0,F=void 0,M=void 0;if(0<=k){for(F=o.slice(k);!(Js.test(F)||Gs.test(F)||eo.test(F)||to.test(F)||(M=F.indexOf("<",1))<0);)k+=M,F=o.slice(k);_=o.substring(0,k)}(_=k<0?o:_)&&E(_.length),c.chars&&_&&c.chars(_,u-_.length,u)}if(o===t){c.chars&&c.chars(o);break}}function E(e){u+=e,o=o.substring(e)}function I(e,t,i){var n,s;if(null==t&&(t=u),null==i&&(i=u),e)for(s=e.toLowerCase(),n=d.length-1;0<=n&&d[n].lowerCasedTag!==s;n--);else n=0;if(0<=n){for(var o=d.length-1;n<=o;o--)c.end&&c.end(d[o].tag,t,i);d.length=n,l=n&&d[n-1].tag}else"br"===s?c.start&&c.start(e,[],!0,t,i):"p"===s&&(c.start&&c.start(e,[],!1,t,i),c.end)&&c.end(e,t,i)}return I(),p}function Eo(e,t){var i,n,s,o,r,a,l,c;(i=O(c=e,"key"))&&(c.key=i),e.plain=!e.key&&!e.scopedSlots&&!e.attrsList.length,(c=O(l=e,"ref"))&&(l.ref=c,l.refInFor=function(){for(var e=l;e;){if(void 0!==e.for)return!0;e=e.parent}return!1}()),"template"===(i=e).tag?(a=Y(i,"scope"),i.slotScope=a||Y(i,"slot-scope")):(a=Y(i,"slot-scope"))&&(i.slotScope=a),(a=O(i,"slot"))&&(i.slotTarget='""'===a?'"default"':a,i.slotTargetDynamic=!(!i.attrsMap[":slot"]&&!i.attrsMap["v-bind:slot"]),"template"===i.tag||i.slotScope||$n(i,"slot",a,(a="slot",i.rawAttrsMap[":"+a]||i.rawAttrsMap["v-bind:"+a]||i.rawAttrsMap[a]))),"template"===i.tag?(o=Tn(i,To))&&(n=(s=Lo(o)).name,s=s.dynamic,i.slotTarget=n,i.slotTargetDynamic=s,i.slotScope=o.value||zo):(n=Tn(i,To))&&(s=i.scopedSlots||(i.scopedSlots={}),c=(o=Lo(n)).name,o=o.dynamic,(r=s[c]=Fo("template",[],i)).slotTarget=c,r.slotTargetDynamic=o,r.children=i.children.filter(function(e){if(!e.slotScope)return e.parent=r,!0}),r.slotScope=n.value||zo,i.children=[],i.plain=!1),"slot"===(s=e).tag&&(s.slotName=O(s,"name")),(o=O(c=e,"is"))&&(c.component=o),null!=Y(c,"inline-template")&&(c.inlineTemplate=!0);for(var d=0;d<ho.length;d++)e=ho[d](e,t)||e;for(var u,h,p,f,m,v,g,b,y,k,w,_,x=e,$=x.attrsList,S=0,C=$.length;S<C;S++)u=g=$[S].name,h=$[S].value,yo.test(u)?(x.hasBindings=!0,(w=function(e){e=e.match(Co);{var t;if(e)return t={},e.forEach(function(e){t[e.slice(1)]=!0}),t}}(u.replace(yo,"")))&&(u=u.replace(Co,"")),So.test(u)?(u=u.replace(So,""),h=kn(h),(f=xo.test(u))&&(u=u.slice(1,-1)),w&&(w.prop&&!f&&"innerHtml"===(u=T(u))&&(u="innerHTML"),w.camel&&!f&&(u=T(u)),w.sync)&&(p=Dn(h,"$event"),f?A(x,'"update:"+('+u+")",p,null,!1,0,$[S],!0):(A(x,"update:"+T(u),p,null,!1,0,$[S]),G(u)!==T(u)&&A(x,"update:"+G(u),p,null,!1,0,$[S]))),(w&&w.prop||!x.component&&vo(x.tag,x.attrsMap.type,u)?xn:$n)(x,u,h,$[S],f)):bo.test(u)?(u=u.replace(bo,""),A(x,u=(f=xo.test(u))?u.slice(1,-1):u,h,w,!1,0,$[S],f)):(f=!1,(y=(p=(u=u.replace(yo,"")).match($o))&&p[1])&&(u=u.slice(0,-(y.length+1)),xo.test(y))&&(y=y.slice(1,-1),f=!0),m=x,v=u,g=g,b=h,y=y,k=f,w=w,_=$[S],(m.directives||(m.directives=[])).push(An({name:v,rawName:g,value:b,arg:y,isDynamicArg:k,modifiers:w},_)),m.plain=!1)):($n(x,u,JSON.stringify(h),$[S]),!x.component&&"muted"===u&&vo(x.tag,x.attrsMap.type,u)&&xn(x,u,"true",$[S]));return e}function Io(e){var n,t;(n=Y(e,"v-for"))&&(t=function(){var e,t,i=n.match(ko);if(i)return(e={}).for=i[2].trim(),(t=(i=i[1].trim().replace(_o,"")).match(wo))?(e.alias=i.replace(wo,"").trim(),e.iterator1=t[1].trim(),t[2]&&(e.iterator2=t[2].trim())):e.alias=i,e}())&&_(e,t)}function jo(e,t){e.ifConditions||(e.ifConditions=[]),e.ifConditions.push(t)}function Lo(e){var t=e.name.replace(To,"");return t||"#"!==e.name[0]&&(t="default"),xo.test(t)?{name:t.slice(1,-1),dynamic:!0}:{name:'"'+t+'"',dynamic:!1}}var No=/^xmlns:NS\d+/,Ro=/^NS\d+:/;function Po(e){return Fo(e.tag,e.attrsList.slice(),e.parent)}var Bo,Ho,es=[Ki,bn,{preTransformNode:function(e,t){if("input"===e.tag){var i,n,s,o,r,a,l=e.attrsMap;if(l["v-model"])return(l[":type"]||l["v-bind:type"])&&(i=O(e,"type")),(i=l.type||i||!l["v-bind"]?i:"("+l["v-bind"]+").type")?(a=(l=Y(e,"v-if",!0))?"&&("+l+")":"",n=null!=Y(e,"v-else",!0),s=Y(e,"v-else-if",!0),Io(o=Po(e)),Sn(o,"type","checkbox"),Eo(o,t),o.processed=!0,o.if="("+i+")==='checkbox'"+a,jo(o,{exp:o.if,block:o}),Y(r=Po(e),"v-for",!0),Sn(r,"type","radio"),Eo(r,t),jo(o,{exp:"("+i+")==='radio'"+a,block:r}),Y(a=Po(e),"v-for",!0),Sn(a,":type",i),Eo(a,t),jo(o,{exp:l,block:a}),n?o.else=!0:s&&(o.elseif=s),o):void 0}}}],t={expectHTML:!0,modules:es,directives:{model:function(e,t,i){var n,s,o,r,a,l,c,d,u,h,p=t.value,t=t.modifiers,f=e.tag,m=e.attrsMap.type;if(e.component)return On(e,p,t),!1;if("select"===f)A(e,"change",'var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = "_value" in o ? o._value : o.value;return '+(t&&t.number?"_n(val)":"val")+"});"+" "+Dn(p,"$event.target.multiple ? $$selectedVal : $$selectedVal[0]"),null,!0);else if("input"===f&&"checkbox"===m)a=e,l=p,c=t&&t.number,d=O(a,"value")||"null",u=O(a,"true-value")||"true",h=O(a,"false-value")||"false",xn(a,"checked","Array.isArray("+l+")?_i("+l+","+d+")>-1"+("true"===u?":("+l+")":":_q("+l+","+u+")")),A(a,"change","var $$a="+l+",$$el=$event.target,$$c=$$el.checked?("+u+"):("+h+");if(Array.isArray($$a)){var $$v="+(c?"_n("+d+")":d)+",$$i=_i($$a,$$v);if($$el.checked){$$i<0&&("+Dn(l,"$$a.concat([$$v])")+")}else{$$i>-1&&("+Dn(l,"$$a.slice(0,$$i).concat($$a.slice($$i+1))")+")}}else{"+Dn(l,"$$c")+"}",null,!0);else if("input"===f&&"radio"===m)a=e,u=p,h=t&&t.number,c=O(a,"value")||"null",xn(a,"checked","_q("+u+","+(c=h?"_n("+c+")":c)+")"),A(a,"change",Dn(u,c),null,!0);else if("input"===f||"textarea"===f)d=p,m=(l=e).attrsMap.type,s=(n=t||{}).lazy,o=n.number,n=n.trim,r=!s&&"range"!==m,s=s?"change":"range"===m?jn:"input",m=n?"$event.target.value.trim()":"$event.target.value",m=Dn(d,m=o?"_n("+m+")":m),r&&(m="if($event.target.composing)return;"+m),xn(l,"value","("+d+")"),A(l,s,m,null,!0),(n||o)&&A(l,"blur","$forceUpdate()");else if(!v.isReservedTag(f))return On(e,p,t),!1;return!0},text:function(e,t){t.value&&xn(e,"textContent","_s("+t.value+")",t)},html:function(e,t){t.value&&xn(e,"innerHTML","_s("+t.value+")",t)}},isPreTag:function(e){return"pre"===e},isUnaryTag:r,mustUseProp:Oi,canBeLeftOpenTag:i,isReservedTag:Vi,getTagNamespace:Yi,staticKeys:es.reduce(function(e,t){return e.concat(t.staticKeys||[])},[]).join(",")},Vo=e(function(e){return s("type,tag,attrsList,attrsMap,plain,parent,children,attrs,start,end,rawAttrsMap"+(e?","+e:""))});function qo(e,t){e&&(Bo=Vo(t.staticKeys||""),Ho=t.isReservedTag||q,function e(t){var i;if(t.static=2!==(i=t).type&&(3===i.type||!(!i.pre&&(i.hasBindings||i.if||i.for||b(i.tag)||!Ho(i.tag)||function(e){for(;e.parent;){if("template"!==(e=e.parent).tag)return;if(e.for)return 1}}(i)||!Object.keys(i).every(Bo)))),1===t.type&&(Ho(t.tag)||"slot"===t.tag||null!=t.attrsMap["inline-template"])){for(var n=0,s=t.children.length;n<s;n++){var o=t.children[n];e(o),o.static||(t.static=!1)}if(t.ifConditions)for(var r=1,a=t.ifConditions.length;r<a;r++){var l=t.ifConditions[r].block;e(l),l.static||(t.static=!1)}}}(e),function e(t,i){if(1===t.type){if((t.static||t.once)&&(t.staticInFor=i),t.static&&t.children.length&&(1!==t.children.length||3!==t.children[0].type))return t.staticRoot=!0;if(t.staticRoot=!1,t.children)for(var n=0,s=t.children.length;n<s;n++)e(t.children[n],i||!!t.for);if(t.ifConditions)for(var o=1,r=t.ifConditions.length;o<r;o++)e(t.ifConditions[o].block,i)}}(e,!1))}var Wo=/^([\w$_]+|\([^)]*?\))\s*=>|^function(?:\s+[\w$]+)?\s*\(/,Uo=/\([^)]*?\);*$/,Yo=/^[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['[^']*?']|\["[^"]*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*$/,Xo={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,delete:[8,46]},Zo={esc:["Esc","Escape"],tab:"Tab",enter:"Enter",space:[" ","Spacebar"],up:["Up","ArrowUp"],left:["Left","ArrowLeft"],right:["Right","ArrowRight"],down:["Down","ArrowDown"],delete:["Backspace","Delete","Del"]},p=function(e){return"if("+e+")return null;"},Go={stop:"$event.stopPropagation();",prevent:"$event.preventDefault();",self:p("$event.target !== $event.currentTarget"),ctrl:p("!$event.ctrlKey"),shift:p("!$event.shiftKey"),alt:p("!$event.altKey"),meta:p("!$event.metaKey"),left:p("'button' in $event && $event.button !== 0"),middle:p("'button' in $event && $event.button !== 1"),right:p("'button' in $event && $event.button !== 2")};function Ko(e,t){var i,t=t?"nativeOn:":"on:",n="",s="";for(i in e){var o=function t(e){if(!e)return"function(){}";if(Array.isArray(e))return"["+e.map(function(e){return t(e)}).join(",")+"]";var i=Yo.test(e.value),n=Wo.test(e.value),s=Yo.test(e.value.replace(Uo,""));if(e.modifiers){var o,r,a="",l="",c=[];for(o in e.modifiers)Go[o]?(l+=Go[o],Xo[o]&&c.push(o)):"exact"===o?(r=e.modifiers,l+=p(["ctrl","shift","alt","meta"].filter(function(e){return!r[e]}).map(function(e){return"$event."+e+"Key"}).join("||"))):c.push(o);return c.length&&(a+=function(e){return"if(!$event.type.indexOf('key')&&"+e.map(Jo).join("&&")+")return null;"}(c)),l&&(a+=l),"function($event){"+a+(i?"return "+e.value+".apply(null, arguments)":n?"return ("+e.value+").apply(null, arguments)":s?"return "+e.value:e.value)+"}"}return i||n?e.value:"function($event){"+(s?"return "+e.value:e.value)+"}"}(e[i]);e[i]&&e[i].dynamic?s+=i+","+o+",":n+='"'+i+'":'+o+","}return n="{"+n.slice(0,-1)+"}",s?t+"_d("+n+",["+s.slice(0,-1)+"])":t+n}function Jo(e){var t,i=parseInt(e,10);return i?"$event.keyCode!=="+i:(i=Xo[e],t=Zo[e],"_k($event.keyCode,"+JSON.stringify(e)+","+JSON.stringify(i)+",$event.key,"+JSON.stringify(t)+")")}var Qo={on:function(e,t){e.wrapListeners=function(e){return"_g("+e+","+t.value+")"}},bind:function(t,i){t.wrapData=function(e){return"_b("+e+",'"+t.tag+"',"+i.value+","+(i.modifiers&&i.modifiers.prop?"true":"false")+(i.modifiers&&i.modifiers.sync?",true":"")+")"}},cloak:E},er=function(e){this.options=e,this.warn=e.warn||wn,this.transforms=_n(e.modules,"transformCode"),this.dataGenFns=_n(e.modules,"genData"),this.directives=_(_({},Qo),e.directives);var t=e.isReservedTag||q;this.maybeComponent=function(e){return!!e.component||!t(e.tag)},this.onceId=0,this.staticRenderFns=[],this.pre=!1};function tr(e,t){t=new er(t);return{render:"with(this){return "+(e?"script"===e.tag?"null":c(e,t):'_c("div")')+"}",staticRenderFns:t.staticRenderFns}}function c(e,t){if(e.parent&&(e.pre=e.pre||e.parent.pre),e.staticRoot&&!e.staticProcessed)return ir(e,t);if(e.once&&!e.onceProcessed)return nr(e,t);if(e.for&&!e.forProcessed)return or(e,t);if(e.if&&!e.ifProcessed)return sr(e,t);if("template"!==e.tag||e.slotTarget||t.pre){if("slot"===e.tag)return a=(r=e).slotName||'"default"',l=cr(r,t),a="_t("+a+(l?",function(){return "+l+"}":""),c=r.attrs||r.dynamicAttrs?hr((r.attrs||[]).concat(r.dynamicAttrs||[]).map(function(e){return{name:T(e.name),value:e.value,dynamic:e.dynamic}})):null,r=r.attrsMap["v-bind"],!c&&!r||l||(a+=",null"),c&&(a+=","+c),r&&(a+=(c?"":",null")+","+r),a+")";var i,n,s;s=e.component?(l=e.component,c=t,a=(r=e).inlineTemplate?null:cr(r,c,!0),"_c("+l+","+rr(r,c)+(a?","+a:"")+")"):((!e.plain||e.pre&&t.maybeComponent(e))&&(i=rr(e,t)),n=e.inlineTemplate?null:cr(e,t,!0),"_c('"+e.tag+"'"+(i?","+i:"")+(n?","+n:"")+")");for(var o=0;o<t.transforms.length;o++)s=t.transforms[o](e,s);return s}var r,a,l,c;return cr(e,t)||"void 0"}function ir(e,t){e.staticProcessed=!0;var i=t.pre;return e.pre&&(t.pre=e.pre),t.staticRenderFns.push("with(this){return "+c(e,t)+"}"),t.pre=i,"_m("+(t.staticRenderFns.length-1)+(e.staticInFor?",true":"")+")"}function nr(e,t){if(e.onceProcessed=!0,e.if&&!e.ifProcessed)return sr(e,t);if(e.staticInFor){for(var i="",n=e.parent;n;){if(n.for){i=n.key;break}n=n.parent}return i?"_o("+c(e,t)+","+t.onceId+++","+i+")":c(e,t)}return ir(e,t)}function sr(e,t,i,n){return e.ifProcessed=!0,function e(t,i,n,s){var o;return t.length?(o=t.shift()).exp?"("+o.exp+")?"+r(o.block)+":"+e(t,i,n,s):""+r(o.block):s||"_e()";function r(e){return(n||(e.once?nr:c))(e,i)}}(e.ifConditions.slice(),t,i,n)}function or(e,t,i,n){var s=e.for,o=e.alias,r=e.iterator1?","+e.iterator1:"",a=e.iterator2?","+e.iterator2:"";return e.forProcessed=!0,(n||"_l")+"(("+s+"),function("+o+r+a+"){return "+(i||c)(e,t)+"})"}function rr(t,i){var e="{",n=function(e,t){var i=e.directives;if(i){for(var n="directives:[",s=!1,o=0,r=i.length;o<r;o++){var a=i[o],l=!0,c=t.directives[a.name];(l=c?!!c(e,a,t.warn):l)&&(s=!0,n+='{name:"'+a.name+'",rawName:"'+a.rawName+'"'+(a.value?",value:("+a.value+"),expression:"+JSON.stringify(a.value):"")+(a.arg?",arg:"+(a.isDynamicArg?a.arg:'"'+a.arg+'"'):"")+(a.modifiers?",modifiers:"+JSON.stringify(a.modifiers):"")+"},")}return s?n.slice(0,-1)+"]":void 0}}(t,i);n&&(e+=n+","),t.key&&(e+="key:"+t.key+","),t.ref&&(e+="ref:"+t.ref+","),t.refInFor&&(e+="refInFor:true,"),t.pre&&(e+="pre:true,"),t.component&&(e+='tag:"'+t.tag+'",');for(var s=0;s<i.dataGenFns.length;s++)e+=i.dataGenFns[s](t);return t.attrs&&(e+="attrs:"+hr(t.attrs)+","),t.props&&(e+="domProps:"+hr(t.props)+","),t.events&&(e+=Ko(t.events,!1)+","),t.nativeEvents&&(e+=Ko(t.nativeEvents,!0)+","),t.slotTarget&&!t.slotScope&&(e+="slot:"+t.slotTarget+","),t.scopedSlots&&(e+=function(e,t,i){var n=e.for||Object.keys(t).some(function(e){e=t[e];return e.slotTargetDynamic||e.if||e.for||ar(e)}),s=!!e.if;if(!n)for(var o=e.parent;o;){if(o.slotScope&&o.slotScope!==zo||o.for){n=!0;break}o.if&&(s=!0),o=o.parent}e=Object.keys(t).map(function(e){return lr(t[e],i)}).join(",");return"scopedSlots:_u(["+e+"]"+(n?",null,true":"")+(!n&&s?",null,false,"+function(e){for(var t=5381,i=e.length;i;)t=33*t^e.charCodeAt(--i);return t>>>0}(e):"")+")"}(t,t.scopedSlots,i)+","),t.model&&(e+="model:{value:"+t.model.value+",callback:"+t.model.callback+",expression:"+t.model.expression+"},"),t.inlineTemplate&&(n=function(){var e=t.children[0];if(e&&1===e.type)return"inlineTemplate:{render:function(){"+(e=tr(e,i.options)).render+"},staticRenderFns:["+e.staticRenderFns.map(function(e){return"function(){"+e+"}"}).join(",")+"]}"}())&&(e+=n+","),e=e.replace(/,$/,"")+"}",t.dynamicAttrs&&(e="_b("+e+',"'+t.tag+'",'+hr(t.dynamicAttrs)+")"),t.wrapData&&(e=t.wrapData(e)),e=t.wrapListeners?t.wrapListeners(e):e}function ar(e){return 1===e.type&&("slot"===e.tag||e.children.some(ar))}function lr(e,t){var i,n=e.attrsMap["slot-scope"];return!e.if||e.ifProcessed||n?e.for&&!e.forProcessed?or(e,t,lr):(n="function("+(i=e.slotScope===zo?"":String(e.slotScope))+"){return "+("template"===e.tag?e.if&&n?"("+e.if+")?"+(cr(e,t)||"undefined")+":undefined":cr(e,t)||"undefined":c(e,t))+"}","{key:"+(e.slotTarget||'"default"')+",fn:"+n+(i?"":",proxy:true")+"}"):sr(e,t,lr,"null")}function cr(e,t,i,n,s){var o,r,a,e=e.children;if(e.length)return o=e[0],1===e.length&&o.for&&"template"!==o.tag&&"slot"!==o.tag?(r=i?t.maybeComponent(o)?",1":",0":"",(n||c)(o,t)+r):(n=i?function(e,t){for(var i=0,n=0;n<e.length;n++){var s=e[n];if(1===s.type){if(dr(s)||s.ifConditions&&s.ifConditions.some(function(e){return dr(e.block)})){i=2;break}(t(s)||s.ifConditions&&s.ifConditions.some(function(e){return t(e.block)}))&&(i=1)}}return i}(e,t.maybeComponent):0,a=s||ur,"["+e.map(function(e){return a(e,t)}).join(",")+"]"+(n?","+n:""))}function dr(e){return void 0!==e.for||"template"===e.tag||"slot"===e.tag}function ur(e,t){return 1===e.type?c(e,t):3===e.type&&e.isComment?"_e("+JSON.stringify(e.text)+")":"_v("+(2===e.type?e.expression:pr(JSON.stringify(e.text)))+")"}function hr(e){for(var t="",i="",n=0;n<e.length;n++){var s=e[n],o=pr(s.value);s.dynamic?i+=s.name+","+o+",":t+='"'+s.name+'":'+o+","}return t="{"+t.slice(0,-1)+"}",i?"_d("+t+",["+i.slice(0,-1)+"])":t}function pr(e){return e.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}function fr(t,i){try{return new Function(t)}catch(e){return i.push({err:e,code:t}),E}}new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments".split(",").join("\\b|\\b")+"\\b");mr=function(e,t){e=Mo(e.trim(),t),!1!==t.optimize&&qo(e,t),t=tr(e,t);return{ast:e,render:t.render,staticRenderFns:t.staticRenderFns}};gr=t;var mr,vr,gr,br,yr,se={compile:wr,compileToFunctions:(br=wr,yr=Object.create(null),function(e,t,i){(t=_({},t)).warn,delete t.warn;var n,s=t.delimiters?String(t.delimiters)+e:e;return yr[s]||(e=br(e,t),(t={}).render=fr(e.render,n=[]),t.staticRenderFns=e.staticRenderFns.map(function(e){return fr(e,n)}),yr[s]=t)})},kr=se.compileToFunctions;function wr(e,t){var i=Object.create(gr),n=[],s=[];if(t)for(var o in t.modules&&(i.modules=(gr.modules||[]).concat(t.modules)),t.directives&&(i.directives=_(Object.create(gr.directives||null),t.directives)),t)"modules"!==o&&"directives"!==o&&(i[o]=t[o]);i.warn=function(e,t,i){(i?s:n).push(e)};e=mr(e.trim(),i);return e.errors=n,e.tips=s,e}function _r(e){return(vr=vr||document.createElement("div")).innerHTML=e?'<a href="\n"/>':'<div a="\n"/>',0<vr.innerHTML.indexOf("&#10;")}var xr=!!o&&_r(!1),$r=!!o&&_r(!0),Sr=e(function(e){e=Gi(e);return e&&e.innerHTML}),Cr=a.prototype.$mount;return a.prototype.$mount=function(e,t){if((e=e&&Gi(e))===document.body||e===document.documentElement)return this;var i=this.$options;if(!i.render){var n,s,o=i.template;if(o)if("string"==typeof o)"#"===o.charAt(0)&&(o=Sr(o));else{if(!o.nodeType)return this;o=o.innerHTML}else e&&(o=(n=e).outerHTML||((s=document.createElement("div")).appendChild(n.cloneNode(!0)),s.innerHTML));o&&(s=(n=kr(o,{outputSourceRange:!1,shouldDecodeNewlines:xr,shouldDecodeNewlinesForHref:$r,delimiters:i.delimiters,comments:i.comments},this)).render,o=n.staticRenderFns,i.render=s,i.staticRenderFns=o)}return Cr.call(this,e,t)},a.compile=kr,a}),t=this,e=function(){"use strict";function p(e){return-1<Object.prototype.toString.call(e).indexOf("Error")}function v(e,t){for(var i in t)e[i]=t[i];return e}function s(e){return encodeURIComponent(e).replace(L,N).replace(R,",")}var j={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(e,t){var i=t.props,n=t.children,s=t.parent,t=t.data;t.routerView=!0;for(var o=s.$createElement,r=i.name,i=s.$route,a=s._routerViewCache||(s._routerViewCache={}),l=0,c=!1;s&&s._routerRoot!==s;){var d=s.$vnode&&s.$vnode.data;d&&(d.routerView&&l++,d.keepAlive)&&s._inactive&&(c=!0),s=s.$parent}if(t.routerViewDepth=l,c)return o(a[r],t,n);var u=i.matched[l];if(!u)return a[r]=null,o();var h=a[r]=u.components[r];if(t.registerRouteInstance=function(e,t){var i=u.instances[r];(t&&i!==e||!t&&i===e)&&(u.instances[r]=t)},(t.hook||(t.hook={})).prepatch=function(e,t){u.instances[r]=t.componentInstance},t.hook.init=function(e){e.data.keepAlive&&e.componentInstance&&e.componentInstance!==u.instances[r]&&(u.instances[r]=e.componentInstance)},f=t.props=function(e,t){switch(typeof t){case"undefined":return;case"object":return t;case"function":return t(e);case"boolean":return t?e.params:void 0}}(i,u.props&&u.props[r])){var p,f=t.props=v({},f),m=t.attrs=t.attrs||{};for(p in f)h.props&&p in h.props||(m[p]=f[p],delete f[p])}return o(h,t,n)}},L=/[!'()*]/g,N=function(e){return"%"+e.charCodeAt(0).toString(16)},R=/%2C/g,P=decodeURIComponent;function B(e){var i={};return(e=e.trim().replace(/^(\?|#|&)/,""))&&e.split("&").forEach(function(e){var e=e.replace(/\+/g," ").split("="),t=P(e.shift()),e=0<e.length?P(e.join("=")):null;void 0===i[t]?i[t]=e:Array.isArray(i[t])?i[t].push(e):i[t]=[i[t],e]}),i}var f=/\/?$/;function m(e,t,i,n){var n=n&&n.options.stringifyQuery,s=t.query||{};try{s=o(s)}catch(e){}s={name:t.name||e&&e.name,meta:e&&e.meta||{},path:t.path||"/",hash:t.hash||"",query:s,params:t.params||{},fullPath:H(t,n),matched:e?function(e){for(var t=[];e;)t.unshift(e),e=e.parent;return t}(e):[]};return i&&(s.redirectedFrom=H(i,n)),Object.freeze(s)}function o(e){if(Array.isArray(e))return e.map(o);if(e&&"object"==typeof e){var t,i={};for(t in e)i[t]=o(e[t]);return i}return e}var a=m(null,{path:"/"});function H(e,t){var i=e.path,n=e.query,e=e.hash;return void 0===e&&(e=""),(i||"/")+(t||function(n){var e=n?Object.keys(n).map(function(t){var i,e=n[t];return void 0===e?"":null===e?s(t):Array.isArray(e)?(i=[],e.forEach(function(e){void 0!==e&&i.push(null===e?s(t):s(t)+"="+s(e))}),i.join("&")):s(t)+"="+s(e)}).filter(function(e){return 0<e.length}).join("&"):null;return e?"?"+e:""})(n=void 0===n?{}:n)+e}function V(e,t){return t===a?e===t:!!t&&(e.path&&t.path?e.path.replace(f,"")===t.path.replace(f,"")&&e.hash===t.hash&&r(e.query,t.query):!(!e.name||!t.name)&&e.name===t.name&&e.hash===t.hash&&r(e.query,t.query)&&r(e.params,t.params))}function r(i,n){var e,t;return void 0===n&&(n={}),(i=void 0===i?{}:i)&&n?(e=Object.keys(i),t=Object.keys(n),e.length===t.length&&e.every(function(e){var t=i[e],e=n[e];return"object"==typeof t&&"object"==typeof e?r(t,e):String(t)===String(e)})):i===n}var g,e=[String,Object],t=[String,Array],q={name:"RouterLink",props:{to:{type:e,required:!0},tag:{type:String,default:"a"},exact:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,event:{type:t,default:"click"}},render:function(e){function t(e){W(e)&&(n.replace?s.replace(a):s.push(a))}var i,n=this,s=this.$router,o=this.$route,r=s.resolve(this.to,o,this.append),a=r.location,l=r.route,r=r.href,c={},d=s.options.linkActiveClass,u=s.options.linkExactActiveClass,d=null==this.activeClass?null==d?"router-link-active":d:this.activeClass,u=null==this.exactActiveClass?null==u?"router-link-exact-active":u:this.exactActiveClass,l=a.path?m(null,a,null,s):l,h=(c[u]=V(o,l),c[d]=this.exact?c[u]:(i=l,0===(d=o).path.replace(f,"/").indexOf(i.path.replace(f,"/"))&&(!i.hash||d.hash===i.hash)&&function(e){for(var t in i.query)if(!(t in e))return!1;return!0}(d.query)),{click:W}),u=(Array.isArray(this.event)?this.event.forEach(function(e){h[e]=t}):h[this.event]=t,{class:c});return"a"===this.tag?(u.on=h,u.attrs={href:r}):(l=function e(t){if(t)for(var i,n=0;n<t.length;n++){if("a"===(i=t[n]).tag)return i;if(i.children&&(i=e(i.children)))return i}}(this.$slots.default))?(l.isStatic=!1,(l.data=v({},l.data)).on=h,(l.data.attrs=v({},l.data.attrs)).href=r):u.on=h,e(this.tag,u,this.$slots.default)}};function W(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey||e.defaultPrevented||void 0!==e.button&&0!==e.button)){if(e.currentTarget&&e.currentTarget.getAttribute){var t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}var i="undefined"!=typeof window;function U(e,t,i){var n=e.charAt(0);if("/"===n)return e;if("?"===n||"#"===n)return t+e;var s=t.split("/");i&&s[s.length-1]||s.pop();for(var o=e.replace(/^\//,"").split("/"),r=0;r<o.length;r++){var a=o[r];".."===a?s.pop():"."!==a&&s.push(a)}return""!==s[0]&&s.unshift(""),s.join("/")}function h(e){return e.replace(/\/\//g,"/")}var b=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)},y=function o(e,t,i){return b(t)||(i=t||i,t=[]),i=i||{},e instanceof RegExp?function(e,t){var i=e.source.match(/\((?!\?)/g);if(i)for(var n=0;n<i.length;n++)t.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return w(e,t)}(e,t):(b(e)?function(e,t,i){for(var n=[],s=0;s<e.length;s++)n.push(o(e[s],t,i).source);return w(new RegExp("(?:"+n.join("|")+")",K(i)),t)}:function(e,t,i){return J(n(e,i),t,i)})(e,t,i)},e=n,t=G,Y=J,X=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function n(e,t){for(var i=[],n=0,s=0,o="",r=t&&t.delimiter||"/";null!=(u=X.exec(e));){var a,l,c,d,u,h=u[0],p=u[1],f=u.index;o+=e.slice(s,f),s=f+h.length,p?o+=p[1]:(f=e[s],h=u[2],p=u[3],a=u[4],l=u[5],c=u[6],d=u[7],o&&(i.push(o),o=""),u=u[2]||r,i.push({name:p||n++,prefix:h||"",delimiter:u,optional:"?"===c||"*"===c,repeat:"+"===c||"*"===c,partial:null!=h&&null!=f&&f!==h,asterisk:!!d,pattern:(p=a||l)?p.replace(/([=!:$\/()])/g,"\\$1"):d?".*":"[^"+k(u)+"]+?"}))}return s<e.length&&(o+=e.substr(s)),o&&i.push(o),i}function Z(e){return encodeURI(e).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function G(d){for(var u=new Array(d.length),e=0;e<d.length;e++)"object"==typeof d[e]&&(u[e]=new RegExp("^(?:"+d[e].pattern+")$"));return function(e,t){for(var i="",n=e||{},s=(t||{}).pretty?Z:encodeURIComponent,o=0;o<d.length;o++){var r=d[o];if("string"!=typeof r){var a,l=n[r.name];if(null==l){if(r.optional){r.partial&&(i+=r.prefix);continue}throw new TypeError('Expected "'+r.name+'" to be defined')}if(b(l)){if(!r.repeat)throw new TypeError('Expected "'+r.name+'" to not repeat, but received `'+JSON.stringify(l)+"`");if(0===l.length){if(r.optional)continue;throw new TypeError('Expected "'+r.name+'" to not be empty')}for(var c=0;c<l.length;c++){if(a=s(l[c]),!u[o].test(a))throw new TypeError('Expected all "'+r.name+'" to match "'+r.pattern+'", but received `'+JSON.stringify(a)+"`");i+=(0===c?r.prefix:r.delimiter)+a}}else{if(a=r.asterisk?encodeURI(l).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}):s(l),!u[o].test(a))throw new TypeError('Expected "'+r.name+'" to match "'+r.pattern+'", but received "'+a+'"');i+=r.prefix+a}}else i+=r}return i}}function k(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function w(e,t){return e.keys=t,e}function K(e){return e.sensitive?"":"i"}function J(e,t,i){b(t)||(i=t||i,t=[]);for(var n=(i=i||{}).strict,s=!1!==i.end,o="",r=0;r<e.length;r++){var a,l,c=e[r];"string"==typeof c?o+=k(c):(a=k(c.prefix),l="(?:"+c.pattern+")",t.push(c),c.repeat&&(l+="(?:"+a+l+")*"),o+=l=c.optional?c.partial?a+"("+l+")?":"(?:"+a+"("+l+"))?":a+"("+l+")")}var d=k(i.delimiter||"/"),u=o.slice(-d.length)===d;return n||(o=(u?o.slice(0,-d.length):o)+"(?:"+d+"(?=$))?"),o+=s?"$":n&&u?"":"(?="+d+"|$)",w(new RegExp("^"+o,K(i)),t)}y.parse=e,y.compile=function(e,t){return G(n(e,t))},y.tokensToFunction=t,y.tokensToRegExp=Y;var Q=Object.create(null);function _(e,t){t=t||{};try{var i=Q[e]||(Q[e]=y.compile(e));return t.pathMatch&&(t[0]=t.pathMatch),i(t,{pretty:!0})}catch(e){return""}finally{delete t[0]}}function ee(e,t,i,n){var s=t||[],o=i||Object.create(null),r=n||Object.create(null);e.forEach(function(e){!function i(n,s,o,t,r,a){var e=t.path,l=t.name,c=t.pathToRegexpOptions||{},d=(e=e,d=r,"/"===(e=c.strict?e:e.replace(/\/$/,""))[0]||null==d?e:h(d.path+"/"+e)),u=("boolean"==typeof t.caseSensitive&&(c.sensitive=t.caseSensitive),{path:d,regex:y(d,[],c),components:t.components||{default:t.component},instances:{},name:l,parent:r,matchAs:a,redirect:t.redirect,beforeEnter:t.beforeEnter,meta:t.meta||{},props:null==t.props?{}:t.components?t.props:{default:t.props}});t.children&&t.children.forEach(function(e){var t=a?h(a+"/"+e.path):void 0;i(n,s,o,e,u,t)}),void 0!==t.alias&&(Array.isArray(t.alias)?t.alias:[t.alias]).forEach(function(e){e={path:e,children:t.children};i(n,s,o,e,r,u.path||"/")}),s[u.path]||(n.push(u.path),s[u.path]=u),l&&!o[l]&&(o[l]=u)}(s,o,r,e)});for(var a=0,l=s.length;a<l;a++)"*"===s[a]&&(s.push(s.splice(a,1)[0]),l--,a--);return{pathList:s,pathMap:o,nameMap:r}}function te(e,t,i,o){var n,s,r,a="string"==typeof e?{path:e}:e;return a._normalized?a:a.name?v({},e):!a.path&&a.params&&t?((a=v({},a))._normalized=!0,e=v(v({},t.params),a.params),t.name?(a.name=t.name,a.params=e):t.matched.length&&(n=t.matched[t.matched.length-1].path,a.path=_(n,e,t.path)),a):(n=a.path||"",s=e="",0<=(r=n.indexOf("#"))&&(e=n.slice(r),n=n.slice(0,r)),0<=(r=n.indexOf("?"))&&(s=n.slice(r+1),n=n.slice(0,r)),r=t&&t.path||"/",{_normalized:!0,path:(t={path:n,query:s,hash:e}).path?U(t.path,r,i||a.append):r,query:function(e,t){void 0===t&&(t={});var i,n,s=o&&o.options.parseQuery||B;try{i=s(e||"")}catch(e){i={}}for(n in t)i[n]=t[n];return i}(t.query,a.query),hash:s=(s=a.hash||t.hash)&&"#"!==s.charAt(0)?"#"+s:s})}function ie(e,u){var e=ee(e),l=e.pathList,c=e.pathMap,h=e.nameMap;function p(e,t,i){var n=te(e,t,!1,u),e=n.name;if(e){e=h[e];if(!e)return f(null,n);var s=e.regex.keys.filter(function(e){return!e.optional}).map(function(e){return e.name});if("object"!=typeof n.params&&(n.params={}),t&&"object"==typeof t.params)for(var o in t.params)!(o in n.params)&&-1<s.indexOf(o)&&(n.params[o]=t.params[o]);return n.path=_(e.path,n.params),f(e,n,i)}if(n.path){n.params={};for(var r=0;r<l.length;r++){var a=l[r],a=c[a];if(function(e,t,i){var n=t.match(e);if(!n)return;if(i)for(var s=1,o=n.length;s<o;++s){var r=e.keys[s-1],a="string"==typeof n[s]?decodeURIComponent(n[s]):n[s];r&&(i[r.name||"pathMatch"]=a)}return 1}(a.regex,n.path,n.params))return f(a,n,i)}}return f(null,n)}function f(e,t,i){return e&&e.redirect?(s=i||t,(d="string"==typeof(d="function"==typeof(d=(n=e).redirect)?d(m(n,s,null,u)):d)?{path:d}:d)&&"object"==typeof d?(o=(d=d).name,r=d.path,a=s.query,l=s.hash,c=s.params,a=d.hasOwnProperty("query")?d.query:a,l=d.hasOwnProperty("hash")?d.hash:l,c=d.hasOwnProperty("params")?d.params:c,o?(h[o],p({_normalized:!0,name:o,query:a,hash:l,params:c},void 0,s)):r?p({_normalized:!0,path:_(U(r,n.parent?n.parent.path:"/",!0),c),query:a,hash:l},void 0,s):f(null,s)):f(null,s)):e&&e.matchAs?(d=t,(o=p({_normalized:!0,path:_(e.matchAs,d.params)}))?(r=(r=o.matched)[r.length-1],d.params=o.params,f(r,d)):f(null,d)):m(e,t,i,u);var n,s,o,r,a,l,c,d}return{match:p,addRoutes:function(e){ee(e,l,c,h)}}}var ne=Object.create(null);function se(){var e=window.location.protocol+"//"+window.location.host,e=window.location.href.replace(e,"");window.history.replaceState({key:u},"",e),window.addEventListener("popstate",function(e){oe(),e.state&&e.state.key&&(e=e.state.key,u=e)})}function l(i,n,s,o){var r;i.app&&(r=i.options.scrollBehavior)&&i.app.$nextTick(function(){var t=function(){if(u)return ne[u]}(),e=r.call(i,n,s,o?t:null);e&&("function"==typeof e.then?e.then(function(e){le(e,t)}).catch(function(e){}):le(e,t))})}function oe(){u&&(ne[u]={x:window.pageXOffset,y:window.pageYOffset})}function re(e){return c(e.x)||c(e.y)}function ae(e){return{x:c(e.x)?e.x:window.pageXOffset,y:c(e.y)?e.y:window.pageYOffset}}function c(e){return"number"==typeof e}function le(e,t){var i,n,s,o="object"==typeof e;o&&"string"==typeof e.selector?(i=document.querySelector(e.selector))?(s=e.offset&&"object"==typeof e.offset?e.offset:{},i=i,n=s={x:c((n=s).x)?n.x:0,y:c(n.y)?n.y:0},s=document.documentElement.getBoundingClientRect(),t={x:(i=i.getBoundingClientRect()).left-s.left-n.x,y:i.top-s.top-n.y}):re(e)&&(t=ae(e)):o&&re(e)&&(t=ae(e)),t&&window.scrollTo(t.x,t.y)}var d=i&&(-1===(e=window.navigator.userAgent).indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history,ce=i&&window.performance&&window.performance.now?window.performance:Date,u=de();function de(){return ce.now().toFixed(3)}function x(e,t){oe();var i=window.history;try{t?i.replaceState({key:u},"",e):(u=de(),i.pushState({key:u},"",e))}catch(i){window.location[t?"replace":"assign"](e)}}function $(e){x(e,!0)}function ue(t,i,n){function s(e){e>=t.length?n():t[e]?i(t[e],function(){s(e+1)}):s(e+1)}s(0)}function he(e,i){return pe(e.map(function(t){return Object.keys(t.components).map(function(e){return i(t.components[e],t.instances[e],t,e)})}))}function pe(e){return Array.prototype.concat.apply([],e)}var fe="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;function me(i){var n=!1;return function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(!n)return n=!0,i.apply(this,e)}}function S(e,t){this.router=e,this.base=(e="/"!==(e=(e=t)||(i?(e=(t=document.querySelector("base"))&&t.getAttribute("href")||"/").replace(/^https?:\/\/[^\/]+/,""):"/")).charAt(0)?"/"+e:e).replace(/\/$/,""),this.current=a,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[]}function ve(e,o,r,t){e=he(e,function(e,t,i,n){s=o;var s,e=(e="function"!=typeof(e=e)?g.extend(e):e).options[s];if(e)return Array.isArray(e)?e.map(function(e){return r(e,t,i,n)}):r(e,t,i,n)});return pe(t?e.reverse():e)}function ge(e,t){if(t)return function(){return e.apply(t,arguments)}}S.prototype.listen=function(e){this.cb=e},S.prototype.onReady=function(e,t){this.ready?e():(this.readyCbs.push(e),t&&this.readyErrorCbs.push(t))},S.prototype.onError=function(e){this.errorCbs.push(e)},S.prototype.transitionTo=function(e,t,i){var n=this,s=this.router.match(e,this.current);this.confirmTransition(s,function(){n.updateRoute(s),t&&t(s),n.ensureURL(),n.ready||(n.ready=!0,n.readyCbs.forEach(function(e){e(s)}))},function(t){i&&i(t),t&&!n.ready&&(n.ready=!0,n.readyErrorCbs.forEach(function(e){e(t)}))})},S.prototype.confirmTransition=function(i,t,e){var n=this,s=this.current,o=function(t){p(t)&&(n.errorCbs.length?n.errorCbs.forEach(function(e){e(t)}):console.error(t)),e&&e(t)};if(V(i,s)&&i.matched.length===s.matched.length)return this.ensureURL(),o();function r(e,t){if(n.pending!==i)return o();try{e(i,s,function(e){!1===e||p(e)?(n.ensureURL(!0),o(e)):"string"==typeof e||"object"==typeof e&&("string"==typeof e.path||"string"==typeof e.name)?(o(),"object"==typeof e&&e.replace?n.replace(e):n.push(e)):t(e)})}catch(e){o(e)}}var u,a=function(e,t){for(var i=Math.max(e.length,t.length),n=0;n<i&&e[n]===t[n];n++);return{updated:t.slice(0,n),activated:t.slice(n),deactivated:e.slice(n)}}(this.current.matched,i.matched),l=a.updated,c=a.deactivated,h=a.activated,a=[].concat(ve(c,"beforeRouteLeave",ge,!0),this.router.beforeHooks,ve(l,"beforeRouteUpdate",ge),h.map(function(e){return e.beforeEnter}),(u=h,function(e,t,a){var l=!1,c=0,d=null;he(u,function(t,e,i,n){if("function"==typeof t&&void 0===t.cid){l=!0,c++;var s,o=me(function(e){(e.__esModule||fe&&"Module"===e[Symbol.toStringTag])&&(e=e.default),t.resolved="function"==typeof e?e:g.extend(e),i.components[n]=e,--c<=0&&a()}),r=me(function(e){var t="Failed to resolve async component "+n+": "+e;d||(d=p(e)?e:new Error(t),a(d))});try{s=t(o,r)}catch(e){r(e)}s&&("function"==typeof s.then?s.then(o,r):(s=s.component)&&"function"==typeof s.then&&s.then(o,r))}}),l||a()}));this.pending=i;ue(a,r,function(){var c,d,e=[];ue((c=e,d=function(){return n.current===i},ve(h,"beforeRouteEnter",function(e,t,i,n){return s=e,o=i,r=n,a=c,l=d,function(e,t,i){return s(e,t,function(e){"function"==typeof e&&a.push(function(){!function e(t,i,n,s){i[n]&&!i[n]._isBeingDestroyed?t(i[n]):s()&&setTimeout(function(){e(t,i,n,s)},16)}(e,o.instances,r,l)}),i(e)})};var s,o,r,a,l}).concat(n.router.resolveHooks)),r,function(){if(n.pending!==i)return o();n.pending=null,t(i),n.router.app&&n.router.app.$nextTick(function(){e.forEach(function(e){e()})})})})},S.prototype.updateRoute=function(t){var i=this.current;this.current=t,this.cb&&this.cb(t),this.router.afterHooks.forEach(function(e){e&&e(t,i)})};(C=S)&&(T.__proto__=C),((T.prototype=Object.create(C&&C.prototype)).constructor=T).prototype.go=function(e){window.history.go(e)},T.prototype.push=function(e,t,i){var n=this,s=this.current;this.transitionTo(e,function(e){x(h(n.base+e.fullPath)),l(n.router,e,s,!1),t&&t(e)},i)},T.prototype.replace=function(e,t,i){var n=this,s=this.current;this.transitionTo(e,function(e){$(h(n.base+e.fullPath)),l(n.router,e,s,!1),t&&t(e)},i)},T.prototype.ensureURL=function(e){A(this.base)!==this.current.fullPath&&(e?x:$)(h(this.base+this.current.fullPath))},T.prototype.getCurrentLocation=function(){return A(this.base)};var C,be=T;function T(n,e){var s=this,e=(C.call(this,n,e),n.options.scrollBehavior),o=d&&e,r=(o&&se(),A(this.base));window.addEventListener("popstate",function(e){var t=s.current,i=A(s.base);s.current===a&&i===r||s.transitionTo(i,function(e){o&&l(n,e,t,!0)})})}function A(e){var t=decodeURI(window.location.pathname);return((t=e&&0===t.indexOf(e)?t.slice(e.length):t)||"/")+window.location.search+window.location.hash}(O=S)&&(D.__proto__=O),((D.prototype=Object.create(O&&O.prototype)).constructor=D).prototype.setupListeners=function(){var i=this,e=this.router.options.scrollBehavior,n=d&&e;n&&se(),window.addEventListener(d?"popstate":"hashchange",function(){var t=i.current;ke()&&i.transitionTo(z(),function(e){n&&l(i.router,e,t,!0),d||F(e.fullPath)})})},D.prototype.push=function(e,t,i){var n=this,s=this.current;this.transitionTo(e,function(e){_e(e.fullPath),l(n.router,e,s,!1),t&&t(e)},i)},D.prototype.replace=function(e,t,i){var n=this,s=this.current;this.transitionTo(e,function(e){F(e.fullPath),l(n.router,e,s,!1),t&&t(e)},i)},D.prototype.go=function(e){window.history.go(e)},D.prototype.ensureURL=function(e){var t=this.current.fullPath;z()!==t&&(e?_e:F)(t)},D.prototype.getCurrentLocation=z;var O,ye=D;function D(e,t,i){O.call(this,e,t),i&&(e=this.base,t=A(e),!/^\/#/.test(t))?window.location.replace(h(e+"/#"+t)):ke()}function ke(){var e=z();return"/"===e.charAt(0)||(F("/"+e),0)}function z(){var e,t=window.location.href,i=t.indexOf("#");return i<0?"":((i=(t=t.slice(i+1)).indexOf("?"))<0?t=-1<(e=t.indexOf("#"))?decodeURI(t.slice(0,e))+t.slice(e):decodeURI(t):-1<i&&(t=decodeURI(t.slice(0,i))+t.slice(i)),t)}function we(e){var t=window.location.href,i=t.indexOf("#");return(0<=i?t.slice(0,i):t)+"#"+e}function _e(e){d?x(we(e)):window.location.hash=e}function F(e){d?$(we(e)):window.location.replace(we(e))}function M(e){void 0===e&&(e={}),this.app=null,this.apps=[],this.options=e,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=ie(e.routes||[],this);var t=e.mode||"hash";switch(this.fallback="history"===t&&!d&&!1!==e.fallback,this.fallback&&(t="hash"),this.mode=t=i?t:"abstract"){case"history":this.history=new be(this,e.base);break;case"hash":this.history=new ye(this,e.base,this.fallback);break;case"abstract":this.history=new xe(this,e.base)}}(E=S)&&(I.__proto__=E),((I.prototype=Object.create(E&&E.prototype)).constructor=I).prototype.push=function(e,t,i){var n=this;this.transitionTo(e,function(e){n.stack=n.stack.slice(0,n.index+1).concat(e),n.index++,t&&t(e)},i)},I.prototype.replace=function(e,t,i){var n=this;this.transitionTo(e,function(e){n.stack=n.stack.slice(0,n.index).concat(e),t&&t(e)},i)},I.prototype.go=function(e){var t,i=this,n=this.index+e;n<0||n>=this.stack.length||(t=this.stack[n],this.confirmTransition(t,function(){i.index=n,i.updateRoute(t)}))},I.prototype.getCurrentLocation=function(){var e=this.stack[this.stack.length-1];return e?e.fullPath:"/"},I.prototype.ensureURL=function(){};var E,xe=I,t={currentRoute:{configurable:!0}};function I(e,t){E.call(this,e,t),this.stack=[],this.index=-1}function $e(t,i){return t.push(i),function(){var e=t.indexOf(i);-1<e&&t.splice(e,1)}}return M.prototype.match=function(e,t,i){return this.matcher.match(e,t,i)},t.currentRoute.get=function(){return this.history&&this.history.current},M.prototype.init=function(t){var e,i,n=this;this.apps.push(t),t.$once("hook:destroyed",function(){var e=n.apps.indexOf(t);-1<e&&n.apps.splice(e,1),n.app===t&&(n.app=n.apps[0]||null)}),this.app||(this.app=t,(e=this.history)instanceof be?e.transitionTo(e.getCurrentLocation()):e instanceof ye&&(i=function(){e.setupListeners()},e.transitionTo(e.getCurrentLocation(),i,i)),e.listen(function(t){n.apps.forEach(function(e){e._route=t})}))},M.prototype.beforeEach=function(e){return $e(this.beforeHooks,e)},M.prototype.beforeResolve=function(e){return $e(this.resolveHooks,e)},M.prototype.afterEach=function(e){return $e(this.afterHooks,e)},M.prototype.onReady=function(e,t){this.history.onReady(e,t)},M.prototype.onError=function(e){this.history.onError(e)},M.prototype.push=function(e,t,i){this.history.push(e,t,i)},M.prototype.replace=function(e,t,i){this.history.replace(e,t,i)},M.prototype.go=function(e){this.history.go(e)},M.prototype.back=function(){this.go(-1)},M.prototype.forward=function(){this.go(1)},M.prototype.getMatchedComponents=function(e){e=e?e.matched?e:this.resolve(e).route:this.currentRoute;return e?[].concat.apply([],e.matched.map(function(t){return Object.keys(t.components).map(function(e){return t.components[e]})})):[]},M.prototype.resolve=function(e,t,i){var e=te(e,t=t||this.history.current,i,this),i=this.match(e,t),n=i.redirectedFrom||i.fullPath;return{location:e,route:i,href:function(e,t){t="hash"===t?"#"+n:n;return e?h(e+"/"+t):t}(this.history.base,this.mode),normalizedTo:e,resolved:i}},M.prototype.addRoutes=function(e){this.matcher.addRoutes(e),this.history.current!==a&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(M.prototype,t),M.install=function e(t){var n,i,s;e.installed&&g===t||(e.installed=!0,n=function(e){return void 0!==e},i=function(e,t){var i=e.$options._parentVnode;n(i)&&n(i=i.data)&&n(i=i.registerRouteInstance)&&i(e,t)},(g=t).mixin({beforeCreate:function(){n(this.$options.router)?((this._routerRoot=this)._router=this.$options.router,this._router.init(this),t.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,i(this,this)},destroyed:function(){i(this)}}),Object.defineProperty(t.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(t.prototype,"$route",{get:function(){return this._routerRoot._route}}),t.component("RouterView",j),t.component("RouterLink",q),(s=t.config.optionMergeStrategies).beforeRouteEnter=s.beforeRouteLeave=s.beforeRouteUpdate=s.created)},M.version="3.0.7",i&&window.Vue&&window.Vue.use(M),M},"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.VueRouter=e(),window.number_format=format,window.$events={events:{},stack:{},on(e,t,i=!1){return null==this.events[e]&&(this.events[e]=[]),this.events[e].push(t),i&&null!=this.stack[e]&&_.each(this.stack[e],e=>{t(null,e)}),window.$events},one(e,t){let i=()=>{t(),this.off(e,i)};return this.on(e,i),window.$events},off(t,i){if(i){if(null!=this.events[t])for(let e=this.events[t].length-1;0<=e;e--)if(this.events[t][e]===i){this.events[t].splice(e,1);break}}else delete this.events[t];return window.$events},fire(e,t,i=!1){if(null!=this.events[e]){var n=_.map(this.events[e],e=>e);for(let e=0;e<n.length;e++)n[e](null,t)}return i&&(null==this.stack[e]&&(this.stack[e]=[]),this.stack[e].push(t)),window.$events}},function(s,j,y){"use strict";function L(e,t,i){return setTimeout(R(e,i),t)}function i(e,t,i){return Array.isArray(e)&&(r(e,i[t],i),1)}function r(e,t,i){if(e)if(e.forEach)e.forEach(t,i);else if(e.length!==y)for(n=0;n<e.length;)t.call(i,e[n],n,e),n++;else for(var n in e)e.hasOwnProperty(n)&&t.call(i,e[n],n,e)}function N(i,e,t){var n="DEPRECATED METHOD: "+e+"\n"+t+" AT \n";return function(){var e=new Error("get-stack-trace"),e=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",t=s.console&&(s.console.warn||s.console.log);return t&&t.call(s.console,n,e),i.apply(this,arguments)}}function e(e,t,i){var t=t.prototype,n=e.prototype=Object.create(t);n.constructor=e,n._super=t,i&&_(n,i)}function R(e,t){return function(){return e.apply(t,arguments)}}function P(e,t){return typeof e==ve?e.apply(t&&t[0]||y,t):e}function B(e,t){return e===y?t:e}function t(t,e,i){r(o(e),function(e){t.addEventListener(e,i,!1)})}function n(t,e,i){r(o(e),function(e){t.removeEventListener(e,i,!1)})}function H(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function l(e,t){return-1<e.indexOf(t)}function o(e){return e.trim().split(/\s+/g)}function a(e,t,i){if(e.indexOf&&!i)return e.indexOf(t);for(var n=0;n<e.length;){if(i&&e[n][i]==t||!i&&e[n]===t)return n;n++}return-1}function c(e){return Array.prototype.slice.call(e,0)}function V(e,i,t){for(var n=[],s=[],o=0;o<e.length;){var r=i?e[o][i]:e[o];a(s,r)<0&&n.push(e[o]),s[o]=r,o++}return n=t?i?n.sort(function(e,t){return e[i]>t[i]}):n.sort():n}function d(e,t){for(var i,n=t[0].toUpperCase()+t.slice(1),s=0;s<fe.length;){if((i=(i=fe[s])?i+n:t)in e)return i;s++}return y}function q(e){e=e.ownerDocument||e;return e.defaultView||e.parentWindow||s}function u(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){P(t.options.enable,[t])&&i.handler(e)},this.init()}function W(e,t,i){var n,s,o,r,a,l,c,d=i.pointers.length,u=i.changedPointers.length,h=t&$&&d-u==0,d=t&(S|C)&&d-u==0,p=(i.isFirst=!!h,i.isFinal=!!d,h&&(e.session={}),i.eventType=t,u=i,h=(d=e).session,t=u.pointers,s=t.length,h.firstInput||(h.firstInput=U(u)),1<s&&!h.firstMultiple?h.firstMultiple=U(u):1===s&&(h.firstMultiple=!1),s=h.firstInput,o=h.firstMultiple,r=(o||s).center,p=u.center=Y(t),u.timeStamp=ge(),u.deltaTime=u.timeStamp-s.timeStamp,u.angle=G(r,p),u.distance=k(r,p),h),f=u,m=f.center,v=p.offsetDelta||{},g=p.prevDelta||{},b=p.prevInput||{},b=(f.eventType!==$&&b.eventType!==S||(g=p.prevDelta={x:b.deltaX||0,y:b.deltaY||0},v=p.offsetDelta={x:m.x,y:m.y}),f.deltaX=g.x+(m.x-v.x),f.deltaY=g.y+(m.y-v.y),u.offsetDirection=Z(u.deltaX,u.deltaY),s=X(u.deltaTime,u.deltaX,u.deltaY),u.overallVelocityX=s.x,u.overallVelocityY=s.y,u.overallVelocity=w(s.x)>w(s.y)?s.x:s.y,u.scale=o?function(e,t){return k(t[0],t[1],Oe)/k(e[0],e[1],Oe)}(o.pointers,t):1,u.rotation=o?function(e,t){return G(t[1],t[0],Oe)+G(e[1],e[0],Oe)}(o.pointers,t):0,u.maxPointers=!h.prevInput||u.pointers.length>h.prevInput.maxPointers?u.pointers.length:h.prevInput.maxPointers,h),p=u,f=b.lastInterval||p,g=p.timeStamp-f.timeStamp;p.eventType!=C&&(Se<g||f.velocity===y)?(n=p.deltaX-f.deltaX,m=p.deltaY-f.deltaY,g=X(g,n,m),l=g.x,c=g.y,a=w(g.x)>w(g.y)?g.x:g.y,n=Z(n,m),b.lastInterval=p):(a=f.velocity,l=f.velocityX,c=f.velocityY,n=f.direction),p.velocity=a,p.velocityX=l,p.velocityY=c,p.direction=n,r=d.element,H(u.srcEvent.target,r)&&(r=u.srcEvent.target),u.target=r,e.emit("hammer.input",i),e.recognize(i),e.session.prevInput=i}function U(e){for(var t=[],i=0;i<e.pointers.length;)t[i]={clientX:b(e.pointers[i].clientX),clientY:b(e.pointers[i].clientY)},i++;return{timeStamp:ge(),pointers:t,center:Y(t),deltaX:e.deltaX,deltaY:e.deltaY}}function Y(e){var t=e.length;if(1===t)return{x:b(e[0].clientX),y:b(e[0].clientY)};for(var i=0,n=0,s=0;s<t;)i+=e[s].clientX,n+=e[s].clientY,s++;return{x:b(i/t),y:b(n/t)}}function X(e,t,i){return{x:t/e||0,y:i/e||0}}function Z(e,t){return e===t?Ce:w(e)>=w(t)?e<0?T:A:t<0?O:D}function k(e,t,i){var n=t[(i=i||Ae)[0]]-e[i[0]],t=t[i[1]]-e[i[1]];return Math.sqrt(n*n+t*t)}function G(e,t,i){var n=t[(i=i||Ae)[0]]-e[i[0]],t=t[i[1]]-e[i[1]];return 180*Math.atan2(t,n)/Math.PI}function h(){this.evEl="mousedown",this.evWin="mousemove mouseup",this.pressed=!1,u.apply(this,arguments)}function K(){this.evEl=Me,this.evWin=Ee,u.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function J(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,u.apply(this,arguments)}function p(){this.evTarget="touchstart touchmove touchend touchcancel",this.targetIds={},u.apply(this,arguments)}function Q(){u.apply(this,arguments);var e=R(this.handler,this);this.touch=new p(this.manager,e),this.mouse=new h(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function ee(e){var t,i,e=e.changedPointers[0];e.identifier===this.primaryTouch&&(t={x:e.clientX,y:e.clientY},this.lastTouches.push(t),i=this.lastTouches,setTimeout(function(){var e=i.indexOf(t);-1<e&&i.splice(e,1)},Le))}function te(e,t){this.manager=e,this.set(t)}function f(e){this.options=_({},this.defaults,e||{}),this.id=ke++,this.manager=null,this.options.enable=B(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function ie(e){return 16&e?"cancel":8&e?"end":4&e?"move":2&e?"start":""}function ne(e){return e==D?"down":e==O?"up":e==T?"left":e==A?"right":""}function m(e,t){t=t.manager;return t?t.get(e):e}function v(){f.apply(this,arguments)}function se(){v.apply(this,arguments),this.pX=null,this.pY=null}function oe(){v.apply(this,arguments)}function re(){f.apply(this,arguments),this._timer=null,this._input=null}function ae(){v.apply(this,arguments)}function le(){v.apply(this,arguments)}function ce(){f.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function g(e,t){return(t=t||{}).recognizers=B(t.recognizers,g.defaults.preset),new de(e,t)}function de(e,t){this.options=_({},g.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=new((t=this).options.inputClass||(_e?K:xe?p:we?Q:h))(t,W),this.touchAction=new te(this,this.options.touchAction),ue(this,!0),r(this.options.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}function ue(i,n){var s,o=i.element;o.style&&(r(i.options.cssProps,function(e,t){s=d(o.style,t),n?(i.oldCssProps[s]=o.style[s],o.style[s]=e):o.style[s]=i.oldCssProps[s]||""}),n||(i.oldCssProps={}))}var he,pe,fe=["","webkit","Moz","MS","ms","o"],me=j.createElement("div"),ve="function",b=Math.round,w=Math.abs,ge=Date.now,_="function"!=typeof Object.assign?function(e){if(e===y||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),i=1;i<arguments.length;i++){var n=arguments[i];if(n!==y&&null!==n)for(var s in n)n.hasOwnProperty(s)&&(t[s]=n[s])}return t}:Object.assign,be=N(function(e,t,i){for(var n=Object.keys(t),s=0;s<n.length;)i&&e[n[s]]!==y||(e[n[s]]=t[n[s]]),s++;return e},"extend","Use `assign`."),ye=N(function(e,t){return be(e,t,!0)},"merge","Use `assign`."),ke=1,we="ontouchstart"in s,_e=d(s,"PointerEvent")!==y,xe=we&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),x="touch",$e="mouse",Se=25,$=1,S=4,C=8,Ce=1,T=2,A=4,O=8,D=16,z=T|A,F=O|D,Te=z|F,Ae=["x","y"],Oe=["clientX","clientY"],De=(u.prototype={handler:function(){},init:function(){this.evEl&&t(this.element,this.evEl,this.domHandler),this.evTarget&&t(this.target,this.evTarget,this.domHandler),this.evWin&&t(q(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&n(this.element,this.evEl,this.domHandler),this.evTarget&&n(this.target,this.evTarget,this.domHandler),this.evWin&&n(q(this.element),this.evWin,this.domHandler)}},{mousedown:$,mousemove:2,mouseup:S}),ze=(e(h,u,{handler:function(e){var t=De[e.type];t&$&&0===e.button&&(this.pressed=!0),2&t&&1!==e.which&&(t=S),this.pressed&&(t&S&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:$e,srcEvent:e}))}}),{pointerdown:$,pointermove:2,pointerup:S,pointercancel:C,pointerout:C}),Fe={2:x,3:"pen",4:$e,5:"kinect"},Me="pointerdown",Ee="pointermove pointerup pointercancel",Ie=(s.MSPointerEvent&&!s.PointerEvent&&(Me="MSPointerDown",Ee="MSPointerMove MSPointerUp MSPointerCancel"),e(K,u,{handler:function(e){var t=this.store,i=!1,n=e.type.toLowerCase().replace("ms",""),n=ze[n],s=Fe[e.pointerType]||e.pointerType,o=s==x,r=a(t,e.pointerId,"pointerId");n&$&&(0===e.button||o)?r<0&&(t.push(e),r=t.length-1):n&(S|C)&&(i=!0),r<0||(t[r]=e,this.callback(this.manager,n,{pointers:t,changedPointers:[e],pointerType:s,srcEvent:e}),i&&t.splice(r,1))}}),{touchstart:$,touchmove:2,touchend:S,touchcancel:C}),je=(e(J,u,{handler:function(e){var t,i=Ie[e.type];i===$&&(this.started=!0),this.started&&(t=function(e,t){var i=c(e.touches),e=c(e.changedTouches);return[i=t&(S|C)?V(i.concat(e),"identifier",!0):i,e]}.call(this,e,i),i&(S|C)&&t[0].length-t[1].length==0&&(this.started=!1),this.callback(this.manager,i,{pointers:t[0],changedPointers:t[1],pointerType:x,srcEvent:e}))}}),{touchstart:$,touchmove:2,touchend:S,touchcancel:C}),Le=(e(p,u,{handler:function(e){var t=je[e.type],i=function(e,t){var i=c(e.touches),n=this.targetIds;if(t&(2|$)&&1===i.length)return n[i[0].identifier]=!0,[i,i];var s,o=c(e.changedTouches),r=[],a=this.target,l=i.filter(function(e){return H(e.target,a)});if(t===$)for(s=0;s<l.length;)n[l[s].identifier]=!0,s++;for(s=0;s<o.length;)n[o[s].identifier]&&r.push(o[s]),t&(S|C)&&delete n[o[s].identifier],s++;return r.length?[V(l.concat(r),"identifier",!0),r]:void 0}.call(this,e,t);i&&this.callback(this.manager,t,{pointers:i[0],changedPointers:i[1],pointerType:x,srcEvent:e})}}),2500),Ne=(e(Q,u,{handler:function(e,t,i){var n=i.pointerType==x,s=i.pointerType==$e;if(!(s&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents)){if(n)!function(e,t){e&$?(this.primaryTouch=t.changedPointers[0].identifier,ee.call(this,t)):e&(S|C)&&ee.call(this,t)}.call(this,t,i);else if(s&&function(e){for(var t=e.srcEvent.clientX,i=e.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var s=this.lastTouches[n],o=Math.abs(t-s.x),s=Math.abs(i-s.y);if(o<=25&&s<=25)return!0}return!1}.call(this,i))return;this.callback(e,t,i)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}}),d(me.style,"touchAction")),Re=Ne!==y,Pe="compute",Be="manipulation",M="none",E="pan-x",I="pan-y",He=Re&&(he={},pe=s.CSS&&s.CSS.supports,["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(e){he[e]=!pe||s.CSS.supports("touch-action",e)}),he);te.prototype={set:function(e){e==Pe&&(e=this.compute()),Re&&this.manager.element.style&&He[e]&&(this.manager.element.style[Ne]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e,t,i,n=[];return r(this.manager.recognizers,function(e){P(e.options.enable,[e])&&(n=n.concat(e.getTouchAction()))}),l(e=n.join(" "),M)||(t=l(e,E),i=l(e,I),t&&i)?M:t||i?t?E:I:l(e,Be)?Be:"auto"},preventDefaults:function(e){var t=e.srcEvent,i=e.offsetDirection;if(!this.manager.session.prevented){var n=this.actions,s=l(n,M)&&!He[M],o=l(n,I)&&!He[I],n=l(n,E)&&!He[E];if(s){var r=1===e.pointers.length,a=e.distance<2,e=e.deltaTime<250;if(r&&a&&e)return}return(!n||!o)&&(s||o&&i&z||n&&i&F)?this.preventSrc(t):void 0}t.preventDefault()},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}},f.prototype={defaults:{},set:function(e){return _(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){var t;return i(e,"recognizeWith",this)||(t=this.simultaneous)[(e=m(e,this)).id]||(t[e.id]=e).recognizeWith(this),this},dropRecognizeWith:function(e){return i(e,"dropRecognizeWith",this)||(e=m(e,this),delete this.simultaneous[e.id]),this},requireFailure:function(e){var t;return i(e,"requireFailure",this)||-1===a(t=this.requireFail,e=m(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){return i(e,"dropRequireFailure",this)||(e=m(e,this),-1<(e=a(this.requireFail,e))&&this.requireFail.splice(e,1)),this},hasRequireFailures:function(){return 0<this.requireFail.length},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(t){function e(e){i.manager.emit(e,t)}var i=this,n=this.state;n<8&&e(i.options.event+ie(n)),e(i.options.event),t.additionalEvent&&e(t.additionalEvent),8<=n&&e(i.options.event+ie(n))},tryEmit:function(e){return this.canEmit()?this.emit(e):void(this.state=32)},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(33&this.requireFail[e].state))return!1;e++}return!0},recognize:function(e){e=_({},e);return P(this.options.enable,[this,e])?(56&this.state&&(this.state=1),this.state=this.process(e),void(30&this.state&&this.tryEmit(e))):(this.reset(),void(this.state=32))},process:function(e){},getTouchAction:function(){},reset:function(){}},e(v,f,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,i=e.eventType,n=6&t,e=this.attrTest(e);return n&&(i&C||!e)?16|t:n||e?i&S?8|t:2&t?4|t:2:32}}),e(se,v,{defaults:{event:"pan",threshold:10,pointers:1,direction:Te},getTouchAction:function(){var e=this.options.direction,t=[];return e&z&&t.push(I),e&F&&t.push(E),t},directionTest:function(e){var t=this.options,i=!0,n=e.distance,s=e.direction,o=e.deltaX,r=e.deltaY;return s&t.direction||(n=t.direction&z?(s=0===o?Ce:o<0?T:A,i=o!=this.pX,Math.abs(e.deltaX)):(s=0===r?Ce:r<0?O:D,i=r!=this.pY,Math.abs(e.deltaY))),e.direction=s,i&&n>t.threshold&&s&t.direction},attrTest:function(e){return v.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=ne(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),e(oe,v,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[M]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},emit:function(e){var t;1!==e.scale&&(t=e.scale<1?"in":"out",e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),e(re,f,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(e){var t=this.options,i=e.pointers.length===t.pointers,n=e.distance<t.threshold,s=e.deltaTime>t.time;if(this._input=e,!n||!i||e.eventType&(S|C)&&!s)this.reset();else if(e.eventType&$)this.reset(),this._timer=L(function(){this.state=8,this.tryEmit()},t.time,this);else if(e.eventType&S)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(e){8===this.state&&(e&&e.eventType&S?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=ge(),this.manager.emit(this.options.event,this._input)))}}),e(ae,v,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[M]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)}}),e(le,v,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:z|F,pointers:1},getTouchAction:function(){return se.prototype.getTouchAction.call(this)},attrTest:function(e){var t,i=this.options.direction;return i&(z|F)?t=e.overallVelocity:i&z?t=e.overallVelocityX:i&F&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&i&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&w(t)>this.options.velocity&&e.eventType&S},emit:function(e){var t=ne(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),e(ce,f,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Be]},process:function(e){var t=this.options,i=e.pointers.length===t.pointers,n=e.distance<t.threshold,s=e.deltaTime<t.time;if(this.reset(),e.eventType&$&&0===this.count)return this.failTimeout();if(n&&s&&i){if(e.eventType!=S)return this.failTimeout();n=!this.pTime||e.timeStamp-this.pTime<t.interval,s=!this.pCenter||k(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,s&&n?this.count+=1:this.count=1,this._input=e,0==this.count%t.taps)return this.hasRequireFailures()?(this._timer=L(function(){this.state=8,this.tryEmit()},t.interval,this),2):8}return 32},failTimeout:function(){return this._timer=L(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),g.VERSION="2.0.8",g.defaults={domEvents:!1,touchAction:Pe,enable:!0,inputTarget:null,inputClass:null,preset:[[ae,{enable:!1}],[oe,{enable:!1},["rotate"]],[le,{direction:z}],[se,{direction:z},["swipe"]],[ce],[ce,{event:"doubletap",taps:2},["tap"]],[re]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};de.prototype={set:function(e){return _(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){this.touchAction.preventDefaults(e);var i,n=this.recognizers,s=t.curRecognizer;(!s||8&s.state)&&(s=t.curRecognizer=null);for(var o=0;o<n.length;)i=n[o],2===t.stopped||s&&i!=s&&!i.canRecognizeWith(s)?i.reset():i.recognize(e),!s&&14&i.state&&(s=t.curRecognizer=i),o++}},get:function(e){if(e instanceof f)return e;for(var t=this.recognizers,i=0;i<t.length;i++)if(t[i].options.event==e)return t[i];return null},add:function(e){var t;return i(e,"add",this)?this:((t=this.get(e.options.event))&&this.remove(t),this.recognizers.push(e),(e.manager=this).touchAction.update(),e)},remove:function(e){var t;return i(e,"remove",this)||(e=this.get(e))&&-1!==(e=a(t=this.recognizers,e))&&(t.splice(e,1),this.touchAction.update()),this},on:function(e,t){var i;if(e!==y&&t!==y)return i=this.handlers,r(o(e),function(e){i[e]=i[e]||[],i[e].push(t)}),this},off:function(e,t){var i;if(e!==y)return i=this.handlers,r(o(e),function(e){t?i[e]&&i[e].splice(a(i[e],t),1):delete i[e]}),this},emit:function(e,t){this.options.domEvents&&(i=e,n=t,(s=j.createEvent("Event")).initEvent(i,!0,!0),(s.gesture=n).target.dispatchEvent(s));var i,n,s,o=this.handlers[e]&&this.handlers[e].slice();if(o&&o.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var r=0;r<o.length;)o[r](t),r++}},destroy:function(){this.element&&ue(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},_(g,{INPUT_START:$,INPUT_MOVE:2,INPUT_END:S,INPUT_CANCEL:C,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:Ce,DIRECTION_LEFT:T,DIRECTION_RIGHT:A,DIRECTION_UP:O,DIRECTION_DOWN:D,DIRECTION_HORIZONTAL:z,DIRECTION_VERTICAL:F,DIRECTION_ALL:Te,Manager:de,Input:u,TouchAction:te,TouchInput:p,MouseInput:h,PointerEventInput:K,TouchMouseInput:Q,SingleTouchInput:J,Recognizer:f,AttrRecognizer:v,Tap:ce,Pan:se,Swipe:le,Pinch:oe,Rotate:ae,Press:re,on:t,off:n,each:r,merge:ye,extend:be,assign:_,inherit:e,bindFn:R,prefixed:d}),(void 0!==s?s:"undefined"!=typeof self?self:{}).Hammer=g,"function"==typeof define&&define.amd?define(function(){return g}):"undefined"!=typeof module&&module.exports?module.exports=g:s.Hammer=g}(window,document),function(){"use strict";Object.filter=(i,t)=>Object.keys(i).filter(e=>t(i[e])).reduce((e,t)=>Object.assign(e,{[t]:i[t]}),{});let r={_checkIteratee(e){if("function"!=typeof e){let t=e;e=function(e){return e[t]}}return e},debounce(n,s,o){var r;return function(){var e=this,t=arguments,i=o&&!r;clearTimeout(r),r=setTimeout(function(){r=null,o||n.apply(e,t)},s),i&&n.apply(e,t)}},map(e,t){t=this._checkIteratee(t);var i,n=[];for(i in e)e.hasOwnProperty(i)&&n.push(t(e[i],i));return n},min(e,t){return(t?this.map(e,t):e).reduce((e,t)=>Math.min(e,t))},max(e,t){return(t?this.map(e,t):e).reduce((e,t)=>Math.max(e,t))},maxBy(n,s){if(s=this._checkIteratee(s),n&&n.length){let t=n[0],i=s(t);var o;for(let e=1;e<n.length;e++)i<(o=s(n[e]))&&(t=n[e],i=o);return t}},each(e,t){for(var i in e)e.hasOwnProperty(i)&&t(e[i],i)},size(e){return null==e?0:Object.keys(e).length},isNumber(e){return this.isFloat(e)||this.isInteger(e)},isFloat(e){return null!=e&&parseFloat(e).toString()==e.toString()},isInteger(e){return null!=e&&parseInt(e).toString()==e.toString()},isObject(e){return e&&"object"==typeof e&&!Array.isArray(e)},isString(e){return"string"==typeof e},isArray(e){return Array.isArray(e)},isFunction(e){return"function"==typeof e&&"number"!=typeof e.nodeType},isNull(e){return null==e},isNotNull(e){return null!=e},nvl(e,t){return this.isNull(e)?t:e},camelCase(e){return e.replace(/-([a-z])/g,(e,t)=>t.toUpperCase())},unCamelCase(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},isPlainObject(e){var t=Function.prototype.toString,i=t.call(Object),e=Object.getPrototypeOf(e);return null===e||"function"==typeof(e=hasOwnProperty.call(e,"constructor")&&e.constructor)&&e instanceof e&&t.call(e)==i},reverse(e){return Array.from(e).reverse()},flatten(e,t=!1){let i=[];return this.each(e,e=>{Array.isArray(e)?i=this.concat(i,t?this.flatten(e,t):e):i.push(e)}),i},has(e,t){return null!=e&&hasOwnProperty.call(e,t)},clone(e){return JSON.parse(JSON.stringify(e))},uniq(e){return e.filter((e,t,i)=>i.indexOf(e)===t)},concat(){if(arguments.length){let t=arguments[0];for(let e=1;e<arguments.length;e++)t=t.concat(arguments[e]);return t}},intersect(e,t){return r.isArray?e.filter(e=>t.includes(e)):Object.keys(e).filter(e=>t.hasOwnProperty(e))},intersection(t,i){return r.isArray?i.filter(e=>-1!==t.indexOf(e)):Object.values(t).filter(e=>i.indexOf(e))},compact(e){for(var t=-1,i=null==e?0:e.length,n=0,s=[];++t<i;){var o=e[t];o&&(s[n++]=o)}return s},pick(e,i){return this.pickBy(e,(e,t)=>-1!=i.indexOf(t))},pickBy(e,i){if(null==e)return{};let n={};return this.each(e,(e,t)=>{i(e,t)&&(n[t]=e)}),n},identity(e){return e},keys(e){return Object.keys(e)},chunk(e,t){var i=[];let n=0;for(;n<e.length;)i.push(e.slice(n,n+t)),n+=t;return i},merge(){let t=arguments[0],i=(null==t&&(t={}),Object.assign(Array.isArray(t)&&Array.isArray(arguments[1])?[]:{},t)),n=!1;"boolean"==typeof arguments[arguments.length-1]&&(n=!0,[].pop.apply(arguments));for(let e=1;e<arguments.length;e++){var s=arguments[e];"object"==typeof t&&"object"==typeof s&&r.each(s,(e,t)=>{(this.isObject(e)||Array.isArray(e)&&0==e.length)&&n&&t in i&&"object"==typeof i[t]?i[t]=this.merge(i[t],e,n):Object.assign(i,{[t]:e})})}return i},combine(e,i){if(!e||e.constructor!==Array)return!1;var t,n={},s=e.length;if(s!=(i=this.isArray(i)?i:Array.apply(null,Array(s)).map(function(e,t){return i})).length)return!1;for(t=0;t<s;t++)n[e[t]]=i[t];return n},diff(e,t){return Object.keys(e).filter(e=>!t.hasOwnProperty(e))},difference(e,t){return e.filter(e=>!t.includes(e))},differenceWith(e,n,s){if(null==s&&(s=this.isEqual),this.isObject(e)){let i={};return r.each(e,(e,t)=>{null!==n&&void 0!==n[t]&&s(n[t],e)||(i[t]="object"==typeof e&&n&&void 0!==n[t]?this.differenceWith(e,n[t],s):e,void 0!==i[t]&&"object"==typeof i[t]&&0==r.size(i[t])&&delete i[t])}),i}if(Array.isArray(e)){var t,i,o=[];for(t in e)n.hasOwnProperty(t)&&"object"==typeof e[t]?(i=this.differenceWith(e[t],n[t],s),this.size(i)&&o.push(i)):o.push(e[t]);return o}return s(e,n)},includes(e,t,i){return(i=i||0)<=(e="object"==typeof e?Object.values(e):e).length&&-1<e.indexOf(t,i)},symDiff(t,i){return t.filter(e=>!i.includes(e)).concat(i.filter(e=>!t.includes(e)))},isEqual(e,t){return"object"==typeof e||"array"==typeof e?JSON.stringify(r.sort(e))===JSON.stringify(r.sort(t)):e===t},some(n,e){if("object"!=typeof e)return"function"==typeof e?e(n):null==e?n:n==e;{let i=!0;return r.each(e,(e,t)=>{i=i&&n[t]==e}),i}},filterRecursive(e,n){return this.transform(e,(e,t,i)=>{this.isArray(t)?e[i]=this.filter(r.map(t,e=>this.isObject(e)?this.filterRecursive(e,n):e),n):this.isObject(t)?e[i]=this.filterRecursive(t,n):this.some(t,n)&&(e[i]=t)})},transform(i,n,s){var e;return null==s&&(e=i&&i.constructor,s=this.isArray(i)?[]:this.isObject(i)&&this.isFunction(e)?Object.create(Object.getPrototypeOf(i)):{}),this.each(i,(e,t)=>{n(s,e,t,i)}),s},filter(e,t){var i,n=this.isArray(e),s=n?[]:{};for(i in e)e.hasOwnProperty(i)&&this.some(e[i],t)&&(n?s.push(e[i]):s[i]=e[i]);return s},find(e,t){for(var i in e)if(e.hasOwnProperty(i)&&this.some(e[i],t))return e[i];return null},findIndex(e,t){for(var i in e)if(e.hasOwnProperty(i)&&this.some(e[i],t))return parseInt(i);return-1},sort(t){let i={};return"object"!=typeof t||null===t?parseInt(t)==t?parseInt(t):t:(Object.keys(t).sort().forEach(e=>{i[e]=this.sort(t[e])}),i)},sortBy(n,s){var e=Object.keys(n);e.sort("function"==typeof s?function(e,t){return s(n[e],n[t],e,t)}:function(e,t){var i=typeof n[e][s]==typeof n[t][s]&&"number"==typeof n[t][s]?{numeric:!0}:void 0;return(null===n[e][s]?"":n[e][s]).toString().localeCompare((null===n[t][s]?"":n[t][s]).toString(),void 0,i)});let t=[];return e.forEach(function(e){t.push(n[e])}),t},sumBy(e,t){let i=0;for(var n in e)e.hasOwnProperty(n)&&(i+=t(e[n],n));return i},reduce(e,t,i){for(var n in e)e.hasOwnProperty(n)&&(i=null==i?e[n]:t(i,e[n]));return i},sum(e,i=null){return this.sumBy(e,(e,t)=>i?e[i]:e)},isEmpty(e){return null==e||""==e||"[object Object]"==Object.prototype.toString.call(e)&&0==Object.keys(e).length},values(e){var t,i=[];for(t in e)e.hasOwnProperty(t)&&i.push(e[t]);return i},groupBy(e,i){let n={},s=this.isArray(e);return r.each(e,(e,t)=>{null==n[e[i]]&&(n[e[i]]=s?[]:{}),s?n[e[i]].push(e):n[e[i]][t]=e}),n}};window._=r,window.__=r}(),function(){function l(e,t){return new RegExp(e,t)}window.typography={protectStack:[],defaultConfig:{mode:"html",chars:!0,quotes:!0,quotesLevel:2,lang:"ru",spaces:!0,dashs:!0,nbsp:!0},protect:function(e,t){t=t.replace(/&lt;raw&gt;/g,"<raw>").replace(/&lt;\/raw&gt;/g,"</raw>");var i=0;if(s=t.match(l("<raw?>[\\s\\S]+?</raw?>","g")))for(;i<s.length;i++)t=t.replace(s[i],"✁UNTYPO"+this.protectStack.length+"S✃"),this.protectStack.push(s[i]);return t},unprotect:function(e,t){for(;0<this.protectStack.length;){var i=this.protectStack.pop().replace(l("<\\/?raw>","g"),"");t=t.replace("✁UNTYPO"+this.protectStack.length+"S✃",i)}return t},process:function(o,e){let r=this.defaultConfig;typoend=!0;r.lang=e;e=-1!=r.mode.indexOf("html");o=(o=(o||"").toString().replace(/(\r\n|\r)/g,"\n")).replace(/(http|https|ftp|ftps|tel)\:\/\/([а-яА-Яa-zA-Z0-9\-\.]+\.[а-яА-Яa-zA-Z]{2,})(\/[^\s"']*)?/g,"<raw>$1://$2$3</raw>"),e&&(o=o.replace(/(<pre[^<>]*?>)/g,"<raw>$1").replace(/(<\/pre>)/g,"$1</raw>").replace(/(<script[^<>]*?>|<style[^<>]*?>)/g,"<raw>$1").replace(/(<\/script>|<\/style>)/g,"$1</raw>").replace(/(<!--(.|\n)*?-->)/g,"<raw>$1</raw>").replace(/(="[^"\n\r]*")/g,"<raw>$1</raw>"));for(var t,i,n=0;n<10;++n)o=(o=o.replace(l("(<raw>)([\\s\\S]*?)(<\\/?raw>)","g"),function(e,t,i,n){return"/"!=n.charAt(1)?t+i:e})).replace(l("(<\\/raw>)([\\s\\S]*?)(<\\/?raw>)","g"),function(e,t,i,n){return"/"==n.charAt(1)?i+n:e});if(o=(o=(o=(o=this.protect(r,o)).replace(/<\/?p>/gi,"")).replace(/<\/?h1>/gi,"")).replace(/<\/?nobr>/gi,""),r.chars&&(o=o.replace(/\(c\)/g,"©").replace(/\(r\)/g,"®").replace(/\(tm\)/g,"™"),o=(o=e?o:o.replace(/&lt;/g,"<").replace(/&gt;/g,">")).replace(/…/g,"...")),r.quotes&&(o=o.replace(/«|»|”|“|„/g,'"'),"ru"==r.lang)&&(o=o.replace(/‚|‘/g,'"')),r.spaces){o=(o=o.replace(/(^)[ \t]+/g,"$1")).replace(/ {2,}/g," ");for(n=0;n<2;++n)o=o.replace(/([  \n\t\v]|^)([иаксуов]|же|до|из|н[аое]|по|о[тб]|за|как|что|над|под|пр[ои]|или|для|без) ([А-яёЁ])/gi,"$1$2&nbsp;$3")}if(o=o.replace(/(\n|^)[  \t]+/g,"$1"),r.dashs&&("ru"==r.lang&&(e="(где|зачем|как|какая|каки[емх]|како[ейм]|какого|какому|кем|когда|кого|кому?|кто|куда|откуда|почему|чего|чему?|что|ч[её]м)",i="(январ"+(t="(?:[ьяюе]|[её]м)")+"|феврал"+t+"|март"+(i="(?:[ауе]|ом)")+"|апрел"+t+"|ма(?:[йяюе]|ем)|ию[нл]"+t+"август"+i+"|сентябр"+t+"|ноябр"+t+"|октябр"+t+"|декабр"+t+")",o=(o=(o=(o=(o=(o=o.replace(/(\s|^|<p>)([«"„‚]*)(-|–)([\s]|$)/g,"$1$2—$4")).replace(/([A-Za-zА-яёЁ0-9]) —/g,"$1 —")).replace(/([\.,!?] |\n|^|<p>)— ([A-Za-zА-яёЁ0-9«"„‚])/g,"$1— $2")).replace(l("([^А-яёЁ]|^)"+e+"(?:[  ]?|-[  ]|[  ]-)(то|либо|нибудь)([^А-яёЁ]|$)","gi"),"$1$2-$3$4").replace(l("([^А-яёЁ]|^)"+e+"(?:[  ]?|-[  ]|[  ]-)(то|либо|нибудь)([^А-яёЁ]|$)","gi"),"$1$2-$3$4").replace(l("([^А-яёЁ]|^)(кое|кой)(?:[  ]?[-—]?[  ]?)"+e+"([^А-яёЁ]|$)","gi"),"$1$2-$3$4").replace(l("([^А-яёЁ]|^)(ко[ей])(?:[  ]?[-—]?[  ]?)"+e+"([^А-яёЁ]|$)","gi"),"$1$2-$3$4").replace(/([\s]|^)(из)(?:[  ]?[-—]?[  ]?)(за)([\s]|$)/gi,"$1$2-$3$4").replace(/([\s]|^)(из)(?:[  ]?[-—]?[  ]?)(под)([\s]|$)/gi,"$1$2-$3$4").replace(/([А-яёЁ]{2,}) (ка|кась)([\s,\.\?!]|$)/g,"$1-$2$3").replace(/([^А-яёЁ]|^)(вс[ёе]|так)(?:[  ]?|-[  ]|[  ]-)(таки)([^А-яёЁ]|$)/gi,"$1$2-$3$4").replace(/(ГОСТ(?:[  ]Р)?(?:[  ](?:ИСО|ISO))?)[  ]([\d\.]+)-([\d]+)/gi,"$1 $2–$3")).replace(/([IVXLCDM]{1,3})-([IVXLCDM]{1,3})[  ]?вв?\.?([\s\.,?!;\)])/g,"$1—$2 вв.$3").replace(/([\d]{1,4})-([\d]{1,4})[  ]?гг?\.([\s\.,?!;\)])/g,"$1–$2 гг.$3").replace(/([^\d]|^)([0-2][0-9]:[0-5][0-9])-([0-2][0-9]:[0-5][0-9])([^\d]|$)/g,"$1$2–$3$4")).replace(l("([\\s]|^)([1-3]?[\\d])-([1-3]?[\\d])[  ]?"+i+"([^А-яёЁ]|$)","gi"),"$1$2–$3 $4$5").replace(l("([^А-яёЁ]|^)"+i+"-"+i+"([^А-яёЁ]|&)","gi"),"$1$2—$3$4")),o=o.replace(/(\d)--(\d)/g,"$1–$2").replace(/([^-]|\s|^)--([^-]|$|\n)/g,"$1—$2").replace(/([^-\d]|^)(\d+)-(\d+)([^-\d]|$)/g,"$1$2−$3$4").replace(/([^a-z][a-z]|[Α-Ωα-ω+=*\/])-(\d)/g,"$1−$2")),r.chars&&(o=o.replace(/([^\.])\.{2,4}/g,"$1...").replace(/(\?!|!\?)\.{3}/g,"?!.").replace(/\?\.{3}/g,"?..").replace(/!\.{3}/g,"!..").replace(/(!+)(\?+)/g,"$2$1").replace(/(0*[1-9]\d*)[xх](\d+?)/g,"$1×$2").replace(/(\d+?)([  ])[xх]([  ])(\d+?)/g,"$1×$4").replace(/([0-9a-zA-ZΑ-Ωα-ωА-яёЁ])\^([0-9]+)/g,function(e,t,i){for(var n=i,s=0;s<10;++s)n=n.replace(l("0123456789".charAt(s),"g"),"⁰¹²³⁴⁵⁶⁷⁸⁹".charAt(s));return t+n}).replace(/!=/g,"≠").replace(/\+\/[\-−]/g,"±").replace(/~=/g,"≈").replace(/&lt;=/g,"≤").replace(/&gt;=/g,"≥").replace(/<-([^-]|&)/g,"←$1").replace(/([^-]|^)->/g,"$1→").replace(/(!+)(\?+)/g,"$2$1").replace(/\?{3,}/g,"???").replace(/!{3,}/g,"!!!")),r.quotes)if(o=(o=(o=o.replace(/(^|\n|\s|—|-|\()"/g,"$1«").replace(/"($|\n|\s|—|-|\.|,|!|\?|:|;|\))/g,"»$1").replace(/«\)/g,"»)").replace(/«( ?)/g,"«").replace(/( ?)»/g,"»").replace(/>"/g,">«").replace(/"</g,"»<").replace(/«""/g,"«««").replace(/«"/g,"««").replace(/""»/g,"»»»").replace(/"»/g,"»»").replace(/("{2}|"»)/g,"»»").replace(/$"/g,"«").replace(/([A-Za-zа-яА-ЯёЁ])'/g,"$1’")).replace(/[a-zA-ZА-яёЁ]"-/g,"$1»-").replace(/-"[a-zA-ZА-яёЁ]/g,"-«$1")).replace(/(^[^«»]*)"/g,"$1«").replace(/"([^«»]*$)/g,"»$1").replace(/«([^«»]*)"/g,"«$1»").replace(/"([^«»]*)»/g,"«$1»"),"ru"==r.lang&&1<r.quotesLevel){for(var s=0,n=0;n<o.length;++n)if("«"==o.charAt(n)){++s;for(var a=n+1;a<o.length;++a)if("«"==o.charAt(a)&&++s,"»"==o.charAt(a)&&--s<=0){o=function(e,t){var i="",n="";0!=e&&(i=o.substring(0,e)),t!=o.length-1&&(n=o.substring(t+1,o.length));for(var s=o.substring(e,t+1),e=0;e<32;++e)s=s.replace(/«([^«»]*)«([^»]*)»/g,"«$1„$2“"),2<r.quotesLevel&&(s=s.replace(/„([^„“]*)„([^“]*)“/g,"„$1‚$2‘"));return i+s+n}(n,a),n=a;break}s=0}}else o=o.replace(/'([A-Za-zа-яА-ЯёЁ])/g,"‘$1");return o=(o="ru"!=r.lang?o.replace(/«/g,"“").replace(/»/g,"”"):o).replace(/ (\))/g,"$1"),o=this.unprotect(r,o)}}}(),function(o,s){"use strict";let r=function(e,t){return e instanceof r?e:new r.fn.init(e,t)},a=new Promise((e,t)=>{function i(){s.removeEventListener("DOMContentLoaded",i),o.removeEventListener("load",i),e(r),a=null}s.addEventListener("DOMContentLoaded",i),o.addEventListener("load",i)}),i=(a.then(()=>{r(document).trigger("ready")}),{float:"cssFloat"});function l(e){return e=(e=e.replace(/\:(first|last)([\x20\t\r\n\f])?/gi,":$1-child$2")).replace(/\:(checkbox|password|radio|reset|submit|text)([\x20\t\r\n\f])?/gi,"[type=$1]$2")}r.fn=r.prototype={length:0,constructor:r,init:function(i,e){if(i){if(e instanceof r&&(e=e[0]),i instanceof r)return this.constructor(e).find(i);"string"==typeof e&&(e=s.querySelector(l(e)));var t=r.isWindow(i);if(i.nodeType||t)1!=i.nodeType&&9!=i.nodeType&&!t||(this[0]=i,this.length=1);else if(Array.isArray(i)||i instanceof HTMLCollection)for(let e=this.length=0;e<i.length;e++)1==i[e].nodeType&&(this[this.length]=i[e],this.length++);else if("function"==typeof i)a?a.then(i):i(r);else{if("string"!=typeof i)return"object"==typeof i?(this[this.length]=i,this.length++,this):void 0;t=/^[^<]*(<[\w\W]+>)[^>]*$|^#([\w-]+)$/.exec(i);if(t&&t[1]){var t=s.createElement("template"),n=i.trim();t.innerHTML=n,this.length=1,this[0]=t.content.firstChild}else if(!e||null!=e.nodeType){let t=null;try{t=(e||s).querySelectorAll(l(i))}catch(e){}if(t&&t.length){this.length=t.length;for(let e=0;e<t.length;e++)this[e]=t[e]}}}}return this},children:function(){if(!this.length)return this;let t=[];return this.each(e=>{t=_.concat(t,Array.prototype.slice.call(e.children))}),r(t)},parent:function(t){if(!this.length)return this;let i=[];return this.each(e=>{if(t)for(;(e=e.parentNode)&&("function"==typeof e.matches?!e.matches(t):!e.matchesSelector(t)););else e=e.parentNode;i.push(e)}),r(i)},parents:function(){let i=[];return this.each(e=>{let t=this[0].parentNode;for(;t!==document;){e=t;i.push(e),t=e.parentNode}}),i.push(document),r(_.uniq(i))},find:function(e){return this.length?r(e,this[0]):this},closest:function(e){return r(this.length?this[0].closest(e):null)},prop:function(e,t){return void 0!==t?this[0][e]=t:this.length?this[0][e]:null},attr:function(t,i){return i?(this.each(e=>{e.setAttribute(t,i)}),this):null!==i?this.length?this[0].getAttribute(t):null:void this.removeAttr(t)},removeAttr:function(t){return this.each(e=>e.removeAttribute(t)),this},hasAttr:function(e){return void 0!==this.attr(e)},get:function(e){return this.length>e?r(this[e]):null},first:function(){return this.get(0)},each:function(t){for(let e=0;e<this.length;e++)t.apply(this[e],[this[e]])},toArray:function(){return r.makeArray(this)},addClass:function(e,t){return _.each((e||"").trim().replace(/[ ]{2,}/g," ").split(/\s+/),t=>{this.each(e=>e.classList.add(t))}),null!=t&&setTimeout(()=>this.removeClass(e),t),this},removeClass:function(e){return Array.isArray(e)||(e=[e]),_.each(e,e=>{_.each((e||"").split(/\s+/),t=>{this.each(e=>e.classList.remove(t))})}),this},hasClass:function(e){return this.length&&this[0].classList.contains(e)},toggleClass:function(e,i){return _.each((e||"").split(/\s+/),t=>{this.each(e=>e.classList.toggle(t,i))}),this},remove(){return this.each(e=>{e.remove()}),this},append:function(e){return this.length&&r(e).each(e=>this[0].appendChild(e)),this},prepend:function(e){return this.length&&r(e).each(e=>this[0].insertBefore(e,this[0].children[0])),this},insertBefore:function(e){e=r(e)[0];return this.insertBeforeAfter(e,e)},insertAfter:function(e){e=r(e)[0];return this.insertBeforeAfter(e,e.nextSibling)},insertBeforeAfter:function(t,i){return this.each(e=>{t.parentNode.insertBefore(e,i)}),this},appendTo:function(e){return r(e).append(this),this},prependTo:function(e){return r(e).prepend(this),this},data:function(e,t){if(null!=t||"object"==typeof e)return t="object"==typeof e?e:{[e]:t},_.each(t,(t,i)=>{i=_.camelCase(i),this.each(e=>e.dataset[i]=t)}),this;if(this.length){function n(e){return _.isInteger(e)?parseInt(e):__.isFloat(e)?parseFloat(e):"false"===e||"true"===e?"true"==e:e}if(e)return n(this[0].dataset[_.camelCase(e)]);{let i={};return _.each(this[0].dataset,(e,t)=>{i[t]=n(e)}),i}}return[]},index:function(e){if(this.length){let t=null;t=e?e.children:this[0].parentNode?this[0].parentNode.children:[this[0]];for(let e=0;e<t.length;e++)if(t[e]==this[0])return e}return-1},triggerHandler:function(e,t){return this.trigger(e,t,!0)},trigger:function(i,n,s){return i=i.split(".")[0],this.each(e=>{let t;window.CustomEvent?t=new CustomEvent(i,{detail:n}):(t=document.createEvent("CustomEvent")).initCustomEvent(i,!0,!0,n),Object.defineProperty(t,"target",{writable:!1,value:e}),null==e.dispatchEvent||s?null!=e.$tinyquery&&null!=e.$tinyquery[i]&&_.each(e.$tinyquery[i],e=>{(n=Array.isArray(n)?n:[n]).unshift(t),e.cb.apply(this,n)}):e.dispatchEvent(t),document.body.dispatchEvent(t)}),this},_triggerEvent:function(n){let s=this;_.each(s.$tinyquery[n.type],e=>{let t=!0,i=n.target;if(e.selector)do{}while(1==i.nodeType&&("function"==typeof i.matches?i.matches(e.selector):i.matchesSelector(e.selector))&&(t=e.cb.apply(i,[n])),(i=i.parentNode)&&9!=i.nodeType);else t=e.cb.apply(s,[n]);!1===t&&(n.preventDefault(),n.stopPropagation())})},on:function(t,n,s){if("function"==typeof n&&(s=n,n=null),null!=s){let e=this;return _.each(t.replace(/[ ]+/," ").split(" "),i=>{i=i.split(".")[0],this.each(t=>{null==t.$tinyquery&&(t.$tinyquery={}),null==t.$tinyquery[i]&&(t.$tinyquery[i]=[]),n?(n=l(n),_.each(n.replace(/[ ]+/," ").split(","),e=>t.$tinyquery[i].push({selector:e,cb:s}))):t.$tinyquery[i].push({cb:s}),null!=t.addEventListener&&t.addEventListener(i,e._triggerEvent)})}),this}},one:function(t,i,n){"function"==typeof i&&(n=i,i=null);let s=this,o=e=>{n.apply(this,[e]),s.off(t,i,o)};return this.on(t,i,o)},off:function(e,t,o){"function"==typeof t&&(o=t,t=null);let i=this;return _.each(e.replace(/[ ]+/," ").split(" "),s=>{s=s.split(".")[0],this.each(n=>{if(t||o){if(t)_.each(t.replace(/[ ]+/," ").split(","),t=>{if(null!=n.$tinyquery&&null!=n.$tinyquery[s])for(let e=0;e<n.$tinyquery[s].length;e++){var i=n.$tinyquery[s][e];if(i.selector==t&&(i.cb==o||!o)){n.$tinyquery[s].splice(e,1);break}}});else if(null!=n.$tinyquery&&null!=n.$tinyquery[s])for(let e=0;e<n.$tinyquery[s].length;e++)if(n.$tinyquery[s][e].cb==o||!o){n.$tinyquery[s].splice(e,1);break}null==n.$tinyquery||null==n.$tinyquery[s]||n.$tinyquery[s].length||(n.removeEventListener(s,i._triggerEvent),delete n.$tinyquery[s])}else n.removeEventListener(s,i._triggerEvent),null!=n.$tinyquery&&null!=n.$tinyquery[s]&&delete n.$tinyquery[s]})}),this},delegate:function(e,t,i){return this.on(t,e,i)},undelegate:function(e,t,i){return this.off(t,e,i)},val:function(t){return null==t?this.length&&-1!=["INPUT","TEXTAREA","SELECT"].indexOf(this[0].tagName)?this[0].value:null:(this.each(e=>{-1!=["INPUT","TEXTAREA","SELECT"].indexOf(e.tagName)&&(e.value=t)}),this)},is:function(e){return!!this.length&&("function"==typeof this[0].matches?this[0].matches(e):"function"==typeof this[0].matchesSelector&&this[0].matchesSelector(e))},has:function(n){return this.filter((e,t)=>{var i=r(n,t);for(let e=0;e<i.length;e++)if(t.contains(i[e]))return t;return!1})},filter:function(t){if("function"!=typeof t)return this.has(t);var i=[];for(let e=0;e<this.length;e++)t.apply(this[e],[e,this[e]])&&i.push(this[e]);return r(i)},html:function(t){return null!=t?(null!=(t=t instanceof r?t.length?t[0].outerHTML:"":t).outerHTML&&(t=t.outerHTML),this.each(e=>{e.innerHTML=t}),this):this.length?this[0].innerHTML:null},text:function(t){return null!=t?(this.each(e=>{e.innerText=t}),this):this.length?"string"==typeof this[0].textContent?this[0].textContent:this[0].innerText:""},clone(){return r(this.map(e=>e.cloneNode(!0)))},empty:function(){return this.html("")},hide(){return this.toggle(!1)},show(){return this.toggle(!0)},toggle(t){return this.each(e=>{e.style.display=null==t?"none"==e.style.display?"block":"none":t?"block":"none"}),this},focus(){this.length&&this[0].focus()},blur(){this.length&&this[0].blur()},viewportOffset:function(){return this.length?this[0].getBoundingClientRect():{x:null,y:null,width:null,height:null,left:null,top:null,right:null,bottom:null}},offset:function(){if(this.length){var t=0,i=0;let e=this[0];for(;e;)t+=e.offsetLeft,i+=e.offsetTop,e=e.offsetParent;return{left:t,top:i}}return{left:null,top:null}},position:function(){return this.length?{left:this[0].offsetLeft,top:this[0].offsetTop}:{left:null,top:null}},_scrollValue:function(e){var t=this[0],i=r.isWindow(t)?t:9===t.nodeType&&t.defaultView;return i?i[{scrollLeft:"pageXOffset",scrollTop:"pageYOffset"}[e]]:t[e]},scrollTop:function(){return this._scrollValue("scrollTop")},scrollLeft:function(){return this._scrollValue("scrollLeft")},next:function(){return this.length?r(this[0].nextElementSibling||this[0].nextSibling):this},prev:function(){return this.length?r(this[0].previousElementSibling||this[0].previousSibling):this},eq:function(e){return r(this.length>e?this[e]:null)},css:function(n,t){var e,s=(e,t)=>(-1!=["width","height","left","top","right","bottom"].indexOf(e)&&_.isNumber(t)&&(t+="px"),t),o=e=>null!=i[e]?i[e]:_.camelCase(e);if(_.isObject(n)){for(var r in n){let t=o(r),i=s(t,n[r]);this.each(e=>e.style[t]=i)}return this}return n=o(n),void 0!==t?(t=s(n,t),this.each(e=>{e.style[n]=t}),this):((e=this[0].ownerDocument.defaultView)&&e.opener||(e=window),this[0].style[n]||e.getComputedStyle(this[0]).getPropertyValue(_.unCamelCase(n))||null)},map:function(t){return _.map(r.makeArray(this),e=>t.apply(e,[e]))},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},outerHeight:function(){var e;return 0==this.length?-1:(e=window.getComputedStyle(this[0]),e=parseFloat(e.marginTop)+parseFloat(e.marginBottom),this[0].offsetHeight+e)},outerWidth:function(){var e;return 0==this.length?-1:(e=window.getComputedStyle(this[0]),e=parseFloat(e.marginLeft)+parseFloat(e.marginRight),this[0].offsetWidth+e)},submit:function(){return this.length&&this[0].submit(),this}},_.each(["click","dblclick","resize","scroll","keypress","keydown","keyup","change","mouseenter","mouseleave","ready","load"],i=>{r.fn[i]=function(e,t){return null==e&&null==t?this.trigger(i):this.on(i,e,t)}}),_.each(["height","width"],n=>{let s=n;r.fn[s]=function(){var e,t,i;return 0==this.length?null:(i=this[0],e=n.substr(0,1).toUpperCase()+n.substr(1),r.isWindow(i)?i.innerHeight:9==i.nodeType?(t=i.documentElement,Math.max(i.body["scroll"+e],t["scroll"+e],i.body["offset"+e],t["offset"+e],t["client"+e])):(i=o.getComputedStyle(this[0],null),parseInt(i.getPropertyValue(s))))}}),r.contains=function(e,t){e.contains(t)},r.isWindow=function(e){return null!=e&&e===e.window},r.isset=function(e){return void 0!==e&&null!=e},r.nvl=function(e,t){return void 0===e||null==e?t:e},r.param=function(e,t){var i,n,s,o=[];for(i in e)e.hasOwnProperty(i)&&(null==e[i]&&(e[i]=""),"boolean"==typeof e[i]&&(e[i]=e[i]?1:0),n=t?t+"["+i+"]":i,s=e[i],o.push(null!==s&&"object"==typeof s?r.param(s,n):encodeURIComponent(n)+"="+(null!==s?encodeURIComponent(s):"")));return o.join("&")},r.getScript=function(e,i){if(null!=i){let t="_mx_callback"+Math.floor(1e5*Math.random());window[t]=e=>{i(e),delete window[t]},e+=(-1!=e.indexOf("?")?"&":"?")+"callback="+t}var t=document.createElement("script");t.type="text/javascript",t.src=e,document.head.appendChild(t)},r.extend=r.fn.extend=function(){let e=!1,t=0;var i=arguments.length;let n=this;return"boolean"==typeof arguments[0]&&(e=arguments[0],t++),i>t+1&&(n=arguments[t],t++),_.merge(n,arguments[t],e)},r.each=function(e,t){for(var i in e)e.hasOwnProperty(i)&&t(i,e[i])},r.makeArray=function(t){var i=[];for(let e=0;e<t.length;e++)i.push(t[e]);return i},r.proxy=function(e,t){let i=Array.prototype.slice.call(arguments,2);return function(){return e.apply(t,i.concat(Array.prototype.slice.call(arguments)))}},r.fn.init.prototype=r.fn,o.$=o.$mx=r}(window,document),window,document,$mx.request=function(o,r){return new Promise((n,s)=>{var e={headers:Object.assign($mx.nvl(o.headers,{}),{"X-Requested-With":"XMLHttpRequest"}),method:o.method||"get",mode:o.mode||"same-origin",credentials:o.credentials||"same-origin"};let t=o.url;switch(e.method){case"get":o.data=o.data||o.json,t=o.url+(_.isEmpty(o.data)?"":"?"+$mx.param(o.data));break;case"post":null!=o.json?(e.body=JSON.stringify(o.json),e.headers["Content-Type"]="application/json"):(!(o.data instanceof FormData)&&"object"==typeof o.data?(e.body=$mx.param(o.data),e.headers["Content-Type"]="application/x-www-form-urlencoded"):e.body=o.data,null!=o.headers&&(e.headers=Object.assign(e.headers,o.headers)))}fetch(t,e).then(t=>{var e=t.headers.get("Content-Type");let i=e=>{n({data:e,headers:t.headers,status:t.status,response:t})};if(403==t.status)"application/json"==e.split(";")[0]?t.json().then(e=>{"challenge"==e.result&&null!=e.response.payload?$mx.get("/challenge-platform/check.jsdata",e.response).then(()=>{this.request(o).then(n).catch(s)}).catch(s):"challenge"==e.result&&null!=e.response.sitekey?i(e):s(t)}).catch(s):s(t);else if(429==t.status)setTimeout(()=>{this.request(o).then(n).catch(s)},1e3);else if(400<=t.status)s(t);else{e=e.split(";")[0];switch(r=r||("application/json"==e?"json":"text")){case"blob":t.blob().then(i).catch(s);break;case"json":t.json().then(i).catch(s);break;case"text":t.text().then(i).catch(s)}}}).catch(s)})},$mx.get=function(e,t,i){return $mx.request({url:e,method:"get",data:t},i)},$mx.post=function(e,t,i){return $mx.request({url:e,method:"post",data:t},i)},function(){"use strict";$mx.lazyScripts=[],$mx.lazyScriptsLoading=[],$mx.lazyScriptsPrefix="/s",$mx(function(){$mx.lazyScripts=_.filter(_.flatten([].concat($mx.makeArray($mx("script[src]").map(function(){return this.getAttribute("src").split("?")[0]})),$mx.makeArray($mx("link[rel=stylesheet]").map(function(){return this.getAttribute("href").split("?")[0]})))))}),$mx.lazy=function(e,t,i,n,s,o=null){let r=0,a=("function"==typeof t&&(i=t,t=null),null==t&&(t=[]),0);var l=document.querySelector("link[type='text/css']").href.match(/\?([0-9\.]+)/);let c=o||(l?l[0]:""),d=e=>{0==--a&&"function"==typeof i&&i(e)},u=e=>{for(var t=0;t<$mx.lazyScriptsLoading[e].length;t++)$mx.lazyScriptsLoading[e][t].apply(null,[t]);$mx.lazyScripts.push(e),delete $mx.lazyScriptsLoading[e]};if("string"==typeof e&&(e=[e]),"string"==typeof t&&(t=[t]),a=e.length+t.length){for(var h=0;h<t.length;h++)(e=>{let t=e;var i;"//"!=e.substring(0,2)&&(e=("/"!=e[0]?$mx.lazyScriptsPrefix+"/css/":"")+e),-1!=$mx.lazyScripts.indexOf(e)?(d(0),s&&s(e,r++,"css")):(null==$mx.lazyScriptsLoading[e]&&($mx.lazyScriptsLoading[e]=[]),$mx.lazyScriptsLoading[e].push(d),1==$mx.lazyScriptsLoading[e].length&&((i=document.createElement("link")).setAttribute("rel","stylesheet"),i.setAttribute("type","text/css"),i.setAttribute("href",e+(-1==e.indexOf("?")?c:"")),i.onload=()=>{u(e),i.onload=null,s&&s(t,r++,"css")},document.head.appendChild(i)))})(t[h]);for(h=0;h<e.length;h++)(e=>{let t=e;var i;-1==e.indexOf("//")&&e[0]&&(e=$mx.lazyScriptsPrefix+"/js/"+e),-1!=$mx.lazyScripts.indexOf(e)?(d(0),s&&s(e,r++,"js")):(null==$mx.lazyScriptsLoading[e]&&($mx.lazyScriptsLoading[e]=[]),$mx.lazyScriptsLoading[e].push(d),1==$mx.lazyScriptsLoading[e].length&&((i=document.createElement("script")).type="text/javascript",i.src=e+(-1==e.indexOf("?")?c:""),n&&_.each(n,(e,t)=>{i.setAttribute(t,e)}),i.onload=()=>{u(e),i.onload=null,s&&s(t,r++,"js")},document.head.appendChild(i)))})(e[h])}else i(0)}}(window),function(t){"use strict";var a=[],l=[];$mx.observe=function(e,t,i){$mx(function(){t&&($mx(e).each(function(){t.call(this,$mx(this))}),a.push([e,t])),i&&l.push([e,i])})},$mx(function(){var e=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;function r(e,i){for(let t=0;t<i.length;t++){for(var n=i[t][0],s=[],o=0;o<e.length;o++){var r=e[o];if(1===r.nodeType){c=n,d=void 0,(d=(l=r).matches||l.matchesSelector||l.msMatchesSelector||l.mozMatchesSelector||l.webkitMatchesSelector||l.oMatchesSelector)&&d.call(l,c)&&s.push(r);var a=r.querySelectorAll(n);for(let e=0;e<a.length;e++)s.push(a[e])}}s.length&&s.filter(function(e,t,i){return i.indexOf(e)===t}).forEach(function(e){i[t][1].call(e,$mx(e))})}var l,c,d}$mx.isset(e)||((e=function(t){this.onAdded=function(e){t([{addedNodes:[e.target],removedNodes:[]}])},this.onRemoved=function(e){t([{addedNodes:[],removedNodes:[e.target]}])}}).prototype.observe=function(e){e.addEventListener("DOMNodeInserted",this.onAdded),e.addEventListener("DOMNodeRemoved",this.onRemoved)}),new e(function(e){var t=[],i=[];e.forEach(function(e){t.push.apply(t,e.addedNodes),i.push.apply(i,e.removedNodes)});for(var n=0,s=i.length;n<s;++n){var o=t.indexOf(i[n]);-1<o&&(t.splice(o,1),i.splice(n--,1))}r(t,a),r(i,l),i.length=t.length=0}).observe(t.body,{childList:!0,subtree:!0})})}(document,window),$mx.scrollIt=scrollIt,$mx.fn.scrollIt=function(e=300,t="y",i=null,n="linear",s,o,r={x:0,y:0}){return scrollIt(this[0],t,i&&$mx(i)[0],e,n,s,o,r),this},window.dataLayer=window.dataLayer||[],gtag("js",new Date),window.$events.on("statistic:event",(e,t)=>{console.log("event:",t.name,t.params||null)}),window.ecommerceEvent=null,document.addEventListener("DOMContentLoaded",function(){$events.on("tap",function(e,t){var i,n=Date.now();"basic"!=window.account.tariff_current&&t.stat&&(i=$mx.param(Object.assign({},{data:t.data,tms:n,url:document.location.href})),null!=navigator.sendBeacon?navigator.sendBeacon("/api/stat/"+t.stat+"/ping.json?"+i):$mx.get("/api/stat/"+t.stat+"/ping.json?"+i)),t.tms=n,window.$events.fire("__tap",t)});var e,t=document.location.hash.match(/#paid:([a-zA-Z0-9\+\/\\\=]+)/);t&&(e=[],null!=(t=decodeURIComponent(escape(window.atob(t[1]))).split(":"))[3]&&e.push({id:t[3],name:null==t[4]?t[3]:t[4]}),window.ecommerceEvent={type:"purchase",id:t[0],budget:parseFloat(t[1]),currency:t[2],contents:e,content_type:"product"},document.location.hash=document.location.hash.replace(/#paid:([a-zA-Z0-9]+)/,""),console.log("paid:",window.ecommerceEvent))},{once:!0});var google_index=64,google_codes=[],googleTagsLoadedUrl=null;function googleTagsInit(s){googleTagsLoadedUrl=googleTagsLoadedUrl||"//googletagmanager.com/gtag/js?id="+s.id,console.log("Init googletag:",s.id),$mx.lazy(googleTagsLoadedUrl,function(){function e(e,t){var t={transaction_id:t.id,affiliation:"Taplink",value:t.budget,currency:t.currency,send_to:s.id},i=(i=document.location.host.split("."))[i.length-2]+"."+i[i.length-1];-1==["taplink.ru","taplink.at"].indexOf(i)&&n&&gtag("event","purchase",t)}var n=s.customer;gtag("config",s.id,n?{}:{user_id:s.uid}),$events.on("navigate",(e,t)=>{gtag("config",s.id,{page_path:t.path}),gtag("event","page_view",{send_to:s.id})}),n?($events.on("__tap",(e,t)=>{t.addons&&null!=t.addons["googleanalytics-goal"]&&gtag("event",(t=JSON.parse(t.addons["googleanalytics-goal"])).a,{event_category:t.c,send_to:s.id})}),$events.on("lead",(e,t)=>{t.addons&&null!=t.addons["googleanalytics-goal"]&&gtag("event",(t=JSON.parse(t.addons["googleanalytics-goal"])).a,{event_category:t.c,send_to:s.id})})):window.$events.on("statistic:event",(e,t)=>{gtag("event",t.name,{event_category:"taplink",send_to:s.id})},!0);$mx(document).on("paid",e),ecommerceEvent&&"purchase"==ecommerceEvent.type&&e(0,ecommerceEvent),$events.on("paid",e)})}function googleAnalyticsInit(s){$mx.lazy("//www.google-analytics.com/analytics.js",function(){if(null!=window.ga){google_index++;var n=String.fromCharCode(google_index);if(-1==google_codes.indexOf(s.id)){google_codes.push(s.id),console.log("Init googleanalytics:",s.id);var e=s.customer;if(ga("create",s.id,"auto",n,e?void 0:s.uid),ga(n+".send","pageview"),null!=s.require)for(require=s.require.split(","),i=0;i<require.length;i++)ga(n+".require",require[i]);function t(e,t){ga(n+".require","ecommerce"),ga(n+".ecommerce:addTransaction",{id:t.id,affiliation:"Taplink",revenue:t.budget,currency:t.currency}),ga(n+".ecommerce:send")}$events.on("navigate",function(e,t){ga(n+".set","page",t.path),ga(n+".send","pageview")}),e?($events.on("__tap",(e,t)=>{t.addons&&null!=t.addons["googleanalytics-goal"]&&(t=JSON.parse(t.addons["googleanalytics-goal"]),ga(n+".send","event",t.c,t.a))}),$events.on("lead",(e,t)=>{t.addons&&null!=t.addons["googleanalytics-goal"]&&(t=JSON.parse(t.addons["googleanalytics-goal"]),ga(n+".send","event",t.c,t.a))})):($mx(document).on("click",'[data-track-event="payment"]',function(){ga(n+".send","event","taplink","payment")}),$events.on("statistic:event",(e,t)=>{ga(n+".send","event","taplink",t.name)},!0));$mx(document).on("paid",t),ecommerceEvent&&"purchase"==ecommerceEvent.type&&t(0,ecommerceEvent),$events.on("paid",t)}}})}function HotjarPixelInit(e){var t;console.log("Init HotJar pixel:",e.id),(t=window).hj=t.hj||function(){(t.hj.q=t.hj.q||[]).push(arguments)},t._hjSettings={hjid:e.id,hjsv:e.sv},$mx.lazy("https://static.hotjar.com/c/hotjar-"+t._hjSettings.hjid+".js?sv="+t._hjSettings.hjsv)}function linkedinPixelInit(e){console.log("Init LinkedIn pixel:",e.id),_linkedin_partner_id=e.id,window._linkedin_data_partner_ids=window._linkedin_data_partner_ids||[],window._linkedin_data_partner_ids.push(_linkedin_partner_id),window.lintrk||(window.lintrk=function(e,t){window.lintrk.q.push([e,t])},window.lintrk.q=[]),$mx.lazy("https://snap.licdn.com/li.lms-analytics/insight.min.js"),$events.on("navigate",(e,t)=>{setTimeout(()=>{window.lintrk("track")},0)}),$events.on("lead",(e,t)=>{t.addons&&null!=t.addons["linkedinpixel-conversion"]&&(t=JSON.parse(t.addons["linkedinpixel-conversion"]),window.lintrk("track",{conversion_id:t.id}))}),$events.on("__tap",(e,t)=>{t.addons&&null!=t.addons["linkedinpixel-conversion"]&&(t=JSON.parse(t.addons["linkedinpixel-conversion"]),window.lintrk("track",{conversion_id:t.id}))})}function snapchatPixelInit(e){var t,i,n;console.log("Init Snapchat pixel:",e.id),t=window,i=document,t.snaptr||((n=t.snaptr=function(){n.handleRequest?n.handleRequest.apply(n,arguments):n.queue.push(arguments)}).queue=[],(r=i.createElement("script")).async=!0,r.src="https://sc-static.net/scevent.min.js",(t=i.getElementsByTagName("script")[0]).parentNode.insertBefore(r,t)),snaptr("init",e.id),snaptr("track","PAGE_VIEW"),$events.on("navigate",(e,t)=>{setTimeout(()=>{snaptr("track","PAGE_VIEW")},0)}),$events.on("lead",(e,t)=>{t.addons&&null!=t.addons["snapchatpixel-goal"]&&(t=JSON.parse(t.addons["snapchatpixel-goal"]),snaptr("track",t))}),$events.on("addToCart",function(e,t){let i=t.product.price;_.each(t.options,(e,t)=>{i+=e.price}),snaptr("track","ADD_CART",{price:i,currency:t.currency})}),$events.on("__tap",(e,t)=>{var i;t.addons&&null!=t.addons["snapchatpixel-goal"]?(i=JSON.parse(t.addons["snapchatpixel-goal"]),snaptr("track",i)):t.data&&_.each(t.data,e=>{e&&e.event&&snaptr("track",e.param)})})}function tiktokPixelInit(e){console.log("Init TikTok pixel:",e.id);window.TiktokAnalyticsObject="ttq";let s=window.ttq=window.ttq||[];s.methods=["page","track","identify","instances","debug","on","off","once","ready","alias","group","enableCookie","disableCookie"],s.setAndDefer=function(e,t){e[t]=function(){e.push([t].concat(Array.prototype.slice.call(arguments,0)))}};for(var t=0;t<s.methods.length;t++)s.setAndDefer(s,s.methods[t]);s.instance=function(e){for(var t=s._i[e]||[],i=0;i<s.methods.length;i++)s.setAndDefer(t,s.methods[i]);return t},s.load=function(e,t){var i="https://analytics.tiktok.com/i18n/pixel/events.js";s._i=s._i||{},s._i[e]=[],s._i[e]._u=i,s._t=s._t||{},s._t[e]=+new Date,s._o=s._o||{},s._o[e]=t||{},$mx.lazy(i+"?sdkid="+e+"&lib=ttq")};let o=e.id;s.load(o),s.page(),$events.on("navigate",(e,t)=>{setTimeout(()=>{s.instance(o).page()},0)}),$events.on("lead",(e,t)=>{t.addons&&null!=t.addons["tiktokpixel-goal"]?(t=JSON.parse(t.addons["tiktokpixel-goal"]),s.instance(o).track("SubmitForm",{id:t})):s.instance(o).track("SubmitForm")}),$events.on("addToCart",function(e,t){let i=t.product.price,n=[{content_id:"product:"+t.product_id,content_type:"product",quantity:1,price:i}];__.each(t.options,(e,t)=>{i+=e.price,n.push({content_id:"option:"+t,content_type:"product",quantity:1,price:e.price})}),s.instance(o).track("AddToCart",{value:i,currency:t.currency,contents:n})}),$mx(document).on("click",'[data-track-event="payment"]',function(){s.instance(o).track("InitiateCheckout")}),$events.on("__tap",(e,i)=>{if(i.addons&&null!=i.addons["tiktokpixel-goal"]){var t=JSON.parse(i.addons["tiktokpixel-goal"]);s.instance(o).track("ClickButton",{content_type:"product",content_id:t}),console.log("TikTok click:",{content_type:"product",content_id:t})}else if(i.data){let t=[];__.each(i.data,e=>{e&&e.event&&t.push(e.event+":"+e.param)}),__.each(__.uniq(t),e=>{s.instance(o).track("ClickButton",{content_type:"product",content_id:e}),console.log("TikTok click:",{content_type:"product",content_id:e})})}})}function topmailruInit(i){console.log("Init Top@Mail.ru:",i.id),(window._tmr||(window._tmr=[])).push({id:i.id,type:"pageView",start:(new Date).getTime()}),$mx.lazy("https://top-fwz1.mail.ru/js/code.js",()=>{$events.on("navigate",function(e,t){setTimeout(()=>{window._tmr.pageView({id:i.id,url:location.href})},0)}),$events.on("lead",(e,t)=>{t.addons&&null!=t.addons["topmailru-goal"]&&(null==(t=JSON.parse(t.addons["topmailru-goal"])).type||"event"==t.type?window._tmr.sendEvent({category:t.c,action:t.a,label:t.l}):window._tmr.push({type:"reachGoal",goal:t.g}))}),$events.on("__tap",(e,t)=>{t.addons&&null!=t.addons["topmailru-goal"]&&(null==(t=JSON.parse(t.addons["topmailru-goal"])).type||"event"==t.type?window._tmr.sendEvent({category:t.c,action:t.a,label:t.l}):window._tmr.push({type:"reachGoal",goal:t.g}))})})}function vkontaktePixelInit(e){console.log("Init Vkontakte pixel:",e.id),$mx.lazy("https://vk.com/js/api/openapi.js?169",()=>{VK.Retargeting.Init(e.id),VK.Retargeting.Hit();$events.on("navigate",function(e,t){setTimeout(()=>{VK._pData.url=location.href,VK.Retargeting.Hit()},0)}),$events.on("messenger",(e,t)=>{VK.Goal("contact")}),$events.on("lead",(e,t)=>{VK.Goal("lead")}),$events.on("addToCart",(e,t)=>{let i=t.product.price;_.each(t.options,(e,t)=>{i+=e.price}),VK.Goal("add_to_cart",{value:i})}),$events.on("initiateCheckout",(e,t)=>{VK.Goal("initiate_checkout",{value:t.value})}),$events.on("search",function(e,t){VK.Goal("search")}),$events.on("__tap",(e,t)=>{var i;t.addons&&null!=t.addons["vkontakte-goal"]&&(i=JSON.parse(t.addons["vkontakte-goal"]),VK.Retargeting.Event(i)),t.data&&_.each(t.data,e=>{e&&e.event&&VK.Retargeting.Event(e.event)})})})}$mx.observe(".googletags",e=>{e.removeClass("googletags"),googleTagsInit(e.data())}),$mx.observe(".googleanalytics",e=>{e.removeClass("googleanalytics"),googleAnalyticsInit(e.data())});var metrika_index=64,metrika_codes=[],stat_socials={tk:[{ua:/\s(BytedanceWebview|TikTok)/,domain:"tiktok.com"}],tg:[{domain:"org.telegram.messenger",has:window.TelegramWebviewProxy}],ig:[{ua:/\sInstagram\s/,domain:"instagram.com"}],in:[{domain:"linkedin.com"}],vk:[{domain:"vk.com"}],tw:[{ua:/\sTwitter/,domain:"t.co"}],fb:[{ua:/\[FBAN\//,domain:"facebook.com"}],pt:[{us:/\[Pinterest\//,domain:"pinterest.com"}],yt:[{domain:"youtube.com"}],sn:[{ua:/Snapchat\//,domain:"snapchat.com"}],ln:[{ua:/\sLine\//}],we:[{ua:/\sWeixin\//}],ok:[{domain:"ok.ru"}],sr:[{domain:"(google|yandex|ya|yahoo|bing|baidu|duckduckgo|sogou|rambler).[a-z]+"},{domain:"mail.ru"}]};let search=window.location.search,referrer=document.referrer;var stat_social=null;function yandexMetrikaInit(s){console.log("Init metrika: ",s.id,s);let o=s.format||"tag";if(s.simple){var e=window.navigator;let n=["la",e.language||e.userLanguage||e.browserLanguage].join(":");44929738==s.id&&$events.on("pageview",function(e,t){if(null!=t.page_id&&null!=t.profile_id){t="pages/"+t.profile_id.toString(16)+"/"+t.page_id.toString(16),t="https://mc.yandex.ru/watch/84470437?page-ref="+encodeURIComponent(document.referrer)+"&page-url="+encodeURIComponent("https://taplink.cloud/"+t+"/"+(stat_social?"?from="+stat_social:""))+"&browser-info="+encodeURIComponent(n)+"&rn="+Math.random();if(null!=navigator.sendBeacon)navigator.sendBeacon(t);else{let e=$mx('<img class="stat" src="'+t+'">').load(()=>e.remove());e.appendTo(document.body)}}});$events.on("navigate",function(e,t){console.log("stat navigate");let i=$mx('<img class="stat" src="https://mc.yandex.ru/watch/'+s.id+"?page-ref="+encodeURIComponent(document.referrer)+"&page-url="+encodeURIComponent(document.location.origin+document.location.pathname)+"&browser-info="+encodeURIComponent(n)+"&rn="+Math.random()+'">').load(()=>i.remove());i.appendTo(document.body)}),$events.on("__tap",function(e,t){if("basic"!=window.account.tariff_current&&44929738==s.id){t="https://mc.yandex.ru/watch/84470437?page-ref="+encodeURIComponent(document.referrer)+"&page-url="+encodeURIComponent("https://taplink.cloud/block/"+t.page_id+"/"+t.block_id+(null!=t.slot?"/"+t.slot:"")+"/"+(stat_social?"?from="+stat_social:""))+"&rn="+Math.random();if(null!=navigator.sendBeacon)navigator.sendBeacon(t);else{let e=$mx('<img class="stat" src="'+t+'">').load(()=>e.remove());e.appendTo(document.body)}}})}else{e=()=>{var t,n,e;t=document,n=window,e="yandex_metrika_callbacks"+("tag"==o?"2":""),(n[e]=n[e]||[]).push(function(){try{if(-1==metrika_codes.indexOf(s.id)){metrika_codes.push(s.id),metrika_index++,s.ecommerce="dataLayer_"+String.fromCharCode(metrika_index),window[s.ecommerce]=window[s.ecommerce]||[];var i=null;switch(o){case"watch":i=new Ya.Metrika(s);break;case"tag":i=new Ya.Metrika2(s)}n["yaCounter"+s.id]=i;if($events.on("navigate",function(e,t){i.hit(t.path)}),s.customer)window.$events.on("__tap",(e,t)=>{t.addons&&t.addons["yandexmetrika-goal"]&&i.reachGoal(t.addons["yandexmetrika-goal"])}),$events.on("lead",(e,t)=>{i.reachGoal("ym-submit-leadform"),t.addons&&null!=t.addons["yandexmetrika-goal"]&&i.reachGoal(t.addons["yandexmetrika-goal"])}),$mx(document).on("paid",()=>{i.reachGoal("ym-purchase")}).on("click",'[data-track-event="payment"]',function(){i.reachGoal("ym-open-leadform")}),$events.on("paid",()=>{i.reachGoal("ym-purchase")});else{$mx(t).on("click",'[data-track-event="payment"]',function(){i.reachGoal("payment")}),window.$events.on("statistic:event",(e,t)=>{i.reachGoal(t.name)},!0).on("account:updated",()=>{e()});let e=()=>{null!=window.account&&window.account.profile_id&&i.setUserID(window.account.profile_id)};e()}function e(e,t){var i={ecommerce:{}};null!=t.currency&&(i.ecommerce.currencyCode=t.currency),i.ecommerce[t.type]={products:t.products},"purchase"==t.type&&(i.ecommerce[t.type].actionField={id:t.id,revenue:t.budget}),window[s.ecommerce].push(i)}$mx(t).on("paid",e),ecommerceEvent&&"purchase"==ecommerceEvent.type&&e(0,ecommerceEvent)}}catch(e){}}),$mx.lazy("https://cdn.jsdelivr.net/npm/yandex-metrica-watch/"+o+".js")};s.lazy?setTimeout(e,3e3):e()}}_.each(stat_socials,(e,t)=>{_.each(e,e=>{!stat_social&&(e.ua&&navigator.userAgent.match(e.ua)||e.has||e.domain&&referrer.match(new RegExp("\\/\\/([a-z]+\\.)?"+e.domain.replace(".","\\.")+"[\\/]?")))&&(stat_social=t)})}),stat_social=(stat_social=!(stat_social=!(stat_social=!stat_social&&search.match(/[\?\&]from=qr/)?"qr":stat_social)&&search.match(/[\?\&]from=widget/)?"wg":stat_social)&&search.match(/[\?\&]from=app/)?"ap":stat_social)||(referrer?"rf":"br"),$mx.observe(".yandexmetrika",e=>{e.removeClass("yandexmetrika"),yandexMetrikaInit(e.data())}),$mx(document).ready(function(){$mx("body").append('<div style="position:absolute;top:-1000px;z-index: -1"><div id="autoResizeTextareaCopy" style="white-space:pre-wrap;box-sizing: border-box; -moz-box-sizing: border-box;  -ms-box-sizing: border-box; -webkit-box-sizing: border-box; visibility: hidden;"></div></div>');var a=$mx("#autoResizeTextareaCopy");function n(e){var t=e.is("textarea"),n=getComputedStyle(e[0]);a.css({fontFamily:n.getPropertyValue("font-family"),fontSize:n.getPropertyValue("font-size"),lineHeight:n.getPropertyValue("line-height"),padding:n.getPropertyValue("padding"),paddingLeft:n.getPropertyValue("padding-left"),paddingRight:n.getPropertyValue("padding-right"),paddingTop:n.getPropertyValue("padding-top"),paddingBottom:n.getPropertyValue("padding-bottom"),overflow:"hidden",width:t?e.css("width"):null});let s=e.val()||e.attr("placeholder")||"";if(e.hasAttr("rows")&&(!e.closest(".has-form-compact").length||e.is(".is-ignore-form-compact"))){var o=s.replace(/[^\n]*/g,"").length+1;for(i=0;i<parseInt(e.attr("rows"))-o;i++)s+="\n"}s=s.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br/>"),a.html(s+(t?"<br />":""));var n=e.data();let r=a.outerHeight();n.padding&&(r+=parseInt(n.padding)),n.heightMin&&(r=Math.max(r,n.heightMin)),e.css("height",r),t?0!=parseInt(r)&&e.css("overflow-y","hidden"):(n=a.outerWidth(),e.css("width",n))}$mx.fn.autoResize=function(e){var t=$mx(this);t.on("keyup keydown keypress change paste input cut paste focus",function(){n(t)}),n(t)}}),$mx.observe(".autoresize-init",function(e){setTimeout(()=>{e.autoResize()},150)});var Device={install:function(e,t){e.prototype.$device=d=e.observable({mobile:!1,desktop:!1,lg:!1,md:!1,sm:!1,dark:!1,class:""});let i=window.matchMedia;e=()=>{var e=!!i("(max-width: 767px)").matches;d.mobile=e,d.desktop=!e,d.lg=!!i("(min-width: 1200px)").matches,d.md=!!i("(min-width: 992px)").matches,d.sm=!!i("(min-width: 768px)").matches,d.dark=!!i("(prefers-color-scheme: dark)").matches,d.class=d.lg?"lg":d.md?"md":d.sm?"sm":"xs",document.documentElement.className=document.documentElement.className.replace(/\bis\-device\-[a-z]+/,"").trim()+" is-device-"+(e?"mobile":"desktop")};e(),$mx(window).on("resize orientationchange",e);i("(prefers-color-scheme: dark)").addEventListener("change",e);e=navigator.userAgent;d.isSafari=-1!=e.indexOf("Safari/"),d.isChrome=-1!=e.indexOf("Chrome/"),d.isMobile=-1!=e.indexOf("Mobile/"),d.isOpera=-1!=e.indexOf("Opera/")||-1!=e.indexOf("OPR/")||-1!=e.indexOf("OPT/"),d.isInstagram=-1!=e.indexOf("Instagram"),window.$device=d}},m=(null!=window.Vue&&Vue.use(Device),document.querySelector("link[type='text/css']").href.match(/\?([0-9\.]+)/)),scriptsVersion=m?m[0]:"";function nope(){}function prepareTimezones(){let i=[],n=new Date,s=n.getTimezoneOffset()/60,o=n.getTime();for(var t=-12;t<=13;t++){let e=[];switch(t){case 4:case 5:case 6:case 9:case 10:e=[t,t+.5];break;case-9:case-2:case-3:e=[t-.5,t];break;case 5:case 8:case 12:case 13:e=[t,t+.75];break;default:e=[t]}__.each(e,e=>{n.setTime(o-3600*(-s-e)*1e3);var t=e-Math.floor(e);i.push({k:e,v:window.$vue.$datetime(n)+", (Etc/GMT"+(0<=e?"+":"-")+(Math.abs(e)<10?"0":"")+Math.floor(Math.abs(e))+":"+(t?60*t:"00")+")"})})}return i}function showLightboxPicture(e){$mx.lazy("//cdn.jsdelivr.net/npm/basiclightbox@5.0.4/dist/basicLightbox.min.js","//cdn.jsdelivr.net/npm/basiclightbox@5.0.4/dist/basicLightbox.min.css",()=>{basicLightbox.create('<img src="'+e+'">').show()})}function go(e){void 0===e&&(e=document.location.href),-1!=(i=e.indexOf("#"))&&(e=e.substr(0,i)),document.location=e}function checkHeightCSS(){var e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",e+"px")}String.prototype.trim=function(){return this.replace(/^\s*/,"").replace(/\s*$/,"")},$mx(function(){var e;$mx(document.body).on("click",'a[href="#"]',function(e){e.preventDefault()}),-1!=document.location.hash.indexOf("#event=")&&(e=document.location.hash.split("="),$mx('[href="#'+e[1]+'"]').click()),$mx(document.body).on("keydown",".skip-enter",function(e){if(13==e.keyCode)return e.preventDefault(),!1})}),function(){"use strict";var a,r,l,s=window,o=document;function c(e){for(var t=e._util,i=0;i<t.count;i++){var n=t.elements[i];(function(e,t){var i=e.getBoundingClientRect();if(t.container&&Element.prototype.closest){var n,s,o,e=e.closest(t.containerClass);if(e)return d(e=e.getBoundingClientRect(),r)&&(n=e.top-t.offset,s=e.right+t.offset,o=e.bottom+t.offset,e=e.left-t.offset,t={top:n>r.top?n:r.top,right:s<r.right?s:r.right,bottom:o<r.bottom?o:r.bottom,left:e>r.left?e:r.left},d(i,t))}return d(i,r)}(n,e.options)||$mx(n).hasClass(e.options.successClass))&&(e.load($mx(n)),t.elements.splice(i,1),t.count--,i--)}}function d(e,t){return e.right>=t.left&&e.bottom>=t.top&&e.left<=t.right&&e.top<=t.bottom}function u(t,e){t.addClass(e.successClass),e.success&&e.success(t),t.removeAttr(e.src).removeAttr(e.srcset),_.each(e.breakpoints,function(e){$mx(t).removeAttr(e.src)})}function h(e,t,i){i?e.attr("srcset",i):e.attr("src",t)}function p(e){r.bottom=(s.innerHeight||o.documentElement.clientHeight)+e,r.right=(s.innerWidth||o.documentElement.clientWidth)+e}s.Blazy=function(e){var t=this,i=t._util={elements:[],count:0,destroyed:!0},e=(t.options=_.merge({error:!1,offset:100,root:o,success:!1,selector:".lazy",separator:"|",errorClass:"has-error",breakpoints:!1,loadInvisible:!1,successClass:"is-loaded",validateDelay:25,srcset:"data-srcset",src:"data-src"},e||{}),t.options.saveViewportOffsetDelay=t.options.saveViewportOffsetDelay||50,t.options.containerClass=t.options.container,t.options.container=!!t.options.containerClass&&$mx(t.options.containerClass),l=1<s.devicePixelRatio,r={top:0-t.options.offset,left:0-t.options.offset},t.revalidate=function(){c(t)},t.load=function(e,t){var i,n,s,o=e,e=t,r=this.options;!o.hasClass(r.successClass)&&(e||r.loadInvisible||0<o[0].offsetWidth&&0<o[0].offsetHeight)&&((e=o.attr(a)||o.attr(r.src))?(e=e.split(r.separator),i=e[l&&1<e.length?1:0],n=o.attr(r.srcset),s=o.is("img"),o.parent(),s||void 0===o[0].src?((e=$mx(new Image)).one("error",()=>{r.error&&r.error(o,"invalid"),o.addClass(r.errorClass)}).one("load",()=>{s?h(o,i,n):o.is(".is-mask")?o.css("mask-image",'url("'+i+'")').css("-webkit-mask-image",'url("'+i+'")'):o.css("background-image",'url("'+i+'")'),u(o,r)}),h(e,i,n)):(o[0].src=i,u(o,r))):(o.trigger("lazy-hit"),r.error&&r.error(o,"missing"),o.addClass(r.successClass)))},t.destroy=function(){var e=t._util;t.options.container&&t.options.container.off("scroll lazy",e.validateT),$mx(s).off("scroll resize lazy",e.validateT).off("resize",e.saveViewportOffsetT),e.count=0,e.elements.length=0,e.destroyed=!0},i.validateT=_.debounce(function(){c(t)},t.options.validateDelay),i.saveViewportOffsetT=_.debounce(function(){p(t.options.offset)},t.options.saveViewportOffsetDelay),p(t.options.offset),_.each(t.options.breakpoints,function(e){if(e.width>=s.screen.width)return a=e.src,!1}),t),n=e._util;n.destroyed&&(n.destroyed=!1,e.options.container&&e.options.container.on("scroll lazy",n.validateT),$mx(s).on("resize",n.saveViewportOffsetT).on("resize scroll lazy",n.validateT)),c(e),$mx.observe(t.options.selector,e=>{i.elements.push(e[0]),i.count++,e.is(".lazy-force")?t.load(e):i.validateT(),e.one("lazy-force",()=>{t.load(e)})},e=>{e=i.elements.indexOf(e[0]);-1!=e&&(i.elements.splice(e,1),i.count--)})}}(),$mx(function(){new Blazy({loadInvisible:!0,offset:200,success:e=>{$mx(e).trigger("loaded")}})}),null!=window.Vue&&Vue.directive("mask",{twoWay:!0,bind:function(i,e,t){let n=e.value,s=n.preg?new RegExp("["+(n.inverse?"":"^")+n.preg+"]+","g"):null;this.handler=function(){let e=i.value;if(null!=n.transform)switch(n.transform){case"lower":e=e.toLowerCase();break;case"upper":e=e.toUpperCase()}var t;s&&(e=e.replace(s,"")),i.value!=e&&(i.value=e,(t=document.createEvent("HTMLEvents")).initEvent("input",!0,!0),i.dispatchEvent(t))}.bind(this),i.addEventListener("input",this.handler)},unbind:function(e){e.removeEventListener("input",this.handler)}}),InfinityModel={data(){return{bottom:!1,isInfinityActive:!0,fields:[],next:0,isFetching:!1,isFlowFetching:!1}},mounted(){this.$nextTick(()=>{this.scroll()}),"edit"==this.mode&&(this.isInfinityActive=!1),this.container.on("scroll",this.scroll)},beforeDestroy(){this.container.off("scroll",this.scroll)},watch:{bottom(){this.checkBottom()},next(){this.$nextTick(()=>{this.scroll(),this.checkBottom()})}},computed:{container(){return $mx(this.$device.mobile?".main-block":window)}},methods:{scroll(){this.isInfinityActive&&(this.bottom=this.bottomVisible())},clearData(){this.fields=[],this.next=0},checkBottom(){this.bottom&&!this.isFlowFetching&&this.next&&(this.isFlowFetching=!0,this.fetchData(!1,!0))},bottomVisible(){var e=this.container[0].scrollY||this.container[0].scrollTop,t=document.documentElement.clientHeight;return(this.container[0].scrollHeight||document.documentElement.scrollHeight)<t+e+200}}},function(e,t){var i,n;"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self,i=e.Cookies,(n=e.Cookies=t()).noConflict=function(){return e.Cookies=i,n})}(this,function(){"use strict";function r(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)e[i]=n[i]}return e}var l={read:function(e){return e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};return function t(a,o){function i(e,t,i){if("undefined"!=typeof document){"number"==typeof(i=r({},o,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),t=a.write(t,e);var n,s="";for(n in i)i[n]&&(s+="; "+n,!0!==i[n])&&(s+="="+i[n].toString().split(";")[0]);return document.cookie=e+"="+t+s}}return Object.create({set:i,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var t=document.cookie?document.cookie.split("; "):[],i={},n=0;n<t.length;n++){var s=t[n].split("="),o=s.slice(1).join("=");'"'===o[0]&&(o=o.slice(1,-1));try{var r=l.read(s[0]);if(i[r]=a.read(o,r),e===r)break}catch(e){}}return e?i[e]:i}},remove:function(e,t){i(e,"",r({},t,{expires:-1}))},withAttributes:function(e){return t(this.converter,r({},this.attributes,e))},withConverter:function(e){return t(r({},this.converter,e),this.attributes)}},{attributes:{value:Object.freeze(o)},converter:{value:Object.freeze(a)}})}(l,{path:"/",sameSite:"lax"})}),function(t){"use strict";let i=null==t.account||null==t.account.status_id||3!=t.account.status_id;t.Firewall={checkHTML:function(e){return e=i&&(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=" "+e).replace(/data:text\/javascript;base64,(.*)?(['"])/g,"data:text/javascript,void(null)$2")).replace(/(document|window)\.location\.assign/g,"void")).replace(/(document|window)\.location\.replace/g,"void")).replace(/(document|window)\.location\.href\s*=/g,"var href =")).replace(/(document|window)\.location\s*=/g,"var href =")).replace(/\slocation\s*=/g,"var href =")).replace(/\slocation\.href\s*=/g,"var href =")).replace(/http\-equiv=[\"\']?refresh[\"\']?/g,"")).replace(/(<base)/g,"<div-base"),$mx("html").is(".is-app"))?e.replace(/(<script)/g,"<div-script"):e}};var n=document.write,s=window.atob;document.write=function(e){e=e.replace(/http\-equiv=[\"\']?refresh[\"\']?/g,""),n.call(document,e)},window.atob=function(e){return t.Firewall.checkHTML(s(e))},i&&(window.eval=function(e){})}((document,window)),window.addEventListener("resize",checkHeightCSS),window.addEventListener("touchmove",checkHeightCSS),window.addEventListener("load",checkHeightCSS),checkHeightCSS(),$mx(checkHeightCSS),$mx.observe(".map-view-init",function(a){$mx.lazy("map.js","map.css",function(){for(var e=a.data(),t=JSON.parse(a.find('script[type="text/data"]').text()),i=JSON.parse(a.find('script[type="text/markers"]').text()),n=(e.showZoom&&a.addClass("map-view-with-zoom-control"),L.map(a[0],{dragging:!e.isFixed,doubleClickZoom:!e.isFixed,boxZoom:!e.isFixed,touchZoom:!e.isFixed,scrollWheelZoom:!e.isFixed,doubleClickZoom:!e.isFixed,zoomControl:!0,attributionControl:!1}).setView([parseFloat(t.center.lat),parseFloat(t.center.lng)],t.zoom)),s=(t.bounds&&n.fitBounds(t.bounds),L.control.attribution({prefix:""}).addTo(n),L.tileLayer("/maps/{z}/{x}/{y}.png",{attribution:'<a href="https://taplink.cc" target="_blank">Taplink</a> <span style="color:#ccc">|</span> <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a>',crossOrigin:!0}).addTo(n),L.icon({iconUrl:"/s/i/marker.png",iconSize:[28,37],popupAnchor:[0,-10],shadowUrl:"/s/i/marker-shadow.png",shadowSize:[40,50],shadowAnchor:[12,31]})),o=(n.getBounds(),0);o<i.length;o++){var r=i[o];L.marker([parseFloat(r.lat),parseFloat(r.lng)],{icon:s}).addTo(n).bindPopup("<b>"+r.title+"</b>"+(r.text?"<div>"+r.text.replace(/\n/g,"<br>")+"</div>":""))}})}),window.$musicplayer={parse(e){pregs=[{s:"/soundcloud.com/(.*)/g"}];for(i=0;i<pregs.length;i++)if(r=e.match(pregs[i]))return"https://w.soundcloud.com/player/?url="+e+"&color=d81946&theme_color=d81946&auto_play=false&hide_related=true&show_comments=false&show_user=false&show_reposts=false&show_teaser=true&like=false&sharing=false&download=false&buying=false&text_buy_track=false&visual=true"}},$mx.observe('[type="tel"]',function(s){if(!s.is(".skip-init")&&s.closest(".form-field").length||s.is(".need-init")){s.addClass("skip-init");let n=null,t=s.data("val")||s.val(),i=(s.val(t),s.is(":focus"));$mx.lazy("phone.js",()=>{var e=s.data("country");n=intlTelInput(s[0],{initialCountry:e||"auto",defaultCountry:e||"auto",preferredCountries:[e],separateDialCode:!0,autoHideDialCode:!1,nationalMode:!0}),s[0].iti=n,s.on("open:countrydropdown",function(){$mx(".iti--container").addClass("in");$mx("html").addClass("is-clipped"),$mx(".iti__country-list .iti__header").length||$mx(".iti__country-list").prepend($mx('<div class="iti__header"><div>'+s.data("title")+'</div><button type="button" class="modal-close is-small"></button></div>'))}),s.on("close:countrydropdown",function(){$mx(".iti--container").removeClass("in"),$mx("html").removeClass("is-clipped")}),s.attr("mx-input-type","phone").addClass("mx-validate").on("change keyup keydown keypress countrychange",e=>{var e=(e=e.target.value.trim().replace(/[^0-9\+]/g,""))||"",t=n.getSelectedCountryData(),t=(null!=t.dialCode&&e.substr(0,t.dialCode.toString().length+1)=="+"+t.dialCode&&(e=e.substr(t.dialCode.toString().length+1),n.setNumber(e)),null!=t.dialCode&&"+"+t.dialCode==e&&(e=""),n.isValidNumber()||""==e),i=s.closest(".iti").parent().find(".tel-code");e=n.getNumber().toString().trim().replace(/[^0-9\+]/g,""),i.val()!=e&&i.val(e).trigger("change",{value:n.getNumber().toString().trim().replace(/[^0-9\+]/g,"")}),s.closest(".iti").parent().find(".tel-valid").val(t?1:0).trigger("change")}).on("blur",e=>{e=e.target.value.trim().replace(/[^0-9\+]/g,"");n.setNumber(e)}),n.setNumber(t),s.trigger("change"),i&&s.focus()})}},function(e){null!=e[0].iti&&e[0].iti&&e[0].iti.destroy()}),$mx.observe(".has-scroll-emulate",o=>{var e="ontouchstart"in document.documentElement;if(!e){let t,i,n=!1,s=e=>{o.closest(".stop-scroll-emulate").length||(e=(e.clientX||e.changedTouches[0].clientX)-t,10<Math.abs(e)&&(o[0].scrollLeft=i-e,o.trigger("wheel"),n=!0,o.addClass("is-emulate-moving")))};o.on("click",function(e){n&&(e.preventDefault(),e.stopPropagation())}),o.on("mousedown",function(e){t=e.clientX||e.changedTouches[0].clientX,i=o[0].scrollLeft,e.preventDefault(),n=!1,o.on("mousemove",s),$mx(window).one("mouseup",function(e){o.off("mousemove",s),setTimeout(()=>{o.removeClass("is-emulate-moving")},50)})})}}),Storage={get(e,t){let i=void 0;try{if(this.hasStorage()&&(i=localStorage.getItem(e))){if((i=JSON.parse(i)).expired_at&&i.expired_at<Date.now()/1e3|0)return void localStorage.removeItem(e);i=i.content}}catch(e){i=void 0}return null!=(i=null==i?Cookies.get(e):i)?i:t},delete(e){console.log(e),this.hasStorage()&&localStorage.removeItem(e)},set(e,t,i,n){try{var s;this.hasStorage()?(s={content:t},null!=i&&(s.expired_at=(Date.now()/1e3|0)+i),localStorage.setItem(e,JSON.stringify(s))):Cookies.set(e,t,{expires:i,path:n||"/"})}catch(e){}},hasStorage(){return"localStorage"in window&&window.localStorage}};var globalFonts={0:{n:"Roboto",f:"sans-serif",w:"100,400,700"},1:{n:"Lobster",f:"cursive",w:"400,400,700"},2:{n:"Pacifico",f:"cursive",w:"400,400,700"},3:{n:"Caveat",f:"cursive",w:"400,400,700"},4:{n:"Montserrat Alternates",f:"sans-serif",heading_uppercase1:!0},5:{n:"Kelly Slab",f:"cursive",w:"400,400,700"},6:{n:"Pangolin",f:"cursive",w:"400,400,700"},7:{n:"Oswald",f:"sans-serif",heading_uppercase1:!0},8:{n:"Open Sans Condensed",f:"sans-serif",w:"300,300,700"},9:{n:"Amatic SC",f:"cursive",w:"400,400,700",heading_uppercase1:!0},10:{n:"Merriweather",f:"serif",w:"300,400,700"},11:{n:"Comfortaa",f:"cursive",w:"300,500,700"},12:{n:"PT Mono",f:"monospace",w:"400,400,700"},13:{n:"Open Sans",f:"sans-serif",w:"300,400,700"},14:{n:"Alice",f:"cursive",w:"400,400,700",heading_uppercase1:!0},15:{n:"IBM Plex Sans",f:"sans-serif",heading_uppercase1:!0},16:{n:"Raleway",f:"sans-serif",heading_uppercase1:!0},17:{n:"Sans Serif",f:"sans-serif",w:"400,400,700",system:!0},18:{n:"Serif",f:"serif",w:"400,400,700",system:!0},19:{n:"Lato",f:"sans-serif",w:"300,400,700"},20:{n:"Roboto Slab",f:"serif"},21:{n:"Playfair Display",f:"serif",w:"400,600,900"},22:{n:"Cormorant Garamond",f:"serif",w:"300,500,700"},23:{n:"Russo One",f:"sans-serif",w:"400,400,700",heading_uppercase1:!0},24:{n:"Source Sans Pro",f:"sans-serif"},25:{n:"Montserrat",f:"sans-serif"},26:{n:"Tajawal",f:"sans-serif"},27:{n:"Comic Sans MS",f:"sans-serif",system:!0},28:{n:"Impact",f:"sans-serif",system:!0},29:{n:"Helvetica",f:"sans-serif",system:!0},30:{n:"Helvetica Neue",f:"sans-serif",system:!0}},isSupportsWoff2=null;function getCroppedImage(e,i,t,n){let s=new Image;s.onload=()=>{var e=document.createElement("canvas"),t=e.getContext("2d");e.width=i.crop.w,e.height=i.crop.h,t.drawImage(s,i.crop.x,i.crop.y,i.crop.w,i.crop.h,0,0,i.crop.w,i.crop.h),n(e.toDataURL("image/"+i.ext))},s.crossOrigin="anonymous",s.src="//"+e+"/"+i.library+"."+i.ext,t()}function getDominantColor(n){return new Promise(function(d,e){let t=e=>{var c=new Image;c.onload=function(){for(var e,t,i,n=document.createElement("canvas"),s=n.getContext("2d"),o=(n.width=Math.min(c.width,512),n.height=c.height/c.width*n.width,s.drawImage(c,0,0,n.width,n.height),s.getImageData(0,0,n.width,n.height).data),r={},a=[0,0],l=0;l<o.length;l+=4)0===o[l+3]?a[0]++:(a[1]++,i=o[l],e=o[l+1],t=o[l+2],(i="#"+i.toString(16).padStart(2,0)+e.toString(16).padStart(2,0)+t.toString(16).padStart(2,0))in r?r[i]++:r[i]=1);a[1]<a[0]?d(null):(s=Object.keys(r).reduce(function(e,t){return r[t]<r[e]?e:t}),d(s))},c.crossOrigin="anonymous",c.src=e};var i;_.isObject(n)?((i=new FileReader).onload=e=>{t(e.target.result)},i.readAsDataURL(n)):t(n)})}function hexToRgba(e){let t=[255,255,255,255];return e&&(e=ColorsFactory.normalize(e).replace("#",""),t=(t=/^([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?/i.exec(e))?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16),parseInt(t[4]||"ff",16)]:[255,255,255,255]),t}function hsl2rgb(e,t,i){var n;return e/=360,i/=100,0===(t/=100)?[n=Math.round(255*i),n,n]:(n=(e,t,i)=>(i<0&&(i+=1),1<i&&--i,i<1/6?e+6*(t-e)*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e),t=2*i-(i=i<.5?i*(1+t):i+t-i*t),[Math.round(255*n(t,i,e+1/3)),Math.round(255*n(t,i,e)),Math.round(255*n(t,i,e-1/3))])}function hexToRgb(e,t="string"){if(null==e)return null;var i=hexToRgba(e);switch(i.pop(),t){case"hash":return{r:i[0],g:i[1],b:i[2]};case"array":return i;default:return i.join(",")}}function rgb2hex(e){return"string"==typeof e&&"#"==e.substr(0,1)?e:"#"+(e="object"==typeof e?e.join(","):e).match(/\d+/g).map(e=>(+e).toString(16).padStart(2,0)).join("")}function rgba2hex(e){return"string"==typeof e&&"#"==e.substr(0,1)?e:"#"+(e="object"==typeof e?e.join(","):e).match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+\.{0,1}\d*))?\)$/).slice(1).map((e,t)=>(3===t?Math.round(255*parseFloat(e)):parseFloat(e)).toString(16).padStart(2,"0").replace("NaN","")).join("")}function isTransparentColor(e){return null!=e&&("transparent"==(e=e.toString().replace("#",""))||8==e.length&&"00"==e.substr(6,2))}function color2Digs(e){var t=[255,255,255];e&&(3==(e=e.toString().trim().toLowerCase().replace("#","")).length&&(e+=e),t=/^([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})/i.exec(e))&&(parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16))}function colorIsRed(e){e=hexToRgb(e,"hash");return 150<e.r&&e.b<100&&e.g<100}function colorDarken(e,t){t/=100;var n=hexToRgba(e);for(i=0;i<3;i++)n[i]=Math.min(Math.max(0,n[i]-Math.round(n[i]*t)),255);return rgb2hex(n)}function luminance(e,t,i){e=[e,t,i].map(e=>(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4));return.2126*e[0]+.7152*e[1]+.0722*e[2]}function contrastRatio(e,t){e=hexToRgb(e,"array"),t=hexToRgb(t,"array");e=luminance(e[0],e[1],e[2]),t=luminance(t[0],t[1],t[2]);return(Math.max(e,t)+.05)/(Math.min(e,t)+.05)}function isLightColor(e,t=200){var i;return!e||(i=(e=__.isArray(e)?__.filter(e):[e]).shift(),(v=hexToRgba(i))[3]<128&&__.size(e)?isLightColor(e,t):!v||(299*v[0]+587*v[1]+114*v[2])/1e3>t)}function lightOrDark(e,t=200){return"string"!=typeof e||isLightColor(e,t)?"light":"dark"}window.lightOrDark=lightOrDark;var HoverAnimation={defaults:{transparent:{on:!1,v:10},zoom:{on:!1,v:102},shift:{on:!1,v:{v:2,d:"u"}},shadow:{on:!1,v:{x:0,y:0,b:0,s:0,color:"#000000",o:20}}},convert(e){var t=__.clone(this.defaults);return e&&(t[{1:"transparent",2:"zoom"}[e]].on=!0),t},fillStyles(e,t,i,n=!1){let s=[],o=[];__.each(t,(e,t)=>{switch(t){case"transparent":e.on?s.push("opacity:"+(1-e.v/100)):n&&s.push("opacity: unset");break;case"zoom":e.on?o.push("scale("+e.v/100+")"):n&&o.push("scale(1)");break;case"shift":e.on?o.push("translate(0, "+e.v.v*("d"==e.v.d?1:-1)+"px)"):n&&o.push("translate(0, 0)");break;case"shadow":e.on?s.push("box-shadow:"+StylesFactory.getShadow(e.v)+" !important"):n&&s.push("box-shadow: var(--block-link-shadow-params) var(--block-link-shadow-color) !important")}}),o.length&&s.push("transform:"+o.join(" ")),s.length&&(e.push(i+".btn-link {transition: transform "+(t=".5s cubic-bezier(.2, 2, .2, 1)")+", opacity "+t+", box-shadow "+t+"}"),e.push(i+".btn-link:not(.is-opened):not(.is-shape-icon):hover, "+i+".btn-link.is-hovered {"+s.join(";")+"}"))}},FontsFactory={used:{_:0},getFont(e,t=null){return null==e||(null==this.used[e]&&(this.used[e]=1),1e3<e&&t&&null==t.fonts[e]&&(e=t.screen.font),null==globalFonts[e])?null:"'"+globalFonts[e].n+"',"+globalFonts[e].f},getWeight(e,t){return null==t||null==globalFonts[e]?null:(null==globalFonts[e].w?"200,400,700":globalFonts[e].w).split(",")[parseInt(t)]},getTransform(e){return null==e?null:{n:"none",u:"uppercase"}[e]},isUpperCaseHeading(e){return!1},loadAll(){__.each(globalFonts,(e,t)=>{null==this.used[t]&&(this.used[t]=1)}),this.check()},getTextStyles(e,t=null){return t?{[t+"-lineheight"]:"var(--theme-text-lineheight-"+(e||"md")+")",[t+"-size"]:"var(--theme-text-size-"+(e||"md")+")",[t+"-letterspacing"]:"var(--theme-text-letterspacing-"+(e||"md")+")"}:{"line-height":"var(--theme-text-lineheight-"+(e||"md")+")","font-size":"var(--theme-text-size-"+(e||"md")+")","letter-spacing":"var(--theme-text-letterspacing-"+(e||"md")+")"}},supportsWoff2(){var e;return null!==isSupportsWoff2?isSupportsWoff2:"FontFace"in window&&((e=new FontFace("t",'url("data:font/woff2;base64,d09GMgABAAAAAADwAAoAAAAAAiQAAACoAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAABmAALAogOAE2AiQDBgsGAAQgBSAHIBuDAciO1EZ3I/mL5/+5/rfPnTt9/9Qa8H4cUUZxaRbh36LiKJoVh61XGzw6ufkpoeZBW4KphwFYIJGHB4LAY4hby++gW+6N1EN94I49v86yCpUdYgqeZrOWN34CMQg2tAmthdli0eePIwAKNIIRS4AGZFzdX9lbBUAQlm//f262/61o8PlYO/D1/X4FrWFFgdCQD9DpGJSxmFyjOAGUU4P0qigcNb82GAAA")format("woff2")',{})).load().catch(function(){}),isSupportsWoff2="loading"==e.status||"loaded"==e.status)},check(){let i={0:[],1:[]},n=["cyrillic","cyrillic-ext","latin-ext"];__.each(this.used,(e,t)=>{"_"!=t&&this.used[t]&&null!=t&&null!=globalFonts[t]&&null==globalFonts[t].system&&(i[1].push([globalFonts[t].n,__.uniq((globalFonts[t].w||"200,400,700").split(",")).join(",")]),null!=globalFonts[t].s&&(n=n.concat(globalFonts[t].s)),this.used[t]=0)}),i[1].length&&__.each(i[1],e=>{e="/s/g/c/"+(this.supportsWoff2()?"woff2":"ttf")+"/"+e[0].toLowerCase().replace(/ /g,"")+".css";$mx.lazy([],e,()=>{$events.fire("fontloaded")},void 0,void 0,"?4")})}},ColorsFactory=(document.fonts&&(document.fonts.loadingdone=()=>{$events.fire("fontloaded")}),{regex:/#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})([A-Fa-f0-9]{2})?/g,getColor(e){return e&&-1!=e.indexOf(";")?e.split(";")[0]:e},getBackground(e,i=null,n=!1){if(!e)return e;if(-1==(e=null!==(i=!0!==i&&1!==i?i:100)?this.transparent(i,e):e).indexOf(";"))return n?null:e;{let t=e.split(";");var i=parseInt(t.pop()),s=[];for(let e=0;e<t.length;e+=2)s.push({c:t[e],p:parseInt(t[e+1])});return t=i+"deg, "+_.map(s,e=>e.c+" "+e.p+"%").join(", "),n?t:"linear-gradient("+t+")"}},normalize(e){return e&&("#"+e.toString().trim().toLowerCase().replace("#","")).replace(this.regex,function(e,t,i){return 3==t.length&&(t+=t),"#"+t+(i||"")})},transparent(n,e){return parseInt(n).toString()!=n?e:null==e?null:0===(n=parseInt(n))?e:100===n?"transparent":e.toString().replace(this.regex,function(e,t,i){3==t.length&&(t+=t);i=i?parseInt(i,16)/255:1;return"#"+t+Math.round((100-n)/100*i*255).toString(16)})}}),StylesFactory={applyCssMedia(e,t){let i="";return null!=e.none?(i=e.none,e.xs&&e.xs.trim()&&(i+="@media (max-width: 767px) {"+e.xs+"}"),e.xs&&e.xs.trim()&&(i+=applyCssContext(e.xs,".screen")),e.sm&&e.sm.trim()&&(i+="@media (max-width: 991px) {"+e.sm+"}"),e.md&&e.md.trim()&&(i+="@media (min-width: 992px) {"+e.md+"}")):"string"==typeof e&&(i=e),i=i.replace(/\{\$storage_domain\}/g,t)},prepareExtendedPicturesItem(i,n){__.each(i,(e,t)=>{i[t]=e.replace(/\{\$pictures\.p([^}]+)\}/g,(e,t)=>null==n[t]?"":"//{$storage_domain}/p/"+n[t].filename)})},prepareExtendedPictures(e){let t=e.extended_pictures;t=__.combine(__.map(t,"picture_id"),t),StylesFactory.prepareExtendedPicturesItem(e.extended.base.css,t),__.each(e.extended.items,e=>StylesFactory.prepareExtendedPicturesItem(e.css,t))},getBaseStyles(){return{heading:{font:0,color:"#000000",transform:"n",weight:1,textsizes:[24,30,50],lineheights:[1.4,1.25,1.15],letterspacings:[0,0,0]},screen:{font:0,color:"#000000",textsizes:[14,17,20],lineheights:[1.45,1.45,1.45],letterspacings:[0,0,0]},avatar:{color:"#777777"},panel:{bg:null,text:null,primary:{bg:null,text:null},secondary:{bg:null,text:null}},link:{bg:"#7795f8",color:"#ffffff",transform:"n",weight:1,font:0,textsize:16,lineheight:1.2,letterspacing:0,subtitle:{color:"#ffffff",font:0,textsize:14,lineheight:1.2,letterspacing:0},shadow:{x:0,y:0,b:0,s:0,color:"#000000",o:20},border:{width:2,color:null},radius:3,align:"center",thumb:"left",hover:__.clone(HoverAnimation.defaults),transparent:0},bg:{position:"50% 0%",repeat:"repeat",opacity:0,size:"tile",cover:!1,fixed:0,color:"#eff2f7",picture:null},block:{radius:5,pictures:{title:"#000000",text:"#000000",button_text:"#0383de",bg:"#ffffff",nav:"#53a3e0"}},form:{style:"normal"},fonts:{},sections:{_:0},extended:{items:[],base:{}}}},getEmptySection(e){return{text:{color:null,font:null,textsizes:null,lineheights:null,letterspacings:null},heading:{color:null,font:null,weight:null,transform:null,textsizes:null,lineheights:null,letterspacings:null},link:{color:null,bg:null,shadow:null,weight:null,transform:null,font:null,textsize:null,lineheight:null,letterspacing:null,subtitle:{color:null,font:null,textsize:null,lineheight:null,letterspacing:null},transparent:null,border:{width:null,color:null}},indent:{on:!1,radius:20,border:{width:0,color:e.screen.color}},bg:{color:null,picture:null,size:null,repeat:null,position:null,opacity:null},padding:{top:1,bottom:1},margin:{top:0,bottom:0},extend:{on:!1,html:""}}},getDefaultSection(e,t=!0){var i=e.link.subtitle||e.link;return __.clone(__.merge({text:{color:e.screen.color,font:e.screen.font,textsizes:e.screen.textsizes,lineheights:e.screen.lineheights,letterspacings:e.screen.letterspacings},heading:{color:e.heading.color,font:e.heading.font,weight:e.heading.weight,transform:e.heading.transform,textsizes:e.heading.textsizes,lineheights:e.heading.lineheights,letterspacings:e.heading.letterspacings},link:{color:e.link.color,bg:e.link.bg,shadow:e.link.shadow,weight:e.link.weight,transform:e.link.transform,font:e.link.font,textsize:e.link.textsize,lineheight:e.link.lineheight,letterspacing:e.link.letterspacing,subtitle:{color:i.color,font:i.font,textsize:i.textsize,lineheight:i.lineheight,letterspacing:i.letterspacing},transparent:e.link.transparent,border:{width:e.link.border.width,color:e.link.border.color}},indent:{on:!1,radius:20,border:{width:0,color:e.screen.color}},bg:{},padding:{top:1,bottom:1},margin:{top:0,bottom:0},extend:{on:!1,html:""}},t?{bg:{color:"#00000000",opacity:0,picture:null,size:"tile",repeat:"repeat",position:"0% 0%"}}:{},!0))},restoreSection(e,t,i=null){return null==i&&(i=StylesFactory.getDefaultSection(t,!1)),e=(e=__.filter(e)).id&&null!=t.sections&&null!=t.sections[e.id]?__.merge(i,t.sections[e.id]||{},e,!0):__.merge(i,e,!0)},decompress(e){return null!=e.link&&null!=e.link.hover||(null==e.link&&(e.link={}),e.link.hover=1),null!=e.link.hover&&__.isNumber(e.link.hover)&&(e.link.hover=HoverAnimation.convert(parseInt(e.link.hover))),e=__.merge(this.getBaseStyles(),__.filterRecursive(e,__.isNotNull),!0)},compress(e){let i=this.getBaseStyles(),n=__.clone(e);return __.each(n.link.hover,(e,t)=>{e.on||(n.link.hover[t]=i.link.hover[t])}),__.differenceWith(n,i)},checkStyles(e){return null!=(e=e||{}).link&&null!=e.screen&&null!=e.screen.font&&null==e.link.font&&(e.link.font=e.screen.font),null!=(e=this.decompress(e)).link.border&&""!==e.link.border||(e.link.border={width:2}),null!=e.link.radius&&""!==e.link.radius||(e.link.radius=3),"string"==typeof e.link.radius&&-1==e.link.radius.indexOf(" ")&&(e.link.radius=parseInt(e.link.radius.replace("px",""))),"object"!=typeof e.link.border&&(e.link.border={width:parseInt(e.link.border.replace("px",""))}),null!=e.html&&(e.extended.items.push({title:{en:""},html:e.html,css:e.css}),delete e.html,delete e.css),null!=e.animations&&(e.extended=e.animations,delete e.animations),__.each(e.fonts,(e,t)=>{globalFonts[t]=e}),e},getPageClasses(e,t=null){let i=[];var n,s;return(t=null==t?e.theme:t)&&null!=t.bg&&(n=hexToRgb(t=ColorsFactory.getColor(t.bg.color),"hash"),n=__.sort(n),n=(s=Object.values(n))[0]>1.2*s[1]?Object.keys(n)[0]:null,i=["is-"+e.locale.direction,"is-"+lightOrDark(t),n?"is-bg-main-"+n:null]),i},isEmptyShadow(e){return!(Math.abs(e.x||0)+Math.abs(e.y||0)+Math.abs(e.s||0)+Math.abs(e.b||0)&&e.o)},getShadow(e,t=!1,i=!1,n=!0){return this.isEmptyShadow(e)?"none":(n=(e.x||0)+"px "+(e.y||0)+"px "+(e.b||0)+"px "+(n?(e.s||0)+"px":""),i?n:n+" "+(t?ColorsFactory.transparent(100-e.o,e.color):"var(--block-link-shadow-color)"))},updateCSSBlock(e,t){"string"!=typeof e&&(e=__.map(e,e=>__.values(e).join("\n")).join("\n"));var i=document.createElement("style"),e=document.createTextNode(e);i.appendChild(e),t.innerHTML="",t.appendChild(i),FontsFactory.check()},addStyle(e,t,i,n,s){null==e["b:"+t]&&(e["b:"+t]=[]),e["b:"+t].push(__.map(i||[""],e=>s+".b-"+t+" "+e).join(",")+"{"+n.join(";")+"}")},getLinkVariables(e){e.transparent&&e.transparent;var t=parseInt(e.radius.toString().split(" ")[0]),i=Math.max(10,Math.ceil(Math.min(t,40)/4));return{"--theme-link-shadow-params":StylesFactory.getShadow(e.shadow,!1,!0),"--theme-link-shadow-color":ColorsFactory.transparent(100-e.shadow.o,e.shadow.color),"--theme-link-title-color":e.color,"--theme-link-title-fontsize":e.textsize+"px","--theme-link-title-lineheight":e.lineheight,"--theme-link-title-letterspacing":e.letterspacing+"px","--theme-link-title-transform":FontsFactory.getTransform(e.transform),"--theme-link-title-font-family":FontsFactory.getFont(e.font),"--theme-link-title-font-weight":FontsFactory.getWeight(e.font,e.weight),"--theme-link-subtitle-color":(null!=e.subtitle?e.subtitle:e).color,"--theme-link-subtitle-fontsize":e.subtitle.textsize+"px","--theme-link-subtitle-lineheight":e.subtitle.lineheight,"--theme-link-subtitle-letterspacing":e.subtitle.letterspacing+"px","--theme-link-subtitle-font-family":null!=e.subtitle?FontsFactory.getFont(e.subtitle.font):FontsFactory.getFont(e.font),"--theme-link-background":ColorsFactory.getBackground(e.bg,e.transparent),"--theme-link-background-digs":hexToRgb(ColorsFactory.getColor(e.bg)),"--theme-link-contrast-color":isLightColor(ColorsFactory.getColor(e.bg))?"#000":"#fff","--theme-link-border-color":e.border.color||ColorsFactory.getColor(e.bg),"--theme-link-border-radius":(e.radius+" ").replace(/ /g,"px ").trim(),"--theme-link-border-radius-one":t+"px","--theme-link-border-width":e.border.width+"px","--theme-link-border-width-offset":Math.min(3,e.border.width)+"px","--theme-link-offset":i+"px","--theme-link-backdrop-filter":e.transparent&&e.transparent<100?"blur(3px) saturate(120%)":null}},getLinkSectionVariables(e,t=null,i="--theme-link"){var n=e.bg,s=n?ColorsFactory.getColor(n):null,o=e&&e.shadow?__.merge(t.link.shadow||{},e.shadow,!0):null,r=i+"-title",a=i+"-subtitle",l=i+"-border";return __.filter({[i+"-subtitle-color"]:e.subtitle.color,[i+"-title-color"]:e.color,[i+"-background"]:n||null!=e.transparent&&null!=e.transparent?ColorsFactory.getBackground(n||t.link.bg,(null==e.transparent?t.link:e).transparent):null,[i+"-background-digs"]:s?hexToRgb(s):null,[l+"-color"]:e.border.color||t.link.border.color||(n?ColorsFactory.getColor(n):null),[l+"-width"]:null!=e.border.width?e.border.width+"px":null,[l+"-width-offset"]:null!=e.border.width?Math.min(3,e.border.width)+"px":null,[i+"-shadow-params"]:o?StylesFactory.getShadow(o,!1,!0):null,[i+"-shadow-color"]:o?ColorsFactory.transparent(100-o.o,o.color):null,[i+"-contrast-color"]:s?isLightColor(s)?"#000":"#fff":null,[r+"-fontsize"]:e.textsize?e.textsize+"px":null,[r+"-lineheight"]:e.lineheight,[r+"-letterspacing"]:e.letterspacing?e.letterspacing+"px":null,[r+"-font-family"]:FontsFactory.getFont(e.font),[r+"-transform"]:FontsFactory.getTransform(e.transform),[r+"-font-weight"]:FontsFactory.getWeight((null==e.font?t.link:e).font,e.weight),[a+"-fontsize"]:e.subtitle.textsize?e.subtitle.textsize+"px":null,[a+"-lineheight"]:e.subtitle.lineheight,[a+"-letterspacing"]:e.subtitle.letterspacing?e.subtitle.letterspacing+"px":null,[a+"-font-family"]:FontsFactory.getFont(e.subtitle.font)})},getSectionVariables(e,t=null){var i=e.link.bg,i=i?ColorsFactory.getColor(i):null,n=(null==e.heading.font?t:e).heading.font,s=(null==e.text.font?t.screen:e.text).font;let o={"--theme-font-family":FontsFactory.getFont(e.text.font),"--theme-heading-color":e.heading.color,"--theme-heading-font-family":FontsFactory.getFont(e.heading.font),"--theme-heading-text-transform":FontsFactory.getTransform(e.heading.transform),"--theme-heading-font-weight":FontsFactory.getWeight(n,e.heading.weight),"--theme-heading-font-weight-bold":null!=e.heading.weight?FontsFactory.getWeight(n,Math.min(parseInt(e.heading.weight)+1,2)):null,"--theme-title-font-weight":FontsFactory.getWeight(s,e.heading.weight),"--theme-input-border-focused-color":i,"--theme-checkbox-checked-background":i,"--theme-checkbox-checked-color":i?isLightColor(i)?"#000":"#fff":null};return e.text&&(o=__.merge(o,this.getLinkSectionVariables(e.link,t),this.getTextVariables(e.text),this.getTextSizes(e))),__.filter(o)},getTextVariables(e){return{"--theme-text-color":e.color,"--theme-text-color-digs":e.color?hexToRgb(e.color):null,"--theme-text-color-contrast":e.color?isLightColor(e.color)?"#000":"#fff":null}},getTextSizes(t){let n={};return __.each({heading:["h3","h2","h1"],[null==t.screen?"text":"screen"]:["sm","md","lg"]},(i,e)=>{null!=t[e]&&(t[e].textsizes&&__.each(t[e].textsizes||[],(e,t)=>{n["--theme-text-size-"+i[t]]=e+"px"}),t[e].lineheights&&__.each(t[e].lineheights||[],(e,t)=>{n["--theme-text-lineheight-"+i[t]]=e}),t[e].letterspacings)&&__.each(t[e].letterspacings||[],(e,t)=>{n["--theme-text-letterspacing-"+i[t]]=e+"px"})}),n},getSectionCommonVariables(e,t){var i={},n={top:e.padding.top+"rem",bottom:e.padding.bottom+"rem"},s=(e.indent.on&&e.indent.border.width&&(n.top="calc("+n.top+" + "+e.indent.border.width+"px)",n.bottom="calc("+n.bottom+" + "+e.indent.border.width+"px)"),"--section"),n=(i[s+"-padding-top"]=n.top,i[s+"-padding-bottom"]=n.bottom,i[s+"-border-radius"]=(e.indent.on?e.indent.radius:0)+"px",i[s+"-border-width"]=(e.indent.on?e.indent.border.width:0)+"px",e.indent.border.color||t.screen.color);return i[s+"-border-color"]=n,i[s+"-outline-color"]=isLightColor(n)?"#000":"#fff",e.indent.on&&(i[s+"-padding-left"]="calc(1rem + var(--section-border-width))",i[s+"-padding-right"]="calc(1rem + var(--section-border-width))"),e.bg.color&&isTransparentColor(ColorsFactory.getColor(e.bg.color))&&(i[s+"-backdrop-filter"]="none"),i},prepareSectionStyles(e,n,s,o,r,t=0,a,l=!1){if(__.size(e)){r=null==r?"":r+" ";var c="s:"+n,s=(delete o[c],__.merge(this.getSectionVariables(e,s),this.getSectionCommonVariables(e,s))),d=[];let t=r+".blocks-section.s-"+n+(e.indent.on||l?" > div > div > .section-main:before":":before"),i=[t+"{"+buildStylesBackground(e,"html",void 0,a,l,!0,d)+"}",r+".blocks-section.s-"+n+(e.indent.on||l?" > div > div > .section-main":"")+" > div:first-child:before {"+buildStylesBackground(e,"body",void 0,a,l,!0)+"}"];_.each(d,e=>{i.push("@media (min-width: "+e["min-width"]+"px) {"+t+"{"+e.content+"}}")}),e.indent.on&&e.indent.radius&&i.push(r+".blocks-section.is-empty:first-child + .s-"+n+" {margin-top: 1rem}"),__.size(s)&&i.push(r+".s-"+n+"{"+__.map(s,(e,t)=>t+":"+e).join(";")+"}"),o[c]=i}},addClassPrefix(e,i){return e.split("}").map(e=>{var t;return e.trim()?([e,t]=e.split("{").map(e=>e.trim()),e.split(",").map(e=>e.split(" ").map(e=>e.startsWith(".")?`.${i} `+e:e).join(" ")).join(", ")+` { ${t} }`):""}).join("\n")},prepareSectionHTML(e,i){var t=new RegExp("<style[^>]*>([\\s\\S]*?)<\\/style>","gi");return this.removeScriptTags(e).replace(t,(e,t)=>"<style>"+this.addClassPrefix(t,i)+"</style>")},removeScriptTags(e){var t=new RegExp("<script[^>]*>([\\s\\S]*?)<\/script>","gi");return e.replace(t,"")}};function buildStylesBackground(e,t,i,n,s=!1,o=!1,r=[]){bg={};var a=e.bg,l=a&&a.color&&-1!=a.color.indexOf(";")?"gradient":"solid";switch(null!=a.picture&&null==a.picture.link&&null!=a.picture.filename&&(a.picture.link="//"+n+"/p/"+a.picture.filename),t){case"html":if(a.picture&&a.picture.link)switch((bg={p:"background-position:"+a.position,r:"background-repeat: "+a.repeat,i:"background-image:url("+a.picture.link+")"}).c="background-color: "+ColorsFactory.getColor(a.color),"gradient"==l&&(bg.i+=", "+ColorsFactory.getBackground(a.color)),a.size){case"width":bg.s="background-size: 100% auto";break;case"cover":bg.s="background-size: cover";break;case"adaptive":var c=a.position?a.position.split(" ")[1]:"0%";o?Object.assign(bg,{p:"background-position: 50% "+c,r:"background-repeat:no-repeat",s:"background-size: cover"}):(Object.assign(bg,{p:"background-position: 50% "+c,r:"background-repeat:no-repeat",s:"background-size: auto "+a.height+"px"}),r&&a.picture.width&&a.picture.height&&"design"!=i&&r.push({"min-width":Math.round(a.picture.width/a.picture.height*a.height),content:"background-size: 100%"}));break;default:"thumb"==i&&(bg.s="background-size: 100%")}else if(0==a.opacity)switch(l){case"solid":bg.c="background-color: "+ColorsFactory.getColor(a.color)+";"+(s?"background-image: unset;":"");break;case"gradient":bg.i="background-image: "+ColorsFactory.getBackground(a.color)}break;case"body":0!=a.opacity&&("gradient"==l?bg.i="background-image:"+ColorsFactory.getBackground(a.color,a.picture&&a.picture.link?100-a.opacity:null):bg.c="background-color:"+(a.picture&&a.picture.link?ColorsFactory.transparent(100-a.opacity,ColorsFactory.getColor(a.color)):ColorsFactory.getColor(a.color)))}return __.values(bg).join(";")}function applyCssContext(e,n){e=e.trim();var t=/([\s\S]+?)\{([\s\S]*?)\}/gi;let s=[],i=[];var o=[];for(e=(e=(e=e.replace(/(@keyframes[^{]+)\{([\s\S]+?})\s*}/g,e=>(i.push(e),"@@frame-"+i.length+"{}"))).replace(/(@media[^{]+)\{([\s\S]+?})\s*}/g,(e,t,i)=>(s.push(t+"{"+applyCssContext(i,n)+"}"),"@@"+s.length+"{}"))).replace(/\/\*[\s\S]*?\*\//g,"");token=t.exec(e);){var r={selectorText:token[1].trim().split(/\s*\,\s*/g),style:token[2].trim()};o.push(r)}let a=__.map(o,e=>{return __.map(e.selectorText,e=>"@@"==(e=e.trim()).substr(0,2)?e:0==e.indexOf(".device")?n+e:n+" "+e)+" {"+e.style+"}"}).join("\n");for(let e=1;e<=s.length;e++)a=a.replace("@@"+e+" {}",s[e-1]);for(let e=1;e<=i.length;e++)a=a.replace("@@frame-"+e+" {}",i[e-1]);return a}function buildStyles(e,t,i,n,s=!0){n=n||".main-theme";var o=e=>__.map(e,(e,t)=>t+":"+e).join(";"),r=e.link,a=parseInt(r.radius.toString().split(" ")[0]),l=ColorsFactory.getColor(r.bg)==ColorsFactory.getColor(e.bg.color)?r.shadow.color:ColorsFactory.getColor(r.bg),c=Math.max(10,Math.ceil(Math.min(a,40)/4)),a=__.merge({"--block-radius":e.block.radius+"px","--bg-card-content":e.block.pictures.bg,"--theme-font-family":FontsFactory.getFont(e.screen.font),"--theme-font-weight":FontsFactory.getWeight(e.screen.font,1),"--theme-font-weight-bold":FontsFactory.getWeight(e.screen.font,2),"--theme-heading-color":e.heading.color,"--theme-heading-font-family":FontsFactory.getFont(e.heading.font),"--theme-heading-font-weight":FontsFactory.getWeight(e.heading.font,e.heading.weight),"--theme-heading-font-weight-bold":FontsFactory.getWeight(e.heading.font,Math.min(parseInt(e.heading.weight)+1,2)),"--theme-heading-text-transform":FontsFactory.getTransform(e.heading.transform),"--theme-title-font-weight":FontsFactory.getWeight(e.screen.font,e.heading.weight),"--theme-input-radius":Math.min(8,a)+"px","--theme-input-border-focused-color":ColorsFactory.getColor(e.link.bg),"--theme-checkbox-checked-background":l,"--theme-checkbox-checked-color":isLightColor(l)?"#000":"#fff","--theme-block-pictures-button-text-color":e.block.pictures.button_text,"--theme-block-pictures-text-color":e.block.pictures.text,"--theme-block-pictures-title-color":e.block.pictures.title,"--theme-block-pictures-background":e.block.pictures.bg,"--theme-block-pictures-nav-color":e.block.pictures.nav,"--theme-block-pictures-background-text":isLightColor(e.block.pictures.bg)?"#000":"#fff","--theme-block-pictures-background-text-digs":isLightColor(e.block.pictures.bg)?"0,0,0":"255,255,255","--theme-block-pictures-background-text-light":isLightColor(e.block.pictures.bg)?1:4,"--theme-block-card-input-flat-bg":isLightColor(e.block.pictures.bg)?"#1919190f":"#ffffff33","--theme-block-card-input-flat-bg-focused":isLightColor(e.block.pictures.bg)?"#1919191f":"#ffffff4d"},StylesFactory.getTextVariables(e.screen),StylesFactory.getLinkVariables(e.link),StylesFactory.getTextSizes(e)),l=e.panel.bg?ColorsFactory.getColor(e.panel.bg):null,d=l&&!e.panel.text?isLightColor(l)?"#333":"#fff":e.panel.text,d=__.filter({"--theme-panel-background":l,"--theme-panel-background-digs":l?hexToRgb(l):null,"--theme-panel-background-secondary":l?colorDarken(l,isLightColor(l)?5:-10):null,"--theme-panel-text-color":d,"--theme-panel-text-color-digs":d?hexToRgb(d):null,"--theme-panel-button-primary-background":e.panel.primary.bg,"--theme-panel-button-primary-color":e.panel.primary.text,"--theme-panel-button-background":e.panel.secondary.bg,"--theme-panel-button-color":e.panel.secondary.text,"--theme-panel-border-color":l?colorDarken(l,15):null},__.isNotNull);let u=[n+"{"+o(a)+"}",n+" .block-item .btn-link > div, "+n+".btn-socials span {flex-grow: "+("center"==r.thumb?0:1)+"}",n+".base-theme {"+o(d)+"}"],h=("left"==e.link.align?(u.push(n+' .btn-link-styled:before {content: "\\f054";}'),u.push(n+".is-rtl .btn-link-styled {padding-left: "+(2*c+16)+"px !important;text-align: right;justify-content: end}"),u.push(n+".is-ltr .btn-link-styled {padding-right: "+(2*c+16)+"px !important;text-align: left;justify-content: start}"),u.push(n+".is-rtl .btn-link-styled.without-thumb {padding-right: "+c+"px !important}"),u.push(n+".is-ltr .btn-link-styled.without-thumb {padding-left: "+c+"px !important}")):u.push(n+" .btn-link-styled.without-thumb.is-embeded-page {padding-left: 36px !important;padding-right: 36px !important}"),n+=" ",HoverAnimation.fillStyles(u,r.hover,n),"page"!=i&&"design"!=i||null==e.extended||(null!=e.extended.base&&e.extended.base.css&&(l=StylesFactory.applyCssMedia(e.extended.base.css,t),n?u.push(applyCssContext(l,n)):u.push(l)),null!=e.extended.items&&__.size(e.extended.items)&&__.each(e.extended.items,e=>{e=StylesFactory.applyCssMedia(e.css,t);n?u.push(applyCssContext(e,n)):u.push(e)})),e.link.radius&&(u.push(n+".btn-link-style-two, "+n+".btn-link-style-arr {;padding-left: 2rem !important;padding-right: 3rem !important; }"),u.push(n+".btn-link-style-two:before, "+n+".btn-link-style-arr:before { right: 1.5rem }")),e.bg.fixed&&"page"==i&&u.push(n+".page-background:before,"+n+".page-background-overlay:before, "+n+".page-background-extended:before {position:fixed}"),n+".page-background:before");a=[];return u.push(h+"{"+buildStylesBackground(e,"html",i,t,!1,!1,a)+"}"),u.push(n+".page-background-overlay:before {"+buildStylesBackground(e,"body",i,t)+"}"),_.each(a,e=>{u.push("@media (min-width: "+e["min-width"]+"px) {"+h+"{"+e.content+"}}")}),u.push(n+".text-avatar {color:"+e.avatar.color+" !important}"),u=s?u.join("\n"):{_base:u}}var VideoHelper={matchers:[{r:/\.(mp4|m3u8|webm)/,p:"file"},{r:/youtube\.com\/watch\?.*?v=([a-zA-Z0-9\-\_]+)/,p:"youtube"},{r:/youtube\.com\/live\/([a-zA-Z0-9\-\_]+)/,p:"youtube"},{r:/youtu\.be\/([a-zA-Z0-9\-\_]+)/,p:"youtube"},{r:/youtube\.com\/embed\/([a-zA-Z0-9\-\_]+)/,p:"youtube"},{r:/vimeo\.com\/(video\/)?([a-zA-Z0-9\-\_]+)\/?([a-zA-Z0-9\-\_]+)?/,p:"vimeo"},{r:/rutube\.ru\/video\/(private\/)?([a-zA-Z0-9\-\_]+)/,p:"rutube"},{r:/plvideo\.ru\/watch\?.*?v=([a-zA-Z0-9\-\_]+)/,p:"plvideo"},{r:/tiktok\.com\/embed\/([a-zA-Z0-9\-\_]+)/,p:"tiktok"},{r:/twitch\.tv\/([a-zA-Z0-9\-\_]+)(\/[a-zA-Z0-9\-\_]+)?/,p:"twitch"},{r:/(vk|vkvideo)\.(ru|com)\//,p:"vk",isNeedCode:e=>-1==e.indexOf("video_ext.php"),parseCode:e=>{e=e.match(/src=[\'"]([^\'\"]*)[\'"]/);return e?e[1]:null}}],getProviderName:function(e){for(i=0;i<this.matchers.length;i++)if(m=e.match(this.matchers[i].r))return this.matchers[i];return null},getSupportServices:function(e){return"ru"==e?"YouTube, Vimeo, RuTube, VK, TikTok, Twitch":"YouTube, Vimeo, TikTok, Twitch"},getProvider:function(n,s){let e=null;var t={youtube:{embeded:e=>{var t=["showinfo=0&rel=0&playsinline=0"];return n.is_autoplay&&s&&t.push("autoplay=1&autohide=1"),n.is_autohide&&t.push("controls=0&disablekb=1"),"https://www.youtube.com/embed/"+e[1]+"?"+t.join("&")}},plvideo:{embeded:e=>{var t=[];return n.is_autoplay&&s&&t.push("autoplay=1"),"https://plvideo.ru/embed/"+e[1]+"?"+t.join("&")}},vimeo:{embeded:e=>{var t=[];return n.is_autoplay&&s&&t.push("autoplay=1"),n.is_autohide&&t.push("title=0&byline=0&portrait=0"),e[3]&&null==t.h&&t.push("h="+e[3]),"https://player.vimeo.com/video/"+e[2]+"?"+t.join("&")}},rutube:{embeded:e=>"https://rutube.ru/play/embed/"+e[2]},tiktok:{embeded:(e,t=null)=>"https://tiktok.com/embed/v2/"+e[1]+"?lang="+t},vk:{embeded:e=>{var t=[];return n.is_autoplay&&s&&t.push("autoplay=1"),e.input+"&"+t.join("&")}},twitch:{embeded:(e,t=0)=>{var i=["parent="+document.location.host,"autoplay="+(n.is_autoplay&&s?"true":"false")];return"https://player.twitch.tv/?"+(e[2]?"video="+e[2].substr(1):"channel="+e[1])+"&"+i.join("&")}},file:{s:null,t:e=>{}}};for(i=0;i<this.matchers.length;i++)if(m=n.url.match(this.matchers[i].r)){(e=t[this.matchers[i].p]).match=m,e.name=this.matchers[i].p;break}return e}},ZeroFactory={defaults:{bg:"#00000000",brand:{fill:[],stroke:[]},layout:{items:[],cols:8,rows:6},action:{type:"none",value:null}},itemDefaults:{text:{text:"Title",font:{textsize:17,textalign:"center",lineheight:1.45,letterspacing:0,weight:"1",font:13,color:"#000000"},link:null},link:{title:"Title",bg:"#343a40",stroke:{width:0,color:"#000000"},font:{textsize:17,color:"#ffffff",font:13,textalign:"center",lineheight:1.45,letterspacing:0,weight:"1"},styles:{radius:10}},icon:{icon:"tabler/star",color:"#000000",link:null,size:80,rotate:0,stroke:{width:0,color:"#000000"}},image:{p:null,overlay:null,color:null,transparent:20,size:100},rect:{p:null,overlay:"#ffffff",color:null,transparent:0,stroke:{width:0,color:"#000000"}},shape:{p:null,overlay:"#ffffff",color:null,transparent:0,clip:"",stroke:{width:0,color:"#000000"}}},itemDefault:{lock:!1,show:!0,styles:{},action:{type:"none",value:null},key:1},defaultStyles:{bg:"#00000000",transparent:0,pos:"c c",padding:{l:0,r:0,t:0,b:0},radius:0,shadow:{x:0,y:0,b:0,color:"#000000",o:80},blur:0},getDefault(e,t="is-light"){var e=__.isObject(e)?e.type:e,i=__.clone(this.itemDefaults[e]);if("is-dark"==t)switch(e){case"icon":i.color="#ffffff";break;case"text":i.font.color="#ffffff"}return i},getDefaultStyles(e){return __.merge(__.clone(this.defaultStyles),this.itemDefaults[__.isObject(e)?e.type:e].styles||{})},createSvgBackground(t,i,n,s,e="#000000",o="none",r=0){let a="";const l=r/2;var c=(e,t)=>{t=e==t/2?0:e<t/2?1:-1;return e+l*t};for(let e=0;e<t.length;e++){var d=t[e],u=t[(e+1)%t.length],h=t[(e+2)%t.length],d={x:u.x-d.x,y:u.y-d.y},h={x:h.x-u.x,y:h.y-u.y},p=Math.sqrt(d.x*d.x+d.y*d.y),f=Math.sqrt(h.x*h.x+h.y*h.y),d={x:d.x/p,y:d.y/p},h={x:h.x/f,y:h.y/f},p=Math.min(i,Math.min(p/2,f/2)),f={x:u.x-d.x*p,y:u.y-d.y*p},d={x:u.x+h.x*p,y:u.y+h.y*p};0===e?a+="M "+c(f.x,n)+" "+c(f.y,s)+" ":a+="L "+c(f.x,n)+" "+c(f.y,s)+" ",a+="Q "+c(u.x,n)+" "+c(u.y,s)+" "+c(d.x,n)+" "+c(d.y,s)+" "}return a+="Z","url(data:image/svg+xml;base64,"+btoa('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 '+n+" "+s+'" width="100%" height="100%"><path d="'+a+'" fill="'+e+'" stroke="'+o+'" stroke-width="'+r+'" /></svg>')+")"},cellBlockStyles(n,e,s,o){var r="--block-zero";let t=null,i=null;var a=n.styles.padding;let l={};switch(n.type){case"text":t=r+"-text",i=n.data.font,l={[t+"-font-family"]:FontsFactory.getFont(i.font),[t+"-font-weight"]:FontsFactory.getWeight(i.font,i.weight),[t+"-color"]:i.color,[t+"-align"]:i.textalign,[t+"-fontsize"]:i.textsize+"px",[t+"-lineheight"]:i.lineheight,[t+"-letterspacing"]:i.letterspacing+"px"};break;case"image":case"shape":case"rect":var c=n.styles.pos.split(" "),d={c:"center",l:"left",r:"right",t:"top",b:"bottom"},u=n.data.p?n.data.p.filename?"url(//"+e.storage_domain+"/p/"+n.data.p.filename+")":n.data.p.library&&null==n.data.p.link?getCroppedImage(e.storage_domain,n.data.p,()=>{n.data.p.link=""},(e,t,i)=>{Object.assign(n.data.p,{link:e,width:n.data.p.crop.w,height:n.data.p.crop.h}),n.key++}):"url("+n.data.p.link+")":null;if(l=__.filter(__.merge({"--block-zero-image":u,"--block-zero-image-position":d[c[0]]+" "+d[c[1]],"--block-zero-image-color":!u||n.data.p&&"jpg"==n.data.p.ext?n.data.color:null,"--block-zero-image-overlay":n.data.overlay?ColorsFactory.getBackground(n.data.overlay):-1!=["shape","rect"].indexOf(n.type)?"#ffffff":null,"--block-zero-image-overlay-opacity":(100-n.data.transparent)/100,"--block-zero-image-scale":"image"==n.type?n.data.size/100:null},n.data.p?this.coverImageStyles(r,n,s):{}),__.isNotNull),"shape"==n.type){d=n.c.h*s,c=n.c.w*s;let t=d/(n.c.h*s),i=c/(n.c.w*s);var u=Math.min(c,d)/100,h=Math.ceil((n.styles.radius&&(n.styles.radius,1)?parseInt(n.styles.radius):0)*u),p=__.map(n.data.clip,e=>({x:(e.x-n.c.x)*s*i,y:(e.y-n.c.y)*s*t}));l[r+"-shape-mask"]=ZeroFactory.createSvgBackground(p,Math.ceil(h*u),c,d,"#000000","none",n.data.stroke.width*o),n.data.stroke.width&&(l[r+"-shape-stroke"]=ZeroFactory.createSvgBackground(p,Math.ceil(h*u),c,d,"none",n.data.stroke.color,n.data.stroke.width*o))}"rect"==n.type&&(l=__.merge(l,{"--block-zero-rect-stroke-color":n.data.stroke.color,"--block-zero-rect-stroke-width":n.data.stroke.width*o+"px"}));break;case"icon":l={"--block-zero-icon-color":n.data.color,"--block-zero-icon-rotate":n.data.rotate+"deg","--block-zero-icon-scale":n.data.size/100,"--block-zero-icon-stroke-color":n.data.stroke.color,"--block-zero-icon-stroke-width":n.data.stroke.width*o+"px"};break;case"link":t=r+"-link",i=n.data.font,l={[t+"-font-family"]:FontsFactory.getFont(i.font),[t+"-font-weight"]:FontsFactory.getWeight(i.font,i.weight),[t+"-background"]:ColorsFactory.getBackground(n.data.bg),[t+"-fontsize"]:i.textsize+"px",[t+"-color"]:n.data.font.color,[t+"-stroke-color"]:n.data.stroke.color,[t+"-stroke-width"]:n.data.stroke.width*o+"px",[t+"-lineheight"]:i.lineheight,[t+"-letterspacing"]:i.letterspacing+"px"}}let f=Math.min(n.c.w,n.c.h)*s/100;return FontsFactory.check(),__.merge(l,{"--cell-width":n.c.w,"--cell-height":n.c.h,"--cell-background":ColorsFactory.getBackground(n.styles.bg,n.styles.transparent),"--cell-width":n.c.w,"--cell-height":n.c.h,"--cell-radius":_.map(n.styles.radius.toString().split(" "),e=>Math.ceil(e*f)+"px").join(" "),"--size-factor":o,"--block-zero-padding-t":s*a.t*n.c.h/100+"px","--block-zero-padding-b":s*a.b*n.c.h/100+"px","--block-zero-padding-l":s*a.l*n.c.w/100+"px","--block-zero-padding-r":s*a.r*n.c.w/100+"px"})},coverImageStyles(e,t,i){var n=t.c.w*i,s=t.c.h*i,i=(n-=(t.styles.padding.l+t.styles.padding.r)*t.c.w*i/100)/(s-=(t.styles.padding.t+t.styles.padding.b)*t.c.h*i/100),t=t.data.p.width/t.data.p.height;let o,r;return r=t<i?(o=n)/t:(o=s*t,s),{[e+"-image-width"]:o+"px",[e+"-image-height"]:r+"px"}}};function date_format(e,t){function i(e,t){return a[e]?a[e]():t}function n(e,t){for(e=String(e);e.length<t;)e="0"+e;return e}var s,o=["Sun","Mon","Tues","Wednes","Thurs","Fri","Satur","January","February","March","April","May","June","July","August","September","October","November","December"],r=/\\?(.?)/gi,a={d:function(){return n(a.j(),2)},D:function(){return a.l().slice(0,3)},j:function(){return s.getDate()},l:function(){return o[a.w()]+"day"},N:function(){return a.w()||7},S:function(){var e=a.j(),t=e%10;return["st","nd","rd"][(t=t<=3&&1===parseInt(e%100/10,10)?0:t)-1]||"th"},w:function(){return s.getDay()},z:function(){var e=new Date(a.Y(),a.n()-1,a.j()),t=new Date(a.Y(),0,1);return Math.round((e-t)/864e5)},W:function(){var e=new Date(a.Y(),a.n()-1,a.j()-a.N()+3),t=new Date(e.getFullYear(),0,4);return n(1+Math.round((e-t)/864e5/7),2)},F:function(){return o[6+a.n()]},m:function(){return n(a.n(),2)},M:function(){return a.F().slice(0,3)},n:function(){return s.getMonth()+1},t:function(){return new Date(a.Y(),a.n(),0).getDate()},L:function(){var e=a.Y();return e%4==0&e%100!=0|e%400==0},o:function(){var e=a.n(),t=a.W();return a.Y()+(12===e&&t<9?1:1===e&&9<t?-1:0)},Y:function(){return s.getFullYear()},y:function(){return a.Y().toString().slice(-2)},a:function(){return 11<s.getHours()?"pm":"am"},A:function(){return a.a().toUpperCase()},B:function(){var e=3600*s.getUTCHours(),t=60*s.getUTCMinutes(),i=s.getUTCSeconds();return n(Math.floor((e+t+i+3600)/86.4)%1e3,3)},g:function(){return a.G()%12||12},G:function(){return s.getHours()},h:function(){return n(a.g(),2)},H:function(){return n(a.G(),2)},i:function(){return n(s.getMinutes(),2)},s:function(){return n(s.getSeconds(),2)},u:function(){return n(1e3*s.getMilliseconds(),6)},e:function(){throw new Error("Not supported (see source code of date() for timezone on how to add support)")},I:function(){return new Date(a.Y(),0)-Date.UTC(a.Y(),0)!=new Date(a.Y(),6)-Date.UTC(a.Y(),6)?1:0},O:function(){var e=s.getTimezoneOffset(),t=Math.abs(e);return(0<e?"-":"+")+n(100*Math.floor(t/60)+t%60,4)},P:function(){var e=a.O();return e.substr(0,3)+":"+e.substr(3,2)},T:function(){return"UTC"},Z:function(){return 60*-s.getTimezoneOffset()},c:function(){return"Y-m-d\\TH:i:sP".replace(r,i)},r:function(){return"D, d M Y H:i:s O".replace(r,i)},U:function(){return s/1e3|0}};return e=e,s=void 0===(t=t)?new Date:t instanceof Date?new Date(t):new Date(1e3*t),e.replace(r,i)}!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.postscribe=t():e.postscribe=t()}(this,function(){return n=[function(e,t,i){"use strict";var i=i(1),i=(i=i)&&i.__esModule?i:{default:i};e.exports=i.default},function(e,t,i){"use strict";t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},t=(t.default=p,i(2)),l=(t=t)&&t.__esModule?t:{default:t},s=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}}(i(4));function c(){}var o={afterAsync:c,afterDequeue:c,afterStreamStart:c,afterWrite:c,autoFix:!0,beforeEnqueue:c,beforeWriteToken:function(e){return e},beforeWrite:function(e){return e},done:c,error:function(e){throw new Error(e.msg)},releaseAsync:!1},d=0,r=[],u=null;function h(){var e,t=r.shift();t&&((e=s.last(t)).afterDequeue(),t.stream=function(e,t,n){(u=new l.default(e,n)).id=d++,u.name=n.name||u.id,p.streams[u.name]=u;var i=e.ownerDocument,s={close:i.close,open:i.open,write:i.write,writeln:i.writeln};function o(e){e=n.beforeWrite(e),u.write(e),n.afterWrite(e)}a(i,{close:c,open:c,write:function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return o(t.join(""))},writeln:function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return o(t.join("")+"\n")}});var r=u.win.onerror||c;return u.win.onerror=function(e,t,i){n.error({msg:e+" - "+t+": "+i}),r.apply(u.win,[e,t,i])},u.write(t,function(){a(i,s),u.win.onerror=r,n.done(),u=null,h()}),u}.apply(void 0,t),e.afterStreamStart())}function p(e,t,i){if(s.isFunction(i))i={done:i};else if("clear"===i)return r=[],u=null,void(d=0);i=s.defaults(i,o);var n=[e=/^#/.test(e)?window.document.getElementById(e.substr(1)):e.jquery?e[0]:e,t,i];return e.postscribe={cancel:function(){n.stream?n.stream.abort():n[1]=c}},i.beforeEnqueue(n),r.push(n),u||h(),e.postscribe}a(p,{streams:{},queue:r,WriteStream:l.default})},function(e,t,i){"use strict";t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},n=i(3),s=(n=n)&&n.__esModule?n:{default:n},o=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}}(i(4));var d="data-ps-";function r(e,t){e=e.getAttribute(d+t);return o.existy(e)?String(e):e}function l(e,t,i){i=2<arguments.length&&void 0!==i?i:null,t=d+t;o.existy(i)&&""!==i?e.setAttribute(t,i):e.removeAttribute(t)}function c(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=this,n=c;if(!(i instanceof n))throw new TypeError("Cannot call a class as a function");this.root=e,this.options=t,this.doc=e.ownerDocument,this.win=this.doc.defaultView||this.doc.parentWindow,this.parser=new s.default("",{autoFix:t.autoFix}),this.actuals=[e],this.proxyHistory="",this.proxyRoot=this.doc.createElement(e.nodeName),this.scriptStack=[],this.writeQueue=[],l(this.proxyRoot,"proxyof",0)}c.prototype.write=function(){var e;for((e=this.writeQueue).push.apply(e,arguments);!this.deferredRemote&&this.writeQueue.length;){var t=this.writeQueue.shift();o.isFunction(t)?this._callFunction(t):this._writeImpl(t)}},c.prototype._callFunction=function(e){var t={type:"function",value:e.name||e.toString()};this._onScriptStart(t),e.call(this.win,this.doc),this._onScriptDone(t)},c.prototype._writeImpl=function(e){this.parser.append(e);for(var t=void 0,i=void 0,n=void 0,s=[];(t=this.parser.readToken())&&!(i=o.isScript(t))&&!(n=o.isStyle(t));)(t=this.options.beforeWriteToken(t))&&s.push(t);0<s.length&&this._writeStaticTokens(s),i&&this._handleScriptToken(t),n&&this._handleStyleToken(t)},c.prototype._writeStaticTokens=function(e){e=this._buildChunk(e);return e.actual?(e.html=this.proxyHistory+e.actual,this.proxyHistory+=e.proxy,this.proxyRoot.innerHTML=e.html,this._walkChunk(),e):null},c.prototype._buildChunk=function(e){for(var t=this.actuals.length,i=[],n=[],s=[],o=e.length,r=0;r<o;r++){var a,l=e[r],c=l.toString();i.push(c),l.attrs?/^noscript$/i.test(l.tagName)||(a=t++,n.push(c.replace(/(\/?>)/," "+d+"id="+a+" $1")),"ps-script"!==l.attrs.id&&"ps-style"!==l.attrs.id&&s.push("atomicTag"===l.type?"":"<"+l.tagName+" "+d+"proxyof="+a+(l.unary?" />":">"))):(n.push(c),s.push("endTag"===l.type?c:""))}return{tokens:e,raw:i.join(""),actual:n.join(""),proxy:s.join("")}},c.prototype._walkChunk=function(){for(var e,t=[this.proxyRoot];o.existy(e=t.shift());){var i=1===e.nodeType;!(i&&r(e,"proxyof"))&&(i&&l(this.actuals[r(e,"id")]=e,"id"),i=e.parentNode&&r(e.parentNode,"proxyof"))&&this.actuals[i].appendChild(e),t.unshift.apply(t,o.toArray(e.childNodes))}},c.prototype._handleScriptToken=function(e){var t=this,i=this.parser.clear();i&&this.writeQueue.unshift(i),e.src=e.attrs.src||e.attrs.SRC,(e=this.options.beforeWriteToken(e))&&(e.src&&this.scriptStack.length?this.deferredRemote=e:this._onScriptStart(e),this._writeScriptToken(e,function(){t._onScriptDone(e)}))},c.prototype._handleStyleToken=function(e){var t=this.parser.clear();t&&this.writeQueue.unshift(t),e.type=e.attrs.type||e.attrs.TYPE||"text/css",(e=this.options.beforeWriteToken(e))&&this._writeStyleToken(e),t&&this.write()},c.prototype._writeStyleToken=function(e){var t=this._buildStyle(e);this._insertCursor(t,"ps-style"),e.content&&(t.styleSheet&&!t.sheet?t.styleSheet.cssText=e.content:t.appendChild(this.doc.createTextNode(e.content)))},c.prototype._buildStyle=function(e){var i=this.doc.createElement(e.tagName);return i.setAttribute("type",e.type),o.eachKey(e.attrs,function(e,t){i.setAttribute(e,t)}),i},c.prototype._insertCursor=function(e,t){this._writeImpl('<span id="'+t+'"/>');t=this.doc.getElementById(t);t&&t.parentNode.replaceChild(e,t)},c.prototype._onScriptStart=function(e){e.outerWrites=this.writeQueue,this.writeQueue=[],this.scriptStack.unshift(e)},c.prototype._onScriptDone=function(e){e!==this.scriptStack[0]?this.options.error({msg:"Bad script nesting or script finished twice"}):(this.scriptStack.shift(),this.write.apply(this,e.outerWrites),!this.scriptStack.length&&this.deferredRemote&&(this._onScriptStart(this.deferredRemote),this.deferredRemote=null))},c.prototype._writeScriptToken=function(e,t){var i=this._buildScript(e),n=this._shouldRelease(i),s=this.options.afterAsync;e.src&&(i.src=e.src,this._scriptLoadHandler(i,n?s:function(){t(),s()}));try{this._insertCursor(i,"ps-script"),i.src&&!n||t()}catch(e){this.options.error(e),t()}},c.prototype._buildScript=function(e){var i=this.doc.createElement(e.tagName);return o.eachKey(e.attrs,function(e,t){i.setAttribute(e,t)}),e.content&&(i.text=e.content),i},c.prototype._scriptLoadHandler=function(t,i){function n(){t=t.onload=t.onreadystatechange=t.onerror=null}var s=this.options.error;function e(){n(),null!=i&&i(),i=null}function o(e){n(),s(e),null!=i&&i(),i=null}function r(e,t){var i=e["on"+t];null!=i&&(e["_on"+t]=i)}r(t,"load"),r(t,"error"),a(t,{onload:function(){if(t._onload)try{t._onload.apply(this,Array.prototype.slice.call(arguments,0))}catch(e){o({msg:"onload handler failed "+e+" @ "+t.src})}e()},onerror:function(){if(t._onerror)try{t._onerror.apply(this,Array.prototype.slice.call(arguments,0))}catch(e){return void o({msg:"onerror handler failed "+e+" @ "+t.src})}o({msg:"remote script failed "+t.src})},onreadystatechange:function(){/^(loaded|complete)$/.test(t.readyState)&&e()}})},c.prototype._shouldRelease=function(e){return!/^script$/i.test(e.nodeName)||!!(this.options.releaseAsync&&e.src&&e.hasAttribute("async"))},t.default=c},function(e,t,i){var n;n=function(){return n=[function(e,t,i){"use strict";var i=i(1),i=(i=i)&&i.__esModule?i:{default:i};e.exports=i.default},function(e,t,i){"use strict";t.__esModule=!0;var l=r(i(2)),n=r(i(3)),s=i(6),c=(s=s)&&s.__esModule?s:{default:s},o=i(5);function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}var a,d={comment:/^<!--/,endTag:/^<\//,atomicTag:/^<\s*(script|style|noscript|iframe|textarea)[\s\/>]/i,startTag:/^</,chars:/^[^<]/},u=(h.prototype.append=function(e){this.stream+=e},h.prototype.prepend=function(e){this.stream=e+this.stream},h.prototype._readTokenImpl=function(){var e=this._peekTokenImpl();if(e)return this.stream=this.stream.slice(e.length),e},h.prototype._peekTokenImpl=function(){for(var e in d)if(d.hasOwnProperty(e)&&d[e].test(this.stream)){e=n[e](this.stream);if(e)return"startTag"===e.type&&/script|style/i.test(e.tagName)?null:(e.text=this.stream.substr(0,e.length),e)}},h.prototype.peekToken=function(){return this._peekToken()},h.prototype.readToken=function(){return this._readToken()},h.prototype.readTokens=function(e){for(var t;t=this.readToken();)if(e[t.type]&&!1===e[t.type](t))return},h.prototype.clear=function(){var e=this.stream;return this.stream="",e},h.prototype.rest=function(){return this.stream},h);function h(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=this,s=h;if(!(n instanceof s))throw new TypeError("Cannot call a class as a function");this.stream=t;var o,r=!1,a={};for(o in l)l.hasOwnProperty(o)&&(i.autoFix&&(a[o+"Fix"]=!0),r=r||a[o+"Fix"]);r?(this._readToken=(0,c.default)(this,a,function(){return e._readTokenImpl()}),this._peekToken=(0,c.default)(this,a,function(){return e._peekTokenImpl()})):(this._readToken=this._readTokenImpl,this._peekToken=this._peekTokenImpl)}for(a in(t.default=u).tokenToString=function(e){return e.toString()},u.escapeAttributes=function(e){var t,i={};for(t in e)e.hasOwnProperty(t)&&(i[t]=(0,o.escapeQuotes)(e[t],null));return i},u.supports=l)l.hasOwnProperty(a)&&(u.browserHasFlaw=u.browserHasFlaw||!l[a]&&a)},function(e,t){"use strict";var i=!(t.__esModule=!0),n=!1,s=window.document.createElement("div");try{var o="<P><I></P></I>";s.innerHTML=o,t.tagSoup=i=s.innerHTML!==o}catch(e){t.tagSoup=i=!1}try{s.innerHTML="<P><i><P></P></i></P>",t.selfClose=n=2===s.childNodes.length}catch(e){t.selfClose=n=!1}s=null,t.tagSoup=i,t.selfClose=n},function(e,t,i){"use strict";t.__esModule=!0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=(t.comment=function(e){var t=e.indexOf("--\x3e");if(0<=t)return new r.CommentToken(e.substr(4,t-1),t+3)},t.chars=function(e){var t=e.indexOf("<");return new r.CharsToken(0<=t?t:e.length)},t.startTag=n,t.atomicTag=function(e){var t=n(e);if(t){e=e.slice(t.length);if(e.match(new RegExp("</\\s*"+t.tagName+"\\s*>","i"))){e=e.match(new RegExp("([\\s\\S]*?)</\\s*"+t.tagName+"\\s*>","i"));if(e)return new r.AtomicTagToken(t.tagName,e[0].length+t.length,t.attrs,t.booleanAttrs,e[1])}}},t.endTag=function(e){e=e.match(a.endTag);if(e)return new r.EndTagToken(e[1],e[0].length)},i(4)),a={startTag:/^<([\-A-Za-z0-9_]+)((?:\s+[\w\-]+(?:\s*=?\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,endTag:/^<\/([\-A-Za-z0-9_]+)[^>]*>/,attr:/(?:([\-A-Za-z0-9_]+)\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))|(?:([\-A-Za-z0-9_]+)(\s|$)+)/g,fillAttr:/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noresize|noshade|nowrap|readonly|selected)$/i};function n(e){var i,n,s;if(-1!==e.indexOf(">")){e=e.match(a.startTag);if(e){i={},n={},s=e[2],e[2].replace(a.attr,function(e,t){arguments[2]||arguments[3]||arguments[4]||arguments[5]?arguments[5]?(i[arguments[5]]="",n[arguments[5]]=!0):i[t]=arguments[2]||arguments[3]||arguments[4]||a.fillAttr.test(t)&&t||"":i[t]="",s=s.replace(e,"")});e={v:new r.StartTagToken(e[1],e[0].length,i,n,!!e[3],s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))};if("object"===(void 0===e?"undefined":o(e)))return e.v}}}},function(e,t,i){"use strict";t.__esModule=!0,t.EndTagToken=t.AtomicTagToken=t.StartTagToken=t.TagToken=t.CharsToken=t.CommentToken=t.Token=void 0;var o=i(5);function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.Token=function e(t,i){r(this,e),this.type=t,this.length=i,this.text=""},t.CommentToken=(n.prototype.toString=function(){return"\x3c!--"+this.content},n);function n(e,t){r(this,n),this.type="comment",this.length=t||(e?e.length:0),this.text="",this.content=e}t.CharsToken=(s.prototype.toString=function(){return this.text},s);function s(e){r(this,s),this.type="chars",this.length=e,this.text=""}var a=t.TagToken=(l.formatTag=function(e){var t,i,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,s="<"+e.tagName;for(t in e.attrs)e.attrs.hasOwnProperty(t)&&(s+=" "+t,i=e.attrs[t],void 0!==e.booleanAttrs&&void 0!==e.booleanAttrs[t]||(s+='="'+(0,o.escapeQuotes)(i)+'"'));return e.rest&&(s+=" "+e.rest),e.unary&&!e.html5Unary?s+="/>":s+=">",null!=n&&(s+=n+"</"+e.tagName+">"),s},l);function l(e,t,i,n,s){r(this,l),this.type=e,this.length=i,this.text="",this.tagName=t,this.attrs=n,this.booleanAttrs=s,this.unary=!1,this.html5Unary=!1}t.StartTagToken=(c.prototype.toString=function(){return a.formatTag(this)},c);function c(e,t,i,n,s,o){r(this,c),this.type="startTag",this.length=t,this.text="",this.tagName=e,this.attrs=i,this.booleanAttrs=n,this.html5Unary=!1,this.unary=s,this.rest=o}t.AtomicTagToken=(d.prototype.toString=function(){return a.formatTag(this,this.content)},d);function d(e,t,i,n,s){r(this,d),this.type="atomicTag",this.length=t,this.text="",this.tagName=e,this.attrs=i,this.booleanAttrs=n,this.unary=!1,this.html5Unary=!1,this.content=s}t.EndTagToken=(u.prototype.toString=function(){return"</"+this.tagName+">"},u);function u(e,t){r(this,u),this.type="endTag",this.length=t,this.text="",this.tagName=e}},function(e,t){"use strict";t.__esModule=!0,t.escapeQuotes=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";return e?e.replace(/([^"]*)"/g,function(e,t){return/\\/.test(t)?t+'"':t+'\\"'}):t}},function(e,t){"use strict";t.__esModule=!0,t.default=function(n,i,s){var o=function(){var e=[];return e.last=function(){return this[this.length-1]},e.lastTagNameEq=function(e){var t=this.last();return t&&t.tagName&&t.tagName.toUpperCase()===e.toUpperCase()},e.containsTagName=function(e){for(var t,i=0;t=this[i];i++)if(t.tagName===e)return!0;return!1},e}(),r={startTag:function(e){var t=e.tagName;"TR"===t.toUpperCase()&&o.lastTagNameEq("TABLE")?(n.prepend("<TBODY>"),a()):i.selfCloseFix&&l.test(t)&&o.containsTagName(t)?o.lastTagNameEq(t)?d(n,o):(n.prepend("</"+e.tagName+">"),a()):e.unary||o.push(e)},endTag:function(e){o.last()?i.tagSoupFix&&!o.lastTagNameEq(e.tagName)?d(n,o):o.pop():i.tagSoupFix&&(s(),a())}};function a(){var e,t,i;t=s,i=(e=n).stream,t=c(s()),e.stream=i,t&&r[t.type]&&r[t.type](t)}return function(){return a(),c(s())}};var i=/^(AREA|BASE|BASEFONT|BR|COL|FRAME|HR|IMG|INPUT|ISINDEX|LINK|META|PARAM|EMBED)$/i,l=/^(COLGROUP|DD|DT|LI|OPTIONS|P|TD|TFOOT|TH|THEAD|TR)$/i;function c(e){return e&&"startTag"===e.type&&(e.unary=i.test(e.tagName)||e.unary,e.html5Unary=!/\/>$/.test(e.text)),e}function d(e,t){t=t.pop();e.prepend("</"+t.tagName+">")}}],s={},i.m=n,i.c=s,i.p="",i(0);function i(e){var t;return(s[e]||(t=s[e]={exports:{},id:e,loaded:!1},n[e].call(t.exports,t,t.exports,i),t.loaded=!0,t)).exports}var n,s},e.exports=n()},function(e,t){"use strict";t.__esModule=!0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function s(e){return null!=e}function o(e,t,i){for(var n=void 0,s=e&&e.length||0,n=0;n<s;n++)t.call(i,e[n],n)}function r(e,t,i){for(var n in e)e.hasOwnProperty(n)&&t.call(i,n,e[n])}function i(e,t){return!(!e||"startTag"!==e.type&&"atomicTag"!==e.type||!("tagName"in e)||!~e.tagName.toLowerCase().indexOf(t))}t.existy=s,t.isFunction=function(e){return"function"==typeof e},t.each=o,t.eachKey=r,t.defaults=function(i,e){return i=i||{},r(e,function(e,t){s(i[e])||(i[e]=t)}),i},t.toArray=function(i){try{return Array.prototype.slice.call(i)}catch(e){var t=function(){var t=[];return o(i,function(e){t.push(e)}),{v:t}}();if("object"===(void 0===t?"undefined":n(t)))return t.v}},t.last=function(e){return e[e.length-1]},t.isTag=i,t.isScript=function(e){return i(e,"script")},t.isStyle=function(e){return i(e,"style")}}],s={},i.m=n,i.c=s,i.p="",i(0);function i(e){var t;return(s[e]||(t=s[e]={exports:{},id:e,loaded:!1},n[e].call(t.exports,t,t.exports,i),t.loaded=!0,t)).exports}var n,s}),function(){var t,i,o=document.attachEvent,r=!1;if(!o){i=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){return window.setTimeout(e,20)};var e=function(e){return i(e)},n=(t=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout,function(e){return t(e)}),a=function(e){var e=e.__resizeTriggers__,t=e.firstElementChild,e=e.lastElementChild,i=t.firstElementChild;e.scrollLeft=e.scrollWidth,e.scrollTop=e.scrollHeight,i.style.width=t.offsetWidth+1+"px",i.style.height=t.offsetHeight+1+"px",t.scrollLeft=t.scrollWidth,t.scrollTop=t.scrollHeight},s=function(e){return e.offsetWidth!=e.__resizeLast__.width||e.offsetHeight!=e.__resizeLast__.height},l=function(t){var i=this;a(this),this.__resizeRAF__&&n(this.__resizeRAF__),this.__resizeRAF__=e(function(){s(i)&&(i.__resizeLast__.width=i.offsetWidth,i.__resizeLast__.height=i.offsetHeight,i.__resizeListeners__.forEach(function(e){e.call(i,t)}))})},c=!1,d="",u="animationstart",h="Webkit Moz O ms".split(" "),p="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),f="",m=document.createElement("fakeelement");if(!1===(c=void 0!==m.style.animationName?!0:c))for(var v=0;v<h.length;v++)if(void 0!==m.style[h[v]+"AnimationName"]){f=h[v],d="-"+f.toLowerCase()+"-",u=p[v],c=!0;break}var g="resizeanim",b="@"+d+"keyframes "+g+" { from { opacity: 0; } to { opacity: 0; } } ",y=d+"animation: 1ms "+g+"; "}window.addResizeListener=function(t,e){var i,n,s;o?t.attachEvent("onresize",e):(t.__resizeTriggers__||("static"==getComputedStyle(t).position&&(t.style.position="relative"),r||(i=(b||"")+".resize-triggers { "+(y||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',n=document.head||document.getElementsByTagName("head")[0],(s=document.createElement("style")).type="text/css",s.styleSheet?s.styleSheet.cssText=i:s.appendChild(document.createTextNode(i)),n.appendChild(s),r=!0),t.__resizeLast__={},t.__resizeListeners__=[],(t.__resizeTriggers__=document.createElement("div")).className="resize-triggers",t.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',t.appendChild(t.__resizeTriggers__),a(t),t.addEventListener("scroll",l,!0),u&&t.__resizeTriggers__.addEventListener(u,function(e){e.animationName==g&&a(t)})),t.__resizeListeners__.push(e))},window.removeResizeListener=function(e,t){o?e.detachEvent("onresize",t):(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),e.__resizeListeners__.length||(e.removeEventListener("scroll",l),e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)))}}(),function(t){"use strict";t.i18n=Vue.observable({locale:$mx("html").attr("lang"),keyComponent:0,formats:{},phrases:{},counties:{},inited:!1,first_day_week:{ru:1},init(e){null!=e.locales&&(t.locales=e.locales);e=$mx("html");this.formats={date:e.data("format-date"),datetime:e.data("format-datetime")},this.inited="ru"==this.locale,null==t.account&&this.setLocale(this.locale)},setLocale(e,t=""){null==this.phrases[e]&&(this.phrases[e]={},$mx.lazy("locales."+t+e+".js")),this.locale=e},extend(e){this.phrases[this.locale]=Object.assign(this.phrases[this.locale],e)},install(s,e){function t(){var i=arguments;return i[0].replace(/{(\d+)}/g,function(e,t){return void 0!==i[t]?i[t]:e})}var i=(e,t=!1)=>{var i;return this.keyComponent,(e=e||"")&&(i=new RegExp("[\\u0400-\\u04FF]"),i="ru"==this.locale||!i.test(e[0])||t?e:e.replace(/[^ ]/g,"•"),"string"==typeof(e=this.phrases[this.locale]&&this.phrases[this.locale][e]?this.phrases[this.locale][e]:i)?e.split("|")[0]:e)},n=(e,t)=>{var i=this.phrases[this.locale]&&this.phrases[this.locale][e]||e;return(i=i.split("|")).length?1==i.length?t+" "+i[0]:0==(t=Math.abs(t))?i[2]:t+" "+i[4<t%100&&t%100<20?2:[2,0,1,1,1,2][Math.min(t%10,5)]]:t+" "+e},o=(e,t)=>{null==t&&(t=0);var i=s.prototype.$account.number;return _.isNumber(e)?window.number_format(e,{decimal:i.decimal,thousands:i.thousands,precision:t}):e},r=e=>_.isNumber(e)?window.number_format(e,s.prototype.$account.number):e,a=(e,t,i)=>{var n=_.isObject(t)?t:s.prototype.$account.currency;return null!=t&&!_.isObject(t)||(t=n.title),null==i&&(i=n.format),_.isNumber(e)?i.replace("%p",window.number_format(e,n)).replace("%c",t).replace(/ /g," "):e},l=e=>e&&date_format(this.formats.datetime,_.isNumber(e)?e:Date.parse(e)/1e3|0),c=e=>e&&date_format(this.formats.date,_.isNumber(e)?e:Date.parse(e)/1e3|0);let d=function(e){return"string"==typeof(e=null==e?"":e)?e.replace(/\n/g,"<br>"):e};function u(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function h(e,t){return void 0===e||null==e||""===e?t:e}function p(e,t=!1){return e&&(t&&(e=e.toString().replace(/<([^=])/g,"&lt;$1").replace(/>([^=]|$)/g,"&gt;$1").replace(/&lt;(\/?)(s|b|strong|i|u)&gt;/gi,"<$1$2>")),window.typography.process(e,s.prototype.$account.language_code))}function f(e){try{return new URL(e).host}catch(e){return null}}s.filter("hostname",f),s.prototype.$hostname=f,s.filter("typography",p),s.prototype.$typography=p,s.filter("gettext",i),s.prototype.$gettext=i,s.filter("plural",n),s.prototype.$plural=n,s.filter("number",o),s.filter("weight",(e,t)=>{var i=s.prototype.$account.weight;return(_.isNumber(e)?window.number_format(e,i):e)+(t?" "+i.unit_title:"")}),s.prototype.$number=o,s.filter("decimal",r),s.prototype.$decimal=r,s.filter("currency",a),s.prototype.$currency=a,s.filter("datetime",l),s.prototype.$datetime=l,s.filter("date",c),s.prototype.$date=c,s.filter("nvl",h),s.prototype.$nvl=h,s.prototype.$parseContacts=function(e,r,a=!1){null==r&&(r="a"),null==e&&(e="");let l='<div class="video-container is-youtube"><iframe frameborder="0" src="{{1}}" allowfullscreen="allowfullscreen" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"></iframe></div>';return d(e.replace(/(\s?[\>\;]?)([a-zA-Zа-яА-Я0-9\.\-\_\-]+@[0-9A-Za-z][0-9A-Za-zА-Яа-я\-\.]*\.[A-Za-zА-Яа-я]*)/g,"$1<"+r+' href="mailto:$2" target="_blank" style="color: inherit">$2</'+r+">").replace(/\+([0-9]*[-\s\(\)0-9]*)/g,e=>"<"+r+' href="tel:+'+e.replace(/[^0-9]/g,"")+'" target="_blank" style="color: inherit">'+e+"</"+r+">").replace(/(\s?[\>\;]?)(http|https|ftp|ftps|tel)\:\/\/([а-яА-Яa-zA-Z0-9\-\.]+\.[а-яА-Яa-zA-Z]{2,})(\/[^\s"'<]*)?/g,(e,t,i,n,s)=>{let o=i+"://"+n+(s||"");switch(n){case"www.youtube.com":case"youtube.com":if(a)return o=o.replace("/watch?v=","/embed/"),t+l.replace("{{1}}",o);case"youtu.be":if(a)return t+l.replace("{{1}}","https://youtube.com/embed/"+s);break;default:return t+"<"+r+' href="'+o+'" rel="'+this.$page.rel+'" target="_blank" style="color: inherit" class="link">'+o+"</"+r+">"}}))},s.filter("sprintf",(e,t)=>t.replace("%s",e)),s.filter("replace",function(){var e=arguments;return e[0].replace(e[1],e[2])}),s.filter("format",t),s.filter("nl2br",d),s.filter("escape",u),s.filter("lowercase",e=>e.toString().toLowerCase()),s.filter("uppercase",e=>e.toString().toUpperCase()),s.prototype.$nl2br=d,s.prototype.$format=t,s.prototype.$escape=u,s.prototype.$clone=e=>JSON.parse(JSON.stringify(e)),s.filter("join",function(e,t){return e&&e.join(t)}),s.prototype.$getDaysNames=()=>_.map(["ВС","ПН","ВТ","СР","ЧТ","ПТ","СБ"],s.prototype.$gettext),s.prototype.$getMonthsNames=()=>_.map(["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],s.prototype.$gettext),s.prototype.$getFirstDayWeek=()=>this.first_day_week[this.locale]}}),t.IconsCache={icons:{},wait:{},empty:'<img src="data:image/gif;base64,R0lGODlhAQABAPAAAP///wAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==">',modes:{tabler:"stroke",icofont:"fill",legacy:"fill"},install(e,t){e.prototype.$icons=this},prepare(e,t){switch(e.t||"i"){case"_i":if(e.i)return this.get(e.i,t)||this.empty;break;case"i":if(e.i)return'<div class="is-icon">'+(this.get(e.i,t)||this.empty)+"</div>";break;case"p":if(e.p)return'<div class="is-picture" style="background-image:url('+("//"+Vue.prototype.$account.storage_domain+"/p/"+e.p.filename)+')">'+this.empty+"</div>"}return null},get(t,e){if(-1==t.indexOf("/")&&(t="tabler/"+t),void 0===this.icons[t]){this.icons[t]=null;var i="/s/icons/"+t+".svg";this.wait[t]=[e],$mx.get(i).then(e=>{this.icons[t]=e.data.replace("<svg",'<svg role="none" data-mode="'+(-1!=t.indexOf("-filled")?"fill":this.modes[t.split("/")[0]])+'"'),_.each(this.wait[t],e=>_.isFunction(e)?e():e.$forceUpdate()),delete this.wait[t]}).catch(()=>{delete this.icons[t],delete this.wait[t]})}else{if(null!==this.icons[t])return this.icons[t];this.wait[t].push(e)}}},Vue.use(i18n),Vue.use(IconsCache)}((document,window));const gestures=["tap","pan","pinch","press","rotate","swipe"],subGestures=["panstart","panend","panmove","pancancel","pinchstart","pinchmove","pinchend","pinchcancel","pinchin","pinchout","pressup","rotatestart","rotatemove","rotateend","rotatecancel"],directions=["up","down","left","right","horizontal","vertical","all"],VueHammer={config:{},customEvents:{},install(e){e.directive("hammer",{bind:(i,t)=>{i.hammer||(i.hammer=new Hammer.Manager(i));var e=i.hammer;const n=t.arg;n||console.warn("[vue-hammer] event type argument is required."),i.__hammerConfig=i.__hammerConfig||{},i.__hammerConfig[n]={};var s=t.modifiers;i.__hammerConfig[n].direction=i.__hammerConfig[n].direction||[],Object.keys(s).length&&Object.keys(s).filter(e=>t.modifiers[e]).forEach(e=>{var t=i.__hammerConfig[n].direction;-1===t.indexOf(e)&&t.push(String(e))});let o,r;if(this.customEvents[n]){s=this.customEvents[n];o=s.type,(r=new Hammer[this.capitalize(o)](s)).recognizeWith(e.recognizers),e.add(r)}else{o=gestures.find(e=>e===n);s=subGestures.find(e=>e===n);if(o||s){if(s&&0!==i.__hammerConfig[s].direction.length&&console.warn("[vue-hammer] "+s+" should not have directions"),o){if(("tap"===o||"pinch"===o||"press"===o||"rotate"===o)&&0!==i.__hammerConfig[o].direction.length)throw Error("[vue-hammer] "+o+" should not have directions");(r=e.get(o))||((r=new Hammer[this.capitalize(o)]).recognizeWith(e.recognizers),e.add(r));s=this.config[o],e=(s&&(this.guardDirections(s),r.set(s)),i.hammerOptions&&i.hammerOptions[o]);e&&(this.guardDirections(e),r.set(e))}}else console.warn("[vue-hammer] invalid event type: "+n)}},inserted:(e,t)=>{var i=e.hammer;const n=t.arg;e=subGestures.find(e=>e===n)?n:this.buildEventWithDirections(n,e.__hammerConfig[n].direction);i.handler&&i.off(e,i.handler),"function"!=typeof t.value?(i.handler=null,console.warn("[vue-hammer] invalid handler function for v-hammer: "+t.arg)):i.on(e,i.handler=t.value)},componentUpdated:(e,t)=>{var i=e.hammer;const n=t.arg;e=subGestures.find(e=>e===n)?n:this.buildEventWithDirections(n,e.__hammerConfig[n].direction);i.handler&&i.off(e,i.handler),"function"!=typeof t.value?(i.handler=null,console.warn("[vue-hammer] invalid handler function for v-hammer: "+t.arg)):i.on(e,i.handler=t.value)},unbind:(e,t)=>{var i=e.hammer;const n=t.arg;t=subGestures.find(e=>e===n)?n:this.buildEventWithDirections(n,e.__hammerConfig[n].direction);i.handler&&e.hammer.off(t,i.handler),Object.keys(i.handlers).length||(e.hammer.destroy(),e.hammer=null)}})},guardDirections(e){var t,i=e.direction;"string"==typeof i&&(t="DIRECTION_"+i.toUpperCase(),-1<directions.indexOf(i)&&Hammer.hasOwnProperty(t)?e.direction=Hammer[t]:console.warn("[vue-hammer] invalid direction: "+i))},buildEventWithDirections(t,e){const i={};e.forEach(e=>{"horizontal"===(e=e.toLowerCase())?(i.left=1,i.right=1):"vertical"===e?(i.up=1,i.down=1):"all"===e?(i.left=1,i.right=1,i.up=1,i.down=1):i[e]=1});e=Object.keys(i);return 0===e.length?t:e.map(e=>t+e).join(" ")},capitalize(e){return e.charAt(0).toUpperCase()+e.slice(1)}};VueHammer.config.swipe={threshold:200},Vue.use(VueHammer),Vue.component("mx-phone",{data(){return{tmp:""}},props:{value:String,disabled:Boolean,required:Boolean,isValid:Boolean,name:String,title:String,classname:String},created(){this.tmp=this.value},mounted(){$mx(this.$refs.hidden).on("change",e=>{this.$emit("input",e.target.value)}),$mx(this.$refs.valid).on("change",e=>{this.$emit("update:isValid",!!parseInt(e.target.value))})},template:'<div><input type="tel" @focus="$emit(\'focus\')" @blur="$emit(\'blur\')" :data-country="$account.client.country" :data-title="title" :value="tmp" :name="name" autocorrect="off" autocapitalize="none" :disabled="disabled" :required="required" :class="classname"><input type="hidden" ref="hidden" class="tel-code" v-model="tmp"><input type="hidden" ref="valid" class="tel-valid"></div>'}),Vue.directive("focus",{inserted:e=>{window.$device.desktop&&setTimeout(()=>{e.focus()},0)}}),Vue.component("mx-modal",{props:{active:Boolean,component:[Object,Function],content:String,programmatic:Boolean,props:Object,events:Object,width:{type:[String,Number],default:960},hasModalCard:Boolean,animation:{type:String,default:"zoom-out"},parentNode:Object,parent:Object,customClass:String,canCancel:{type:[Array,Boolean],default:()=>["outside","button"]},onCancel:{type:Function,default:()=>{}},scroll:{type:String,default:()=>"clip",validator:e=>0<=["clip","keep"].indexOf(e)}},data(){return{isActive:this.active||!1,savedScrollTop:null,newWidth:"number"==typeof this.width?this.width+"px":this.width}},computed:{cancelOptions(){return"boolean"==typeof this.canCancel?this.canCancel?["escape","x","outside","button"]:[]:this.canCancel},showX(){return 0<=this.cancelOptions.indexOf("x")}},watch:{active(e){this.isActive=e},isActive(){this.handleScroll()}},methods:{handleScroll(){"undefined"!=typeof window&&("clip"===this.scroll?this.isActive?document.documentElement.classList.add("is-clipped"):document.documentElement.classList.remove("is-clipped"):(this.savedScrollTop=this.savedScrollTop||document.documentElement.scrollTop,this.isActive?document.body.classList.add("is-noscroll"):document.body.classList.remove("is-noscroll"),this.isActive?document.body.style.top=`-${this.savedScrollTop}px`:(document.documentElement.scrollTop=this.savedScrollTop,document.body.style.top=null,this.savedScrollTop=null)))},cancel(e){this.cancelOptions.indexOf(e)<0||(this.onCancel.apply(null,arguments),this.close())},close(){this.$emit("close"),this.$emit("update:active",!1),this.programmatic&&(this.isActive=!1,setTimeout(()=>{this.$destroy(),this.$el.remove()},150))},keyPress(e){this.isActive&&27===e.keyCode&&this.cancel("escape")}},created(){"undefined"!=typeof window&&document.addEventListener("keyup",this.keyPress)},beforeMount(){this.programmatic&&$mx(".page-content")[0].appendChild(this.$el)},mounted(){this.programmatic?this.isActive=!0:this.isActive&&this.handleScroll()},beforeDestroy(){var e;"undefined"!=typeof window&&(document.removeEventListener("keyup",this.keyPress),document.documentElement.classList.remove("is-clipped"),e=this.savedScrollTop||document.documentElement.scrollTop,document.body.classList.remove("is-noscroll"),document.documentElement.scrollTop=e,document.body.style.top=null)},template:`
    <transition :name="animation">
        <div v-if="isActive" class="modal is-active" :class="customClass" role="dialog" aria-modal="true">
            <div class="modal-background" @click="cancel('outside')"/>
            <div
                class="animation-content"
                :class="{ 'modal-content': !hasModalCard }"
                :style="{ maxWidth: newWidth }">
                <component
                    v-if="component"
                    v-bind="props"
                    v-on="events"
                    :is="component"
                    @close="close"/>
                <div
                    v-else-if="content"
                    v-html="content"/>
                <slot v-else/>
            </div>
            <button
                type="button"
                v-if="showX"
                class="modal-close is-large"
                @click="cancel('x')"/>
        </div>
    </transition>
    `}),window.modules_loaded={},window.components_hooks={},window.components_loaded_hooks={},window.modules_hooks={};var App=window.$app={modules:{},components:{},defineModuleLazy:[],isClipped:0,hooks:{delayed:{}},awaitStyles:{},data:[],setClipped(e){this.isClipped+=e,$mx("html").toggleClass("is-clipped",this.isClipped)},loadModule(n){this.awaitStyles[n]=!0,$mx.lazy("vue."+n+".js","vue."+n+".css",null,null,(e,t,i)=>{"css"==i&&(this.hooks.delayed[n]&&this.hooks.delayed[n].trigger("loaded"),delete this.awaitStyles[n],delete this.hooks.delayed[n])}),window.modules_loaded[n]=!0},loadComponent(n){return new Promise((t,e)=>{if(null===n)return t(null);var i=/^vue\-([^-]+)-([^-]+)/gi.exec(n);if(null!=Vue.options.components[n])window.components_loaded_hooks[n]?window.components_loaded_hooks[n].on("loaded",()=>{t(Vue.options.components[n])}):t(Vue.options.components[n]);else if(null==Vue.options.components[n]&&Vue.component(n,function(e){window.components_hooks[n]=e}),i){null==window.components_loaded_hooks[n]&&(window.components_loaded_hooks[n]=$mx({})),window.components_loaded_hooks[n].on("loaded",()=>{t(Vue.options.components[n])});let e=i[2];"addons"==e&&(e="frontend.addons."+(e=n.split("vue-frontend-addons-")[1].split("-")[0])),null==window.modules_loaded[e]&&this.loadModule(e)}else e()})},addonComponent(e){return this.loadComponent(e="vue-frontend-addons-"+e),e},defineComponent(e,t,i){this.awaitStyles[e]?(null==this.hooks.delayed[e]&&(this.hooks.delayed[e]=$mx({})),this.hooks.delayed[e].on("loaded",()=>{this.defineComponentDelayed(e,t,i)})):this.defineComponentDelayed(e,t,i)},defineComponentDelayed(e,t,i){null==this.components[e]&&(this.components[e]={}),this.components[e][t]=[t,i],window.modules_loaded[e]=!0,null!=window.components_hooks[t]?window.components_hooks[t](i):Vue.component(t,i),null!=window.components_loaded_hooks[t]&&(window.components_loaded_hooks[t].trigger("loaded",i),delete window.components_loaded_hooks[t])},defineModuleComplete(){_.each(this.defineModuleLazy,e=>{this.defineModule(e[0],e[1],!0)}),this.defineModuleLazy=[]},defineModule(e,t,i){this.awaitStyles[e]&&!i?(null==this.hooks.delayed[e]&&(this.hooks.delayed[e]=$mx({})),this.hooks.delayed[e].on("loaded",()=>{this.defineModuleDelayed(e,t,i)})):this.defineModuleDelayed(e,t,i)},defineModuleDelayed(e,i,t){if(null==window.$vue&&null==t)this.defineModuleLazy.push([e,i]);else if("frontend"==e){let t=e=>{_.each(e,i=>{i.pathToRegexpOptions={strict:!0},null!=window.account&&"/"!=i.path&&(window.account.custom_domain||(i.path="/:username"+i.path),i.component="vue-frontend-page"),"string"==typeof i.component?(i.componentName=i.component,i.component=function(e,t){$app.loadComponent(i.componentName).then(e).catch(t)}):null==i.component&&(i.component={template:"<router-view></router-view>"}),null!=i.children&&i.children.length&&t(i.children)})};t(i),router_options.routes=i,(router=new VueRouter(router_options)).getRoute=function(e){let n=(t,i)=>{if(r=_.find(t,i))return r;for(let e=0;e<t.length;e++)if(r=null!=t[e].children?n(t[e].children,i):r)return r;return null};return n(this.options.routes,e)},router.beforeEach((e,t,i)=>{$events.fire("beforeNavigate",{from:t,to:e}),i()}),router.afterEach(e=>{null!=e.meta&&null!=e.meta.statistic_event&&$events.fire("statistic:event",{name:"screen_"+e.meta.statistic_event}),$events.fire("navigate",e)}),window.vue_options.router=router}},scrollScreen(i=0,n=300){return new Promise((e,t)=>{scrollIt(i,"y",$device.mobile?$mx(".main-block")[0]:null,n,"linear",e)})},defineLanguage(e,t,i){null==i18n.phrases[e]&&(i18n.phrases[e]={}),Object.assign(i18n.phrases[e],i),i18n.first_day_week[e]=t,i18n.inited=!0,i18n.keyComponent++,$events.fire("locale:updated"),$vue&&$vue.$forceUpdate()},defineAddonLanguage(e,t){null==i18n.phrases[i18n.locale]&&(i18n.phrases[i18n.locale]={}),Object.assign(i18n.phrases[i18n.locale],t),delete window.account.locales["addons."+e],$events.fire("locale:updated",{target:e}),$vue.$forceUpdate()}},router=(BlockModel={data(){return{values:{}}},created(){this.values=this.defaults,this.checkOptions()},watch:{options:{handler(e){this.checkOptions()},deep:!0}},methods:{isAllowDesign(){return this.$auth.isAllowTariff("pro")},checkOptions(){this.values=_.merge(this.defaults||{},{design:{on:!1}},_.clone(this.options),!0)}}},"scrollRestoration"in history&&(history.scrollRestoration="manual"),$scroll={preventParts:{},position:{x:0,y:0},body:null,init(){$mx("html").addClass("has-page-fixed"),this.body=$mx(".page");let e=$mx(window);this.body.on("scroll touchmove",()=>{e.trigger("scroll")})},scroll(){var e=this.body[0];if(this.position)if(_.isObject(this.position))e.scroll(this.position.x,this.position.y);else{let e=this.position;setTimeout(()=>{console.log("scroll:",e),$page.scrollTo(e)},150)}else null===this.position&&$page.scrollTo();this.position={x:0,y:0}}},history&&_.isFunction(history.pushState)&&($events.on("beforeNavigate",(e,t)=>{var i;$scroll.body&&(i=$scroll.body[0],t.from&&null!=t.from.params.part&&null!=t.to.params.part&&t.from.params.part==t.to.params.part&&void 0!==$scroll.preventParts[t.from.params.part]&&($scroll.position=!1),t=_.merge(history.state,{scroll:{x:i.scrollLeft,y:i.scrollTop}}),i=location.protocol+"//"+location.host,i=location.href.replace(i,""),history.replaceState(t,"",i))}),window.addEventListener("popstate",()=>{history.state&&void 0!==history.state.scroll&&($scroll.position=history.state.scroll)})),console.log("Init frontend"),null),router_options={mode:"history",routes:[],base:"/",linkExactActiveClass:"active",linkActiveClass:"active"};function openUrlWithFallback(e,t){var i,n,s,o,r,a=document.querySelector("#launcher");let l=($device.isSafari||$device.isInstagram)&&$device.isMobile;a||((a=document.createElement("iframe")).id="launcher",a.style.display="none",document.body.appendChild(a),a.onError=()=>{}),t&&(i=Date.now(),n=!0,s=setTimeout(function(){try{window.top.location=e}catch(e){}},300),o=setTimeout(function(){!l&&(1250<Date.now()-i||!n)||(window.top.location=t)},1200),l||(r=function(){n=!1,clearTimeout(s),clearTimeout(o),window.removeEventListener("blur",r,!1),window.removeEventListener("pagehide",r,!1)},window.addEventListener("blur",r,!1),window.addEventListener("pagehide",r,!1))),a.src=e}window.vue_options={},Vue.use({install(e,t){e.prototype.$history=new e({data:{stackBack:[]},created(){$events.on("navigate",(e,t)=>{var i,n;1<this.stackBack.length&&(i=this.stackBack[this.stackBack.length-2],n=t,i.path==n.path)&&_.isEqual(i.params,n.params)?this.stackBack.pop():this.stackBack.push(t)})},computed:{prevName(){return 1<this.stackBack.length?this.stackBack[this.stackBack.length-2].name:null},prev(){return 1<this.stackBack.length?this.stackBack[this.stackBack.length-2]:null}}}),window.$page=e.prototype.$page=new e({data:{page_filename:null,page_id:null,max_width:"lg"},computed:{rel(){return"noopener"+(this.$auth.isAllowTariff("pro")?"":" nofollow")}},methods:{scrollTo(e,t=300){var i,n=$mx(".page")[0];e?(-1==["#","."].indexOf(e[0])&&(e='[name="'+e+'"]'),i=$mx(".has-menu-placement-top .menu-block-container.is-fixed"),$mx(e).scrollIt(t,"y",n,"easeInQuad",null,null,{x:0,y:i.length?-(i.outerHeight()+15):0})):scrollIt(0,"y",n,t)}}}),e.prototype.$links=new e({data:{postfix:{},platform:"",cookies:{}},created(){$events.on("links_postfix.set",(e,t)=>{this.postfix=Object.assign({},this.postfix,t)}),$events.on("links_variables.set",(e,t)=>{this.cookies=Object.assign({},this.cookies,t)}),this.cookies=Cookies.get(),null!=this.cookies.clt&&null!=this.cookies.clid&&(this.postfix.tpclid=this.cookies.clt+"."+this.cookies.clid);var e=navigator.userAgent.toLowerCase();/iphone|ipad|ipod/.test(e)&&(this.platform="ios"),-1!=e.indexOf("android")&&(this.platform="android")},methods:{checkVariables(e){return e=e?e.replace(/\%7B\%7B([a-z\_\-0-9]+)\%7D\%7D/g,(e,t)=>escape(this.cookies[t]||"{{"+t+"}}")):""},application(e){return this.checkVariables(null!=e.a&&(this.platform&&null!=e.a[this.platform]||null!=e.a.default)?e.a[this.platform]||e.a.default:e.b)},deeplink(e){null!=e.a&&(this.platform&&null!=e.a[this.platform]||null!=e.a.default)?openUrlWithFallback(this.checkVariables(e.a[this.platform]||e.a.default),this.checkVariables(e.b)):window.top.location=this.checkVariables(e.b)},resolve(s,o=!0){let r=null;switch(s.type||"link"){case"sms":return"sms:+"+(r=(s.value||"").split(":"))[0].toString().replace(/[^0-9]/,"")+(null!=r[1]&&r[1].trim().length?"?&body="+encodeURIComponent(r[1]):"");case"phone":return"tel:+"+(s.value||"").toString().replace(/[^0-9]/,"");case"email":return"mailto:"+(r=(s.value||"").split(":"))[0]+(null!=r[1]&&r[1].trim().length?"?subject="+encodeURIComponent(r[1]):"");case"anchor":case"page":var a="anchor"==s.type?s.value.split(":")[0]:s.value;return null==a||this.$account.main_page_id.toString(16)==a?{name:"index"}:{name:"page",params:{page_filename:a}};case"vcard":let i=["BEGIN:VCARD"],n={ln:"",fn:"",mn:""};return-1==this.$account.avatar.url.indexOf("empty-avatar.png")&&i.push("PHOTO;VALUE=uri:"+location.protocol+"//"+this.$account.storage_domain+this.$account.avatar.url),_.each(s.value,(e,t)=>{switch(t){case"email":i.push("EMAIL;TYPE=HOME,INTERNET:"+e);break;case"workemail":i.push("EMAIL;TYPE=WORK,INTERNET:"+e);break;case"link":-1==e.indexOf("://")&&(e="https://"+e),i.push("URL:"+e);break;case"phone":i.push("TEL;TYPE=CELL:"+e);break;case"workphone":i.push("TEL;TYPE=WORK:"+e);break;case"org":i.push("ORG;CHARSET=UTF-8:"+e);break;case"job":i.push("TITLE;CHARSET=UTF-8:"+e);break;case"ln":case"fn":n[t]=e}}),";;"!=(n=_.values(n).join(";"))&&i.push("N;CHARSET=UTF-8:"+n),i.push("END:VCARD"),"data:text/vcard;base64,"+btoa(unescape(encodeURIComponent(i.join("\n"))));case"market":return{name:"part.index",params:{part:"m"}};case"basket":return{name:"part.index",params:{part:"b"}};case"collection":return{name:"part",params:{part:"m",page_filename:parseInt(s.value).toString(16)}};case"product":return{name:"part",params:{part:"o",page_filename:parseInt(s.value).toString(16)}};case"link":if(!s.value)return s.value;a=s.value.split("//")[0].toLowerCase();let e=s.value,t="";return-1!=e.indexOf("#")&&(l=e.indexOf("#"),t=e.substr(l),e=e.substr(0,l)),o&&-1==e.indexOf("taplink.")&&(o=!1),e+(-1!=["http:","https:"].indexOf(a)&&o&&_.size(this.postfix)?(-1!=e.indexOf("?")?"&":"?")+$mx.param(this.postfix):"")+t;default:var l;return 1==s.type.split("/")[0].length?(l=s.type.split("/"),a=(_.isObject(s.value)?s.value:s).value,1==l.length?{name:"part",params:{part:s.type,page_filename:parseInt(a).toString(16)}}:{name:"param",params:{part:l[0],page_filename:l[1],param_id:a}}):s.value}}}})}}),Vue.prototype.$lazy=Vue.observable({items:[],cache:{},fetch(e){return e.length&&(this.items=this.items.concat(e),this.fetchAll()),this.getCache(e)},getCache(e){return __.map(e,e=>this.cache[e]||e)},fetchAll:__.debounce(function(){var e=this.items,t=__.map(this.cache,(e,t)=>parseInt(t)),e=__.difference(e,t);let i=()=>{$events.fire("digitalsupdated",this.cache)};e.length?Vue.prototype.$api.get("addon/resolve",{params:{ids:e.join(","),request:"items",addon:"digitals"}}).then(e=>{"success"==e.result&&e.response.items&&(this.cache=__.merge(this.cache,e.response.items),i())}):i(),this.items=[]},350)}),Vue.prototype.$auth=Vue.observable({inited:!1,initing:!1,user:null,loadData(t=document.location.host,e=!1){(this.initing||this.inited)&&!e||(this.initing=!0,$mx.request({url:"//"+t+"/api/auth/current.json",method:"get",mode:"cors",credentials:"include"}).then(e=>{e=e.data;e.user||"my.taplink.cc"==e.host?(this.init(e.user),e.user&&e.host!=document.location.host&&(Vue.prototype.$api.purgeCache(),$events.fire("reload",{token:e.user.email,hs:e.user.hs}))):"taplink.cc"!=t.substring(t.lastIndexOf(".",t.lastIndexOf(".")-1)+1)?this.loadData("my.taplink.cc",!0):this.clear()}).catch(e=>{this.clear()}))},init(e){this.initing=!1,this.inited=!!e,Vue.prototype.$set(this,"user",e),$events.fire("userauth",e),$events.fire("contentupdated")},clear(){this.init(null)},logout(){Vue.prototype.$api.get("auth/logout").then(e=>{"success"==e.result&&(Vue.prototype.$auth.clear(),Vue.prototype.$api.purgeCache(),$events.fire("reload"))})},isAllowTariff(e){var t=["basic","plus","pro","business"];return t.indexOf(Vue.prototype.$account.tariff_current)>=t.indexOf(e)}}),Vue.prototype.$modal=(s,o,r,a={})=>new Promise((n,e)=>{$app.loadComponent(s).then(()=>{var e=window.$vue.$options.components["mx-modal"];let t=new(Vue.extend(e))({propsData:Object.assign({},a,{programmatic:!0,component:s,hasModalCard:!0,width:"auto",parent:r,props:o})});e=document.createElement("div");t.$mount(e);let i=()=>{t.close()};t.$on("close",()=>{$events.off("beforeNavigate",i)}),$events.on("beforeNavigate",i),n(t)})}),Vue.prototype.$api={cacheStorage:{},cacheKeyFunc:null,purgeCache(){this.cacheStorage={}},get(e,t){return this.request(e,"get",t)},post(e,t){return this.request(e,"post",t)},request(r,a,l){return new Promise((s,o)=>{let e=null;return"get"==a&&null!=this.cacheKeyFunc&&(e=this.cacheKeyFunc(r,l),null!=this.cacheStorage[e])?s(_.clone(this.cacheStorage[e])):((l=l||{}).params=l.params||{},Vue.prototype.$account.access_token&&(l.params.access_token=Vue.prototype.$account.access_token),$mx.request({method:a,url:(window.account.custom_domain?"":"/"+(Vue.prototype.$account.nickname||"id:"+Vue.prototype.$account.profile_id))+"/api/"+r+".json",json:l.params}).then(n=>{if(null!=n.data.redirect)-1!=n.data.redirect.indexOf("//")?window.top.location=n.data.redirect:router.replace(n.data.redirect);else if(null!=n.data.code)switch(n.data.code){case"access_control":Vue.prototype.$modal("vue-frontend-password-form",{profile_id:n.data.profile_id,page_id:n.data.page_id},null,{canCancel:["button"]}).then(e=>{e.$on("result",e=>{this.request(r,a,__.merge(l,{params:{access_password:e}},!0)).then(s).catch(o)})});break;case"captcha":Vue.prototype.$modal("vue-frontend-captcha-form",{hash:n.data.hash}).then(e=>{let t=!1;e.$on("close",()=>{t?this.request(r,a,l).then(s).catch(o):s(n.data)}),e.$on("reload",()=>{t=!0})});break;case"need_auth":var t=l.params.fields;let e="";for(i=0;i<l.params.fields.length;i++)6==t[i].type&&(e=t[i].value);Vue.prototype.$modal("vue-frontend-auth-form",{login:e,withClose:!0}).then(e=>{let t=!1;e.$on("close",()=>{t?this.request(r,a,l).then(s).catch(o):s(n.data)}),e.$on("reload",()=>{t=!0})});break;default:n.data.response.access_token&&(Vue.prototype.$account.access_token=n.data.response.access_token),s(n.data)}else e&&null!=n.data.cache_ttl&&n.data.cache_ttl&&(this.cacheStorage[e]=_.clone(n.data)),s(n.data)}).catch(e=>{s({result:"fail",message:e.status})}))})}},document.addEventListener("DOMContentLoaded",function(){null==window.$vue&&null!=window.account&&(window.prepareAccount=function(e){return e.currency=Object.assign(_.clone(e.number),e.currency),e.weight=Object.assign(_.clone(e.number),e.weight),e.theme=StylesFactory.checkStyles(e.theme),e.styles=buildStyles(e.theme,e.storage_domain,"page"),e},Vue.prototype.$account=Vue.observable(prepareAccount(window.account),{history:0}),App.defineModuleComplete(),window.$vue=new Vue(window.vue_options).$mount(document.querySelector(".page")),i18n.init(window.account.locale),_.each(window.account.locales,(e,t)=>{$mx.lazy("locales."+t+"."+e+".js")}),null==window.account.locales.pages&&(i18n.inited=!0),$mx("#loading-global").remove())},{once:!0}),Vue.prototype.$actionbar=Vue.observable({info:{basket:{products:{},amount:0}},list:[],buttons:{},prepared:[{name:"basket",icon:"is-basket-icon",visible:!1,shrink:!0,hits:0,link:{name:"part.index",params:{part:"b"}},title:"Корзина",buttonClass:"is-default",iconClass:"is-basket-icon"}],setButtons(t){let n=[];for(i=0;i<t.length;i++)__.isString(t[i])&&n.push(t[i]);__.each(__.clone(this.prepared),e=>{t.push(__.merge(e,{title:Vue.prototype.$gettext(e.title),hits:this.info.basket.amount,visible:0<this.info.basket.amount||-1!=n.indexOf(e.name)}))}),this.list=[];var e,s=[[],[],[]],o=[0,0,0];let r=!(this.buttons={});for(i=0;i<t.length;i++)__.isString(t[i])||((e=Object.assign({name:i,visible:!0,shrink:!1,loading:!1,autoLoading:null==t[i].loading},t[i])).shrink||(r=r||!0),e.link&&!this.allowLink(e)&&(e.visible=!1),s[e.shrink?r?2:0:1].push(e),e.visible&&o[e.shrink?r?2:0:1]++);for(o[1]&&o[0]!=o[2]&&s[o[2]<o[0]?2:0].push({empty:!0,shrink:!0,visible:!0}),t=__.flatten(s),i=0;i<t.length;i++){var a=t[i];a.divClass=a.shrink?"col-xs col-xs-shrink col-sm-3":"col-xs col-sm-6"+(a.shrink_mobile?" col-xs-shrink":""),a.shrink&&(1<t.length?a.title="":a.divClass="col-xs-12 col-sm-8 col-md-6"),a.empty&&(a.divClass+=" is-hidden-mobile"),a.visible&&this.list.push(a.name),Vue.prototype.$set(this.buttons,a.name,a)}},allowLink(e){var t;return!!router&&(t=router.currentRoute,e.link&&!(t.name==e.link.name&&t.params.part==e.link.params.part)||!e.link)},init(){let t=Cookies.get("cart");if(this.info.basket.amount=0,t){t=t.split(".");for(let e=0;e<t.length;e+=2){var i=parseInt(t[e+1]);this.info.basket.products[t[e]]=i,this.info.basket.amount+=i}}this.clear()},clear(){this.setButtons([])},pack(){let i=[],n=0;_.each(this.info.basket.products,(e,t)=>{i.push(t),i.push(e),n+=e}),this.info.basket.amount=n;var e=Object.assign(window.account.custom_domain?{domain:"."+window.account.custom_domain,path:"/"}:{domain:".taplink.cc",path:"/"+Vue.prototype.$account.nickname},"http:"==window.location.protocol?{sameSite:"Lax"}:{sameSite:"None",secure:!0},{expires:365});Cookies.set("cart",i.join("."),e)},addToCart(e,t){return null==this.info.basket.products[e]&&(this.info.basket.products[e]=0),this.info.basket.products[e]+=t,this.info.basket.amount+=t,this.buttons.basket.hits+=t,Vue.prototype.$api.post("market/checkout/addtocart",{params:{id:e,quantity:t}})}}),Vue.prototype.$actionbar.init(),window.$app.defineComponent("frontend","vue-frontend-actionbar",{data(){return{isAllowStart:null,isAllowEnd:null}},created(){this.updateAllows(this.isAllow)},watch:{isAllow:_.debounce(function(e){this.updateAllows(e)},350)},computed:{disabled(){return null!=this.$account.readonly&&this.$account.readonly},buttons(){return __.map(this.$actionbar.list,e=>this.$actionbar.buttons[e])},isAllow(){return 0<this.$actionbar.list.length}},methods:{updateAllows(e){null==this.isAllowStart?this.isAllowStart=this.isAllowEnd=e:e?(this.isAllowStart=e,setTimeout(()=>{this.isAllowEnd=e},300)):(this.isAllowEnd=e,setTimeout(()=>{this.isAllowStart=e},300)),$mx("html").toggleClass("has-actionbar",e)},click(e){e.autoLoading&&(e.loading=!0),e.click?e.click():this.$router.push(e.link)}},template:`<div> <div class="action-panel-container" :class="{in: isAllowEnd}" v-if="isAllowStart"> <div class="action-panel"> <div class="page-container"> <div class="row row-small" v-if="$actionbar.list.length"> <div v-for="b in buttons" :class="b.divClass"> <button v-if="!b.empty" @click="click(b)" class="button is-medium is-panel-button is-fullwidth" :class="[b.buttonClass, {disabled: b.disabled || disabled, 'is-loading': b.loading}]"><span :class="[b.iconClass, {'with-text': b.title}]" :data-value="b.hits?b.hits:null"><i class="has-mr-1" :class="b.icon" v-if="b.icon"></i><span v-if="b.title" :class="{'is-hidden-mobile': b.icon_hidden_mobile}">{{b.title}}</span></span></button> </div> </div> </div> </div> </div> </div>`}),window.$app.defineComponent("frontend","vue-frontend-addonblock",{props:["block","section","data","options","block_id","account","theme","page_id","page_filename","param_id","part","isEmbeded","mode"],data(){return{componentName:"",loaded:!1}},created(){var e=this.block.block_type_name.split("-");this.componentName="vue-frontend-addons-"+e[0]+"-blocks-"+e[1],$app.loadComponent(this.componentName).then(()=>{this.loaded=!0,this.$emit("blockLoaded")})},template:`<div> <component v-if="loaded" v-bind:is="componentName" :options="options" :data="data" :section="section" :block_id="block_id" :block="block" :account="account" :theme="theme" :page_id="page_id" :page_filename="page_filename" :param_id="param_id" :part="part" @refreshPage="$emit('refreshPage')" @blockLoaded="$emit('blockLoaded')" :isEmbeded="isEmbeded" :mode="mode"/> <div v-else class="addon-block skeleton"></div> </div>`}),window.$app.defineComponent("frontend","vue-frontend-auth-form",{data(){return{isUpdating:!1,isChecked:!1,password:"",code:"",errors:{},state:"login",passwordHidden:!0,message:"",tabsBase:{signup:this.$gettext("Регистрация"),signin:this.$gettext("Авторизация")},hasScroll:!1,tab:"signin"}},props:{login:String,withClose:Boolean,params:Object,hs:String,thumb:String,access:Object},watch:{state(e){this.$refs.email.focus()}},created(){this.tab=this.access?"signup":"signin",this.login&&-1!=this.login.indexOf(";")&&(this.login=this.login.substr(0,this.login.indexOf(";"))),$events.on("userlogout",this.userlogout)},beforeDestroy(){$events.off("userlogout",this.userlogout)},mounted(){let e=document.location.host;"taplink.cc"==(e=e.substring(e.lastIndexOf(".",e.lastIndexOf(".")-1)+1))||null!=this.access&&null!=this.access.user||!this.hs?this.init():$mx.request({url:"//my.taplink.cc/api/auth/cookies.json?hs="+this.hs,method:"get",mode:"cors",credentials:"include"}).then(e=>{e.data.cookie?this.$api.get("auth/session",{params:e.data.cookie}).then(e=>{"success"==e.result?this.reload():this.init()}):this.init()})},computed:{tabs(){let i={};return _.each(this.tabsBase,(e,t)=>{if("signin"===t)if(null!=this.access&&null!=this.access.user)return;i[t]=e}),i},thumbStyle(){return this.thumb?{"background-image":"url(//"+this.$account.storage_domain+"/p/"+this.thumb+")"}:null}},methods:{userlogout(){this.access.user=null},init(){this.isChecked=!0},setTab(e){this.$nextTick(()=>{this.tab=e})},reload(){this.$api.purgeCache(),$events.fire("reload"),this.$parent.close()},updateData(){"signup"==this.tab?this.$refs.accessform.updateData():(this.isUpdating=!0,this.message="",this.errors={},this.login=this.login.toLowerCase(),this.$api.post("auth/"+this.state,{params:Object.assign({},this.params,{login:this.login,password:this.password,lang:this.$account.language_code,state:this.state,code:this.code})}).then(e=>{var t;"success"==e.result?"restore"==this.state?(this.state="code",this.$nextTick(()=>{this.$refs.code.focus()})):e.response.auth&&(this.$auth.init(e.response.user),"taplink.cc"!=(t=document.location.host).substring(t.lastIndexOf(".",t.lastIndexOf(".")-1)+1)?(t=e.response,$mx.request({url:"//my.taplink.cc/api/auth/session.json?auth="+t.auth+"&ts="+t.ts+"&hs="+t.hs,method:"get",mode:"cors",credentials:"include"}).then(this.reload).catch(this.reload)):this.reload()):(e.errors&&(this.errors=e.errors),this.message=e.message),this.isUpdating=!1}))}},template:`<form class="modal-card modal-auth-form user-form is-light" :class="{'with-thumb': thumb, 'hide-thumb': hasScroll, 'with-tabs': access}" @submit.prevent="updateData"> <header class="modal-card-head" :style="thumbStyle" v-if="!access || (thumb && !hasScroll)"> <p class="modal-card-title" v-if="!thumb">{{'Авторизация'|gettext}}<button type="button" class="modal-close is-large" @click="$parent.close()" v-if="withClose"></button></p> </header> <section class="tabs" v-if="access"> <div v-for="(t, k) in tabs" :class="{in: tab== k}" @click="tab = k"><span>{{t}}</span></div> </section> <div class="loading-overlay is-active" v-if="!isChecked"><div class="loading-background"></div><div class="loading-icon"></div></div> <div v-if="tab == 'signin'" class="modal-card-form"> <section class="modal-card-body"> <div> <transition name="fade"> <div class="message is-danger has-text-centered has-mb-5" v-if="message"> <div class="message-body">{{message}}</div> </div> </transition> <div v-if="isChecked"> <div> <div class="row has-mb-1"> <div class="col-xs col-shrink"><label class="label">{{'Электронная почта'|gettext}}</label></div> <div class="col-xs has-text-right" v-if="state == 'login'"><a @click="state = 'restore'">{{'Вход по коду'|gettext}}</a></div> <div class="col-xs has-text-right" v-else><a @click="state = 'login'">{{'Вход по паролю'|gettext}}</a></div> </div> <div :class="{'has-error': errors.login}"> <input type="email" v-model="login" class="input is-large" :disabled="isUpdating || (state == 'code')" ref="email" v-focus> <p class="help" v-if="errors.login">{{errors.login}}</p> </div> </div> <transition name="fade"> <div class="has-mt-4" v-if="state == 'login'"> <label class="label">{{'Пароль'|gettext}}</label> <div class="control has-icons-right is-medium is-clearfix"> <input :type="passwordHidden?'password':'text'" v-model="password" class="input is-large" :disabled="isUpdating" maxlength="40" ref="password"> <span class="icon is-right is-clickable" @click="passwordHidden = !passwordHidden"><i class="fab" :class="passwordHidden?'fa-eye':'fa-eye-slash'"></i></span> </div> </div> <div class="has-mt-4" :class="{'has-error': errors.code}" v-if="state == 'code'"> <label class="label">{{'Код'|gettext}}</label> <vue-frontend-components-verifyfield v-model="code" :disabled="isUpdating || (state == 'restore')" type="number" ref="code"/> <p class="help" v-if="errors.code">{{errors.code}}</p> </div> </transition> </div> <div v-else> <div class="loading-overlay loading-block is-active"> <div class="loading-icon"></div> </div> </div> </div> </section> <section class="modal-card-foot"> <button class="button is-primary is-large is-fullwidth" type="submit" :class="{'is-loading': isUpdating}" :disabled="!isChecked"><span v-if="state == 'restore'">{{'Отправить код'|gettext}}</span><span v-else>{{'Войти'|gettext}}</span></button> </section> </div> <component :is="$app.addonComponent(access.form)" class="modal-card-form" :data="access.data" :user="access.user" ref="accessform" :email.sync="login" :message.sync="message" @setTab="setTab" @reload="reload" v-else/> </form>`}),window.$app.defineComponent("frontend","vue-frontend-blocks-avatar",{props:{index:{type:Number,default:0},mode:{default:"view"},account:Object,data:Object},computed:{style(){return 0==this.index?"":"visibility:hidden"},backLink(){return"view"==this.mode?this.$history.stackBack.length<2?"":this.$history.stackBack[this.$history.stackBack.length-2].path:null},to(){return this.data&&2==this.data.avatar_link_storefront?{name:"part.index",params:{part:"m"}}:{name:"index"}}},methods:{click(){"view"==this.mode&&this.$router.push(this.to)}},template:`<div> <div class="block-avatar block-avatar-history"> <div> <router-link class="fai fa-chevron-left avatar-history is-left has-p-2" style="padding-left:0 !important" :to="backLink" :class="{'is-hide': $history.stackBack.length < 2}" :style="style" v-if="mode == 'view'"></router-link> </div> <component v-bind:is="(mode == 'view')?'a':'div'" @click.prevent="click" :href="$router.resolve(to).href"> <div class="has-text-centered"><img :src="'//{1}{2}'|format(account.storage_domain, account.avatar.url)" :class="'profile-avatar profile-avatar-{1}'|format(account.avatar.size)" :alt="account.username || document.location.host"></div> </component> <div> <i class="fai fa-chevron-right avatar-history has-p-2" style="padding-right:0 !important;visibility:hidden" @click="$router.go(1)" v-if="mode == 'view'"></i> </div> </div> <div class="has-text-centered text-avatar has-mt-1" v-if="!account.avatar.is_hide_text && account.has_nickname">{{account.nickname}}</div> </div>`}),window.$app.defineComponent("frontend","vue-frontend-blocks-banner",{data(){return{index:0,block_page_id:null,defaults:{link:{title:"",type:"link",value:null},p:null,is_link:!1,is_scale:!1,is_stretch:!1,is_marginless:!1,width:""}}},props:{options:Object,block:Object,page_id:Number,mode:{default:"view"}},mixins:[BlockModel],created(){this.block.tariff="pro",this.block_page_id=this.page_id},computed:{classnames(){return{"picture-container-empty":!this.values.p,lazy:this.values.p,skeleton:this.block.skeleton}},style(){var e={"padding-top":(this.values.p?this.values.p.height/this.values.p.width*100:50)+"%",background:"0 0 / 100% no-repeat"};return"view"!=this.mode&&this.values.p&&(e["background-image"]="url("+this.backgroundImage+")"),e},backgroundImage(){var e=this.values.p;return e?"string"==typeof e&&-1!=e.indexOf("://")?e:e.link||"//"+this.$account.storage_domain+"/p/"+e.filename:null},bannerInnerStyle(){var e=this.values;return e.p&&!e.is_stretch?"width:"+(e.is_scale&&e.width?e:e.p).width+"px":""}},methods:{isExternal(e){return-1!=["link","phone","sms","email","vcard",""].indexOf(e.type)},link(e){return this.$links.resolve(e)},click(e){var t,i=this.values;let n=this.$links.resolve(i.link);_.isObject(n)||"#"!=n.substr(0,1)?("anchor"==i.link.type&&((t=i.link.value.split(":"))[0]==this.$page.page_filename?(this.$page.scrollTo(".b-"+t[1]),e.preventDefault()):$scroll.position=".b-"+t[1]),n=_.isObject(n)?this.$router.resolve(n).href:n,window.$events.fire("tap",{page_id:this.block_page_id,block_id:this.block.block_id,stat:this.block.block_id+"."+this.block.stat,data:[{event:"taplink:"+i.link.type,param:n}],addons:null!=this.values.data&&null!=this.values.data.link?this.values.data.link:null}),this.isExternal(i.link)||e.preventDefault()):this.$page.scrollTo(n)}},template:`<div :class="{'has-marginless': values.is_marginless && values.is_stretch}" :key="block.block_id"> <div v-if="values.is_link && (mode != 'edit')"> <a v-if="isExternal(values.link)" :download="(values.link.type == 'vcard')?'contacts.vcf':null" :rel="$page.rel" :target="(values.open_new_window || $account.open_new_window)?'_blank':'_top'" :href='link(values.link)' @click="click"><div class="block-banner-inner" :style="bannerInnerStyle"><div class="picture-container" :class="classnames" :data-src="backgroundImage" :style="style"></div></div></a> <router-link v-else :rel="$page.rel" :to='link(values.link)' @click.native="click"><div class="block-banner-inner" :style="bannerInnerStyle"><div class="picture-container" :class="classnames" :style="style" :data-src="backgroundImage"></div></div></router-link> </div> <div v-else> <div class="block-banner-inner" :style="bannerInnerStyle"><div class="picture-container" :class="classnames" :style="style" :data-src="backgroundImage"></div></div> </div> </div>`}),window.$app.defineComponent("frontend","vue-frontend-blocks-breadcrumbs",{data(){return{}},props:{options:Object,items:Array,active:Number,equalSize:{default:!0},isFetching:Boolean,isHistoryBreadcrumbs:!1},mixins:[BlockModel],computed:{styleColors(){var e=this.options,t=e.colors;return{"--block-breadcrumbs-active-bg":t.bg.active,"--block-breadcrumbs-inactive-bg":t.bg.inactive,"--block-breadcrumbs-active-color":t.text.active||(t.bg.active?isLightColor(t.bg.active)?"#000":"#fff":null),"--block-breadcrumbs-inactive-color":t.text.inactive||(t.bg.inactive?isLightColor(t.bg.inactive)?"#000":"#fff":null),"--block-breadcrumbs-active-color-digs":t.text.active?hexToRgb(t.text.active):null,"--block-breadcrumbs-active-light":t.text.active?isLightColor(t.text.active)?4:1:null,"--block-breadcrumbs-border-width":e.border.width+"px","--block-breadcrumbs-border-color":e.border.color||t.bg.active}},index(){return null==this.active?this.items.length-2:this.active}},methods:{setActive(e){this.active=e,this.$emit("update:active",e)}},template:`<div class="block-breadcrumbs" :class="'is-'+options.size"> <div class="field has-addons" data-toggle="buttons" :style="styleColors"> <div class="control" :class="[f.class, {'is-expanded': equalSize, 'is-active': index>= i}]" :style="{width: equalSize?((100 / items.length)+'%'):null}" v-for="(f, i) in items"><dd v-if="i"></dd><component :is="f.link?(_.isObject(f.link)?'router-link':'a'):'label'" :to="_.isObject(f.link)?f.link:null" :href="_.isObject(f.link)?null:f.link" class="button is-fullwidth" @click="setActive(i)" :class="{'is-disabled': isHistoryBreadcrumbs?(index < i):(index <= i)}"><i :class="{'is-fetching-block': isFetching}">{{f.title}}</i></component></div> </div> </div>`}),window.$app.defineComponent("frontend","vue-frontend-blocks-break",{data(){return{defaults:{break_size:30,icon:0,fullwidth:!1,fading:!1},keyComponent:0}},props:["options"],mixins:[BlockModel],watch:{values(){}},computed:{designStyles(){var e=this.options.design;return e&&e.on?{"--block-break-color":e.color}:null}},methods:{icon(e){var t;return e&&-1!=e?this.$icons.get(e=null!=(t={1:"tabler/circle",2:"tabler/square-rotated",3:"legacy/wave-triangle",4:"legacy/wave-sine",5:"legacy/chevron-double-down",6:"legacy/chevron-down",7:"tabler/star"})[e]?t[e]:e,()=>{this.keyComponent++}):null}},template:`<div class='block-break' :key="keyComponent" :style="designStyles"><div class='block-break-inner' :class="{'has-icon': values.icon, 'is-invisible': values.icon < 0, 'is-fullwidth': values.fullwidth, 'has-fading': values.fading}" :style="{'height': values.break_size + 'px', margin: (values.icon == -1)?'-7px 0':null}"><span v-html="icon(values.icon)"> </span></div>`}),window.$app.defineComponent("frontend","vue-frontend-blocks-collapse",{data(){return{defaults:{fields:[],once:!1,separator:!1,separator_extreme_hide:!0,indicator:{placement:"left",style:"plus"}},collapsed:[]}},props:{options:Object,section:Object,block:Object,theme:Object,mode:{default:"view"}},mixins:[BlockModel],created(){this.prepareCollapsed()},computed:{skeleton(){return this.block&&this.block.skeleton},hasActiveBackground(){return this.options.design&&this.options.design.active&&this.options.design.active.bg&&!isTransparentColor(this.options.design.active.bg)},designStyles(){var e,t,i,n,s,o=this.options.design;return o&&o.on?(n=isLightColor((this.section.bg.color&&!isTransparentColor(this.section.bg.color)?this.section:this.theme).bg.color),e=o.title?o.title.color:null,t=o.indicator&&o.indicator.border?o.indicator.border.color:e,i=this.values.separator&&!o.bg,n=o.bg?"contrast"==o.bg?n?"#00000010":"#ffffff80":ColorsFactory.getBackground(o.bg):null,s=(o.active&&o.active.bg?ColorsFactory.getBackground(o.active.bg):null)||n,0,__.filter(__.merge(o.text&&o.text.size?FontsFactory.getTextStyles(o.text.size,"--block-collapse-text"):null,o.title&&o.title.size?FontsFactory.getTextStyles(o.title.size,"--block-collapse-title"):null,{"--block-collapse-text-color":o.text?o.text.color:null,"--block-collapse-text-font-family":o.text?FontsFactory.getFont(o.text.font):null,"--block-collapse-text-font-weight":o.text?FontsFactory.getWeight(o.text.font,1):null,"--block-collapse-title-color":e,"--block-collapse-title-font-family":o.title?FontsFactory.getFont(o.title.font):null,"--block-collapse-title-font-weight":o.title?FontsFactory.getWeight(o.title.font||(this.section&&this.section.text?this.section.text.font:null)||this.theme.screen.font,o.title.weight||1):null,"--block-collapse-indicator-color":(o.indicator?o.indicator.color:null)||e,"--block-collapse-indicator-background":o.indicator?o.indicator.bg:null,"--block-collapse-indicator-border-color":t||e,"--block-collapse-indicator-border-width":o.indicator&&o.indicator.border&&null!=o.indicator.border.width?o.indicator.border.width+"px":null,"--block-collapse-indicator-width":o.indicator&&null!=o.indicator.width?o.indicator.width+"px":null,"--block-collapse-background":n,"--block-collapse-padding-y":n?"1rem":null,"--block-collapse-padding-x":n||s?"1rem":null,"--block-collapse-separator-size":i?"1px":null,"--block-collapse-margin":i?"1rem":null,"--block-collapse-active-background":s,"--block-collapse-active-title-color":o.active&&o.active.title&&o.active.title.color?o.active.title.color:null,"--block-collapse-active-indicator-color":o.active&&o.active.indicator&&o.active.indicator.color?o.active.indicator.color:null,"--block-collapse-active-indicator-background":o.active&&o.active.indicator&&o.active.indicator.bg?o.active.indicator.bg:null,"--block-collapse-active-indicator-border-color":o.active&&o.active.indicator&&o.active.indicator.border&&o.active.indicator.border.color?o.active.indicator.border.color:null}))):_.filter({"--block-collapse-separator-size":this.values.separator?"1px":null})}},methods:{prepareCollapsed(){this.$set(this,"collapsed",Array(this.values.fields.length).fill(0))},toggle(e){var t=this.collapsed[e];if(this.options.once)for(i=0;i<this.values.fields.length;i++)this.$set(this.collapsed,i,0);this.$set(this.collapsed,e,t?0:$mx(this.$refs.texts[e]).outerHeight()+"px"),this.$parent.$emit("checkHeight"),this.$emit("snooze-click")}},template:`<div class="has-rtl"> <div class="collapse-list" :class="['has-indicator-'+values.indicator.placement, 'has-indicator-'+values.indicator.style, {'has-active-background': hasActiveBackground, 'has-extreme-separator': !values.separator_extreme_hide}]" :style="designStyles"> <div v-for="(f, i) in values.fields" class="collapse-item" :class="{in: collapsed[i]}"> <div class="a" @click="toggle(i)"> <span class="collapse-icon" :class="{skeleton: skeleton}"></span> <span class="collapse-title" v-html="$typography(f.title?f.title:$gettext('Вопрос'), true)" :class="{skeleton: skeleton}"></span> </div> <div class="collapse-text" :style="{maxHeight: collapsed[i]}"><div class="collapse-text-inner" ref="texts" v-html="$parseContacts($typography(f.text, true), (mode == 'view')?'a':'span')"></div></div> </div> </div> </div>`}),window.$app.defineComponent("frontend","vue-frontend-blocks-document",{props:{options:Object,theme:Object,section:Object,mode:{default:"view"}},mixins:[BlockModel],template:`<component :is="(mode == 'view')?'vue-frontend-components-document':'vue-component-document'" v-model="values.body" v-if="values.body"/>`}),window.$app.defineComponent("frontend","vue-frontend-blocks-form",{data(){return{isLoading:!1,defaults:{fields:[],form_text:this.$gettext("Спасибо за вашу заявку"),form_btn:this.$gettext("Отправить"),order_budget:0,order_purpose:"",payment_object_id:1,payment_object_value:null,is_order:0,form_type:"text",paid_status_id:3,paid_change_status:!0,target_id:null,target_value:null}}},props:{options:Object,block:Object,mode:{default:"view"},theme:Object,section:Object,endpoint:{default:"form/push"},fields:{defaults:{}},needUser:Boolean},mixins:[BlockModel],created(){if(this.block.tariff="business","edit"!=this.mode){let e=document.location.search;var t=e.match(/[\?|\&]form=([0-9]+)/);t&&t[1]==this.block.block_id&&(e=e.replace(/[\?|\&]form=[0-9]+/,""),this.openCompleteForm(),this.$router.replace(document.location.pathname+e))}},computed:{stylesheets(){let e={};var t,i=this.theme,n=StylesFactory.getDefaultSection(i,!1);return this.values.design&&this.values.design.on&&this.isAllowDesign?(t=this.values.design,t=__.merge(n.link,this.section?this.section.link:{},t,!0),e=StylesFactory.getLinkSectionVariables(t,i,"--block-link")):e}},methods:{openCompleteForm(){this.$modal("vue-frontend-form-complete-modal",{message:this.values.form_text})},submit(){var e;"view"==this.mode&&null!=(e=this.$refs.elements.getFields())&&(this.isLoading=!0,this.$api.post(this.endpoint,{params:Object.assign({fields:e,block_id:this.block.block_id,ts:this.$account.ts},this.fields)}).then(e=>{"reload"==e.result?(this.isLoading=!1,$events.fire("reload")):"success"==e.result?e.response?($events.fire("lead",{lead_id:e.response.lead_id,addons:null!=this.values.data&&null!=this.values.data.link?this.values.data.link:null}),"https://www.messenger.com/closeWindow/"==e.response.redirect?window.location=e.response.redirect:"#"==e.response.redirect[0]?(this.$refs.elements.reset(),this.isLoading=!1,this.values.form_text=e.response.redirect.substr(1),this.openCompleteForm()):window.self!==window.top?window.open(e.response.redirect):window.location=e.response.redirect):this.isLoading=!1:(this.isLoading=!1,null!=e.message&&this.$modal("vue-frontend-dialog",{title:e.message,type:"danger"}))}))}},template:`<form @submit.prevent="submit" ref="form" :style="stylesheets" :class="'has-form-'+(values.design.style || theme.form.style)"> <vue-frontend-form-elements :fields.sync="values.fields" :isLoading.sync="isLoading" ref="elements" :block_id="block.block_id" :mode="mode" :need-user="values.target_id?true:false || needUser" :form_btn="values.form_btn"/> </form>`}),window.$app.defineComponent("frontend","vue-frontend-blocks-html",{mounted(){this.refresh()},watch:{options(){this.refresh()}},props:["options","block"],created(){this.block&&(this.block.tariff="pro")},methods:{refresh(){this.block&&!this.$auth.isAllowTariff(this.block.tariff)||this.$nextTick(()=>{this.$el.innerHTML="";let e=Firewall.checkHTML(this.options.html);null==window.html_blocks_amount&&(window.html_blocks_amount=0),window.html_blocks_amount++,e=e.replace(/(<script[^>]*>)/g,"$1try {").replace(/(<\/script[^>]*>)/g,"} catch (e) { console.log('ERROR:', e); }$1"),postscribe(this.$el,e,{done(){var e;window.html_blocks_amount--,window.html_blocks_amount||(window.dispatchEvent(new Event("load",{bubbles:!1})),document.dispatchEvent(new Event("DOMContentLoaded",{bubbles:!1})),(e=window.location.hash)&&((o=$mx(e)).length||(o=$mx('[name="'+e.substr(1)+'"]')).length)&&o.scrollIt(300))},error(e){console.log("ERROR:",e)},beforeWrite:Firewall.checkHTML})})}},template:"<div></div>"}),window.$app.defineComponent("frontend","vue-frontend-blocks-link",{data(){return{loading:"",signupShown:0,signupSending:!1,embededPageLoading:!1,embededHeight:null,embededTitleHeight:null,message:"",cookieToc:!1,addonIndex:-1,email:"",embededPageId:null,embededSection:null,fields:null,fields_options:{},keyIcon:0,block_page_id:null,defaults:{title:"",subtitle:"",type:"link",value:null,animation:"",thumb:{t:"n",i:null,p:null}}}},props:{block_id:String,options:Object,block:Object,section:Object,page_id:Number,isEmbeded:Boolean,theme:Object,mode:{default:"view"}},mixins:[BlockModel],created(){switch(this.values.type){case"emailsignup":case"product":case"market":case"collection":case"page":case"embeded":this.block.tariff="business"}this.block_page_id=this.page_id},computed:{withoutThumb(){return null==this.values.thumb||"n"==this.values.thumb.t},classname(){var e=null==this.values.animation||!this.values.animation||this.embededPageId||this.block.skeleton?"":"has-animation has-animation-"+this.values.animation;return["button btn-link btn-link-styled",{"is-embeded-page":"embeded"==this.values.type,"is-close":this.$page.page_filename==this.values.value&&"edit"!=this.mode,"is-already-embeded":this.isEmbeded,"is-opened":"embeded"==this.values.type&&this.embededPageId,"without-thumb":this.withoutThumb,"with-thumb":!this.withoutThumb,"is-loading":this.loading==this.block.stat||this.embededPageLoading},e]},stylesheets(){var t=this.theme,i=StylesFactory.getDefaultSection(t,!1);let n={};let s={};if(this.values.design&&this.values.design.on&&this.isAllowDesign&&(s=this.values.design),s=__.merge(i.link,this.section?this.section.link:{},s,!0),this.embededPageId){let e=this.embededSection;var i=(null!=(e=e&&StylesFactory.restoreSection(e,t,i))&&null!=e.text?e.text:null!=e&&null!=e.link?e.link:t.screen).color,o=(null!=e&&null!=e.text?e.text:null!=e&&null!=e.link?e.link.subtitle:t.screen).color,r=null!=e&&null!=e.bg&&null!=e.bg.color?e.bg.color:null;n=__.filter({"--block-link-background":r?ColorsFactory.getBackground(r,null):"none","--block-link-title-color":i,"--block-link-subtitle-color":o,"--block-link-border-width":__.isNotNull(s.border.width)?s.border.width+"px":null,"--block-link-border-color":s.border.color||null})}else if(this.values.design&&this.values.design.on&&this.isAllowDesign)return n=StylesFactory.getLinkSectionVariables(s,t,"--block-link");return __.filter(n)},title(){return this.values.title||this.values.link},isExternal(){return"edit"==this.mode||-1!=["link","phone","email","sms","vcard"].indexOf(this.values.type)||_.isObject(this.values.value)},isAnchor(){return"link"==this.values.type&&"#"==this.link.substr(0,1)},link(){if("view"!=this.mode)return null;let e=this.$links.resolve(this.values);return e=_.isObject(e)&&this.isExternal?this.$router.resolve(e).href:e}},methods:{innerButton(){let e="";var t=this.block.skeleton?" skeleton":"",i=this.thumb();return i&&(e+='<figure role="none" class="thumb">'+i+"</figure>"),e+='<div><div class="btn-link-title'+t+'">'+this.$typography(this.title,!0)+"</div>",this.values.subtitle&&(e+='<div class="btn-link-subtitle'+t+'">'+this.$typography(this.values.subtitle,!0)+"</div>"),e+="</div>"},thumb(){return null==this.values.thumb?null:this.$icons.prepare(this.values.thumb,()=>{this.keyIcon++})},signupSend(){"edit"!=this.mode&&(this.signupSending=!0,this.$api.post("form/push",{params:{fields:[{type:6,value:this.email,idx:1}],block_id:this.block_id,ts:this.$account.ts}}).then(e=>{"success"==e.result&&(window.$events.fire("lead",{lead_id:e.response.lead_id,addons:null!=this.values.data&&null!=this.values.data.link?this.values.data.link:null}),this.hideEmailSingnup(),"https://www.messenger.com/closeWindow/"==e.response.redirect?window.location=e.response.redirect:"#"==e.response.redirect[0]?(this.message=e.response.redirect.substr(1),this.$modal("vue-frontend-form-complete-modal",{message:this.message}),this.email=""):window.top.location=e.response.redirect,"#"!=e.response.redirect[0])&&(this.loading=this.block.stat,this.stat(),setTimeout(()=>{this.loading=""},2e3)),this.signupSending=!1}))},hideEmailSingnup(){if(this.signupShown=0,-1!=this.addonIndex){let e=this.addonIndex;this.$account.widgets[e].data.isClosed=!0,setTimeout(()=>{this.$account.widgets.splice(e,1)},250),this.addonIndex=-1}$mx("body").off("click",this.hideEmailSignup)},hideEmailSignup(e){$mx(this.$refs.form).has(e.target).length||$mx(".footer-banner").has(e.target).length||$mx(".modal").has(e.target).length||this.hideEmailSingnup()},hideEmbeded(){this.embededHeight=null,$mx(window).off("resize",this.checkEmbededHeight),this.embededPageId!=this.values.value&&(this.fields=null),setTimeout(()=>{this.embededPageId=null,$events.fire("contentupdated")},250)},checkEmbededHeight(){this.$refs.embeded&&(this.embededHeight=$mx(this.$refs.embeded.$el).outerHeight())},fetchEmbededPage(t){if(this.$page.page_filename==t)return this.hideEmbeded();this.embededPageLoading=!0,this.$api.get("page/get",{params:{part:this.part,page_id:t}}).then(e=>{null!=e.redirect?this.$router.replace(e.redirect):(this.fields=e.response.fields,this.embededSection=this.fields&&_.size(this.fields)&&this.fields[0].section?this.fields[0].section:null,this.fields=_.filter(_.map(this.fields,e=>(e.items=_.filter(_.map(e.items,e=>"avatar"==e.block_type_name?null:e)),e.items.length?e:null))),this.fields_options=e.response.options,$events.fire("pageview",{page_id:e.response.page_id,profile_id:this.$account.profile_id}),$events.fire("contentupdated"),this.checkHeight(),$mx(window).on("resize",this.checkEmbededHeight),this.embededPageId=t,this.$account.embeded=this),this.embededPageLoading=!1})},checkHeight(){_.each([150,500,700],e=>setTimeout(this.checkEmbededHeight,e))},stat(e=null){$events.fire("tap",{page_id:this.block_page_id,block_id:this.block_id,stat:this.block_id+"."+this.block.stat,data:[e],addons:null!=this.values.data&&null!=this.values.data.link?this.values.data.link:null})},click(e){var t,i;if("edit"!=this.mode)if("embeded"==this.values.type)if(this.embededPageId)this.hideEmbeded();else{if(this.isEmbeded)return this.$account.embeded.fetchEmbededPage(this.values.value);this.embededTitleHeight=$mx(this.$el).outerHeight(),this.fields?(this.embededPageId=this.values.value,setTimeout(this.checkEmbededHeight,150),$mx(window).on("resize",this.checkEmbededHeight)):(this.fetchEmbededPage(this.values.value),this.stat())}else"emailsignup"==this.values.type?(this.signupSending=!0,this.signupShown=1,this.signupSending=!1,setTimeout(()=>{this.signupShown=2,setTimeout(()=>{this.$refs.input.focus(),$mx("body").on("click",this.hideEmailSignup),this.values.value.agreement&&(this.$account.widgets.push({name:"agreement-banner",data:{message:this.values.value.agreement,isClosed:!0}}),this.addonIndex=this.$account.widgets.length-1,setTimeout(()=>{this.$account.widgets[this.addonIndex].data.isClosed=!1},150))},100)},250)):_.isObject(this.values.value)&&null!=this.values.value.component?(e.preventDefault(),$events.fire("component:show",this.values.value.component)):(t=_.isObject(this.link)?this.$router.resolve(this.link).href:this.link,this.stat({event:"taplink:"+this.values.type,param:t}),"anchor"==this.values.type?(i=this.values.value.split(":"))[0]==this.$page.page_filename?(this.$page.scrollTo(".b-"+i[1]),e.preventDefault()):$scroll.position=".b-"+i[1]:this.isAnchor?(this.$page.scrollTo(t),e.preventDefault()):(this.loading=this.block.stat,this.isExternal||e.preventDefault(),setTimeout(()=>{this.loading=""},2e3)))}},template:`<div :class="'is-'+$account.locale.direction"> <div v-if="values.type == 'emailsignup'" :style="stylesheets"> <transition name="fade" mode="out-in" :duration="100"> <form ref="form" v-if="signupShown" @submit.prevent="signupSend" class="email-signup" :class="classname"><input type="email" v-model="email" class="input" required ref="input" :disabled="signupSending" placeholder="example@domain.com"><button class="button" :class="{'is-loading': signupSending, in: signupShown== 2}" type="submit">{{'Отправить'|gettext}}</button></form> <component :is="(mode == 'view')?'a':'div'" v-else :class="classname" @click="click" v-html="innerButton()" :key="keyIcon" :aria-label="title"></component> </transition> </div> <div v-else-if="values.type == 'embeded'" :style="stylesheets"> <component :is="(mode == 'view')?'a':'div'" :class="classname" @click="click" v-html="innerButton()" :key="keyIcon" :aria-label="title"/> <div class="is-embeded-content main-theme" v-if="embededPageId" :style="StylesFactory.getSectionCommonVariables(StylesFactory.getDefaultSection($account.theme), $account.theme)"> <div :style="{height: this.embededHeight?(this.embededHeight+'px !important'):null}"><vue-frontend-page-blocks :fields="fields" :page_id="values.value" part="p" :is-embeded="true" v-if="fields" ref="embeded" @checkHeight="checkHeight"/></div> </div> </div> <component :is="(mode == 'view')?'a':'div'" :download="(values.type == 'vcard')?'contacts.vcf':null" v-else-if="isExternal" :rel="$page.rel" :data-link="link" :href='link' :class="classname" @click="click" :style="stylesheets" v-html="innerButton()" :key="keyIcon" :target="(values.open_new_window || $account.open_new_window)?'_blank':'_top'" :aria-label="title"/> <router-link v-else :rel="$page.rel" :to='link' :class="classname" @click.native="click" :style="stylesheets" v-html="innerButton()" :key="keyIcon" :aria-label="title"/> </div>`}),window.$app.defineComponent("frontend","vue-frontend-blocks-map",{data(){return{map:null,icon:null,loading:null,markers:[],defaults:{bounds:{},markers:[],show_buttons:!0,is_fixed:!0,show_types:!1,show_zoom:!1,show_street:!1,style:"b"}}},props:{options:Object,block:Object,page_id:Number,mode:{default:"view"},theme:Object,section:Object},mixins:[BlockModel],mounted(){this.rebuild()},created(){this.block.tariff="basic"},watch:{values(){this.refresh()},"values.style":{handler(){this.rebuild()}}},computed:{skeleton(){return this.block&&this.block.skeleton},stylesheets(){let e={};var t,i=this.theme,n=StylesFactory.getDefaultSection(i,!1);return this.values.design&&this.values.design.on&&this.isAllowDesign?(t=this.values.design,t=__.merge(n.link,this.section?this.section.link:{},t,!0),e=StylesFactory.getLinkSectionVariables(t,i,"--block-link")):e},isSupportWebp(){var e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))&&0==e.toDataURL("image/webp").indexOf("data:image/webp")}},methods:{click(e,t){"edit"!=this.mode&&(this.loading=t,window.$events.fire("tap",{page_id:this.page_id,block_id:this.block.block_id,slot:t,stat:this.block.block_id+"."+this.block.stat[t],data:[{event:"taplink:map",param:e.lat+":"+e.lng}]}),window.top.location=this.link(e),setTimeout(()=>{this.loading=null},2e3))},rebuild(){$mx.lazy("map.js","map.css",()=>{var e=this.values.bounds,t=this.values.is_fixed;this.$refs.map&&(this.map&&this.map.remove(),this.map=L.map(this.$refs.map,{dragging:!t,doubleClickZoom:!t,boxZoom:!t,touchZoom:!t,scrollWheelZoom:!t,zoomControl:!0,attributionControl:!1}).setView([e.center.lat,e.center.lng],this.values.zoom),e.bounds&&this.map.fitBounds(e.bounds),L.control.attribution({prefix:""}).addTo(this.map),t=1<window.devicePixelRatio?"@2x":"",L.tileLayer("https://m.taplink.st/"+this.values.style+"/{z}/{x}/{y}"+t+"."+(this.isSupportWebp?"webp":"png"),{attribution:"view"==this.mode?'<a href="https://taplink.'+(1==this.$account.language_id?"ru":"at")+'" target="_blank">Taplink</a> <span style="color:#ccc">|</span> <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a>':"",crossOrigin:!0}).addTo(this.map),this.icon=L.icon({iconUrl:"/s/i/marker.png",iconSize:[28,37],popupAnchor:[0,-10],shadowUrl:"/s/i/marker-shadow.png",shadowSize:[40,50],shadowAnchor:[12,31]}),this.fillMarkers())})},refresh(){var e;this.map&&(e=this.values.bounds,this.map.fitBounds(e.bounds),this.fillMarkers(),this.map.options.zoomControl=!0)},fillMarkers(){for(var e=0;e<this.markers.length;e++)this.map.removeLayer(this.markers[e]);_.each(this.values.markers,e=>{var t=L.marker([parseFloat(e.lat),parseFloat(e.lng)],{icon:this.icon}).addTo(this.map);(e.title||e.text)&&t.bindPopup("<b>"+e.title+"</b>"+(e.text?"<div>"+e.text.toString().replace(/\n/g,"<br>")+"</div>":"")),this.markers.push(t)})},link(e){return"https://maps.google.com/?q="+e.lat+","+e.lng+"&z="+this.values.bounds.zoom}},template:`<div> <div class="map-container btn-link-block"> <div class="map-view" ref="map" :class="{'map-view-with-zoom-control': values.show_zoom}"></div> </div> <component v-bind:is="(mode == 'view')?'a':'div'" v-if="values.show_buttons" v-for="(m, i) in values.markers" :href='link(m)' @click.prevent="click(m,i)" target="_top" class="btn-link btn-link-block btn-map btn-link-styled" :class="{'is-loading': loading== i}" :style="stylesheets"> <i class="fa fai fa-map-marker-alt"></i><span class="btn-link-title" :class="{skeleton: skeleton}">{{m.title|nvl($gettext('Построить маршрут'))}}</span> </component> </div>`}),window.$app.defineComponent("frontend","vue-frontend-blocks-media",{data(){return{lazyHit:!1,values:{},keyComponent:0,defaults:{fields:[],styles:{shape:"square",style:"none",size:48,color:"",col:{xs:1},align:"rtl"==this.$account.locale.direction?"r":"l",cols:1,spacing:1,centered:1,bg:null}}}},props:{options:Object,section:Object,block:Object,theme:Object,mode:{default:"view"}},mixins:[BlockModel],computed:{skeleton(){return this.block&&this.block.skeleton},hasSeamlessBg(){var e=this.values.styles;return!e.spacing&&e.bg},stylesheets(){var e=this.values.styles,t="--block-media-",i=(this.section.bg.color&&!isTransparentColor(this.section.bg.color)?this.section:this.theme).bg.color,n=isLightColor(i),n=e.bg?"contrast"==e.bg?n?"#00000010":"#ffffff80":ColorsFactory.getBackground(e.bg):null,s=__.filter({"--block-media-card-spacing":e.spacing*(n?.25:1)+"rem","--block-media-icon-size":e.size+"px","--block-media-icon-border":"2px","--block-media-background":n,"--block-media-card-padding":n?"15px":null,"--block-media-cols-mobile":this.values.styles.col.xs,"--block-media-cols-desktop":this.values.styles.cols}),o=this.options.design||{},n=n?isLightColor([n,i])?"#000":"#fff":null,i=o.text&&o.text.color?o.text.color:n,n=o.heading&&o.heading.color?o.heading.color:n;return Object.assign(s,o.text&&o.text.size?FontsFactory.getTextStyles(o.text.size,t+"text"):{},o.heading&&o.heading.size?FontsFactory.getTextStyles(o.heading.size,t+"heading"):{},__.filter({"--block-media-text-color":i,"--block-media-heading-color":n,"--block-media-icon-color":e.color||i,"--block-media-text-font-family":o.text?FontsFactory.getFont(o.text.font):null,"--block-media-text-font-weight":o.text?FontsFactory.getWeight(o.text.font,1):null,"--block-media-heading-font-weight":o.heading?FontsFactory.getWeight(o.heading.font||this.section.heading.font||this.theme.heading.font,o.heading.weight||this.section.heading.weight||this.theme.heading.weight):null,"--block-media-heading-font-family":o.heading?FontsFactory.getFont(o.heading.font):null})),s},isIcons(){return 0==_.sum(_.map(this.values.fields,e=>(e.title||"").length+(e.text||"").length))},hasCentered(){return"c"==this.values.styles.align&&this.values.styles.centered}},methods:{lazy(){this.lazyHit=!0},parse(e,t){var i="view"==this.mode?"a":"contact";return this.$parseContacts(this.$typography(e,t),i)},icon(e){return this.lazyHit?this.$icons.get(e.thumb.i,()=>{this.keyComponent++}):null}},template:`<div> <ul class="block-media-content" :style="stylesheets" :key="keyComponent" :class="['is-align-'+values.styles.align, isIcons?'is-icons':'is-boxes', {'has-seamless-bg': hasSeamlessBg}]"> <li v-for="f in values.fields" :style="values.styles.color?{'--theme-text-color-contrast': (lightOrDark(values.styles.color) == 'light')?'#000':'#fff'}:null"> <div class="media"> <div v-if="f.thumb && f.thumb.t != 'n'" :class="'is-'+values.styles.shape+' is-'+values.styles.style"> <span :data-src="(f.thumb.t == 'p' && f.thumb.p)?('//'+$account.storage_domain+'/p/'+f.thumb.p.filename):null" :class="{'is-icon': f.thumb.t == 'i', 'is-image lazy': f.thumb.t == 'p', 'lazy-force': mode== 'edit', 'is-locked': f.thumb.p && ($account.tariff_current == 'basic'), skeleton: skeleton}"> <figure v-if="f.thumb.t == 'i'" v-html="icon(f)" class="lazy" :class="{'lazy-force': mode== 'edit'}" @lazy-hit="lazy"></figure> <figure v-if="f.thumb.t == 'p'"></figure> </span> </div> <div> <div v-if="f.title" class="has-rtl is-heading" :class="{'has-text-centered': hasCentered, skeleton: skeleton}" v-html="parse(f.title, true)"/> <div v-if="f.text" class="has-rtl is-text" :class="{'has-text-centered': hasCentered, skeleton: skeleton}" v-html="parse(f.text, true)"/> </div> </div> </li> </ul> </div>`}),window.$app.defineComponent("frontend","vue-frontend-blocks-menu-item",{data(){return{active:!1,keyIcon:0}},props:["value","mode","anchor","hasIcons","showIcons"],created(){$events.on("contentupdated",this.checkActive),this.checkActive()},beforeDestroyed(){$events.off("contentupdated",this.checkActive)},computed:{thumb(){return this.keyIcon,null==this.value.thumb?null:this.$icons.prepare(this.value.thumb,()=>{this.keyIcon++})},showThumb(){return(this.value.thumb||this.hasIcons)&&this.showIcons},isExternal(){return"view"!=this.mode||-1!=["link","phone","email","sms","vcard"].indexOf(this.value.type||"link")},isAnchor(){return"view"==this.mode&&"link"==(this.value.type||"link")&&"#"==this.link.substr(0,1)},link(){return"view"==this.mode?this.$links.resolve(this.value):null}},watch:{anchor(){this.checkActive()}},methods:{checkActive(){var e;"view"!=this.mode||this.isExternal||(e=this.$router.resolve(this.link).href==this.$router.currentRoute.path,this.active="anchor"==this.value.type?e&&this.value.value==(this.anchor||this.$page.page_filename+":"):e&&!this.anchor)},click(e){var t;"view"!=this.mode&&(e.preventDefault(),this.$emit("click")),"page"!=this.value.type||this.value.value!=this.$page.page_filename&&(this.$page.page_id!=this.$account.main_page_id||this.value.value)?"anchor"==this.value.type?(t=this.value.value.split(":"))[0]==this.$page.page_filename?($page.scrollTo(".b-"+t[1]),e.preventDefault()):$scroll.position=".b-"+t[1]:this.isAnchor&&(this.$page.scrollTo(this.link.substr(1)),e.preventDefault()):($page.scrollTo(),e.preventDefault())}},template:`<div class="menu-block-item" :class="{in: active}"> <a v-if="isExternal" :download="(value.type == 'vcard' && mode== 'view')?'contacts.vcf':null" rel="noopener" :href='link' @click="click" target="_blank" tabindex="0"><figure class="thumb" v-if="showThumb" v-html="thumb" :class="{'has-title': value.title}" role="none"></figure><span v-if="value.title">{{value.title}}</span></a> <router-link v-else rel="noopener" :to='link' @click.native.prevent="click" tabindex="0"><figure class="thumb" v-if="showThumb" v-html="thumb" :class="{'has-title': value.title}" role="none"></figure><span v-if="value.title">{{value.title}}</span></router-link> </div>`}),window.$app.defineComponent("frontend","vue-frontend-blocks-menu",{data(){return{current:null,index:0,offset:null,keyIndex:0,visible:!0,menuOpened:!1,anchorsInited:!1,scrollInited:!1,anchor:null,keyComponent:0,circle:{},defaults:{items:[],width:"fullscreen",fixed:!0,placement:"top",align:"centered",logo:{type:"none",p:null,text:{title:"",bg:null,color:null,font:null,transform:"n",weight:1,textsize:20,letterspacing:0}},burger:{rule:"mobile",shrink:!1,duration:200,view:"circle",align:"center",button:"b",spacing:20,font:null,transform:"u",textsize:20,letterspacing:0,weight:1,font_size:"lg",colors:{bg:"#343a40fa",text:null,close:null}},design:{style:"button",border:{size:1,color:null},shadow:{x:0,y:0,b:0,s:0,color:"#000000",o:20},font:null,transform:"n",textsize:17,letterspacing:0,weight:1,colors:{bg:null,text:null,active:null,active_text:null}}}}},props:{value:Object,mode:{default:"view"},withScroll:{default:!0},visible:{default:!0},menuOpenedDefault:Boolean,rootSelector:{default:"html"},circleSelector:String,closeOutside:{default:!0}},watch:{menuOpened(e,t){var i;this.closeOutside&&(i=$mx(document.body),e?i.on("click",this.menuClick):i.off("click",this.menuClick)),this.root.toggleClass("is-menu-opened",e).addClass("is-menu-opened-once")},value:{handler(e,t){this.toggleDocumentClasses(!1),this.toggleDocumentClasses(!0),this.updateHTMLClasses(!0),this.checkGUI(!1),_.size(_.differenceWith(e.logo,t.logo))&&(this.visible=!1,this.recheckOffset())},deep:!0},shrink(){this.setMenuView()},anchors(){this.checkScrollAnchors()},anchor(){this.checkGUI(!0)}},computed:{userIconsClass(){return"center"!=this.o.burger.align||this.o.burger.shrink?"":this.shrink?"is-hidden-mobile":"is-hidden"},isMenuVisible(){return _.size(this.o.items)||"none"!=this.o.logo.type},vbar(){return this.withScroll?"vue-"+("view"==this.mode?"frontend":"component")+"-vbar":"div"},classContainer(){var e=this.$page.max_width;return"view"==this.mode?"max-page-container-"+("widget"==this.o.placement?"fullscreen":"fullwidth"==this.o.width?e:this.o.width):""},circleStyles(){return"circle"!=this.o.burger.view||this.shrink?null:this.circle},shrink(){return this.o.burger.shrink||this.hasUser&&"all"!=this.o.burger.rule&&this.$device.desktop},anchors(){this.keyIndex;let i=[];return"view"==this.mode&&_.each(this.o.items,e=>{var t;"anchor"==e.type&&(t=e.value.split(":"))[0]==this.$page.page_filename&&i.push({y:t[1]?$mx(".b-"+t[1]).offset().top:0,v:e.value})}),i=i.length?_.sortBy(i,"y"):i},o(){var e=_.merge(this.defaults,this.value,!0);switch(e.placement){case"widget":e.burger.rule="all";break;case"bottom":e.burger.rule="none",e.logo.type="none",e.fixed=!0}var t=_.sum(_.filter(e.items,e=>"anchor"==e.type));if(!this.anchorsInited&&t&&"view"==this.mode){$scroll.body.on("scroll touchmove",this.checkScrollAnchors);let i=_.uniq(_.filter(_.map(e.items,e=>"anchor"==e.type?e.value.split(":")[0]:null)));i.length&&_.each(e.items,e=>{var t=e.value||this.$account.main_page_id.toString(16);"page"==e.type&&-1!=i.indexOf(t)&&(e.type="anchor",e.value=t+":")}),this.anchorsInited=!0,this.checkScrollAnchors()}return this.scrollInited||"circle"!=e.burger.view||($mx(window).on("resize",this.checkWindowSize),this.checkWindowSize()),e},ml(){return this.o.items.length||"view"!=this.mode},logo(){this.keyComponent;var e=this.o.logo.text;return e.title?e.gettext?this.$gettext(e.title):e.title:"Logo"},hasUser(){return this.keyIndex,"view"==this.mode&&!!this.$auth.user},hasBurger(){return"none"!=this.o.burger.rule||this.hasUser},hasIcons(){return!(0!=this.o.items.length||"center"==this.o.burger.align&&!this.shrink)||_.filter(this.o.items,e=>null!=e.thumb).length},mobileItems(){return _.filter(this.o.items,e=>null==e.thumb||e.title)},logoStyles(){var e;return this.o.logo.p?(e=this.o.logo.p,{"background-image":"url(//"+this.$account.storage_domain+"/p/"+e.filename+")",width:e.width/e.height*32+"px"}):null},stylesheets(){var e=this.o.design,t=e.border,i=e.colors,n=this.o.logo.text,s=this.o.burger,o=isLightColor(ColorsFactory.getColor(i.bg)),r=(null==e.font?this.$account.theme.screen:e).font,a=i.text||(i.bg?o?"#000":"#fff":null),o=i.active||(i.bg?o?"#00000008":"#ffffff25":null),l=s.colors.bg?isLightColor(s.colors.bg)?"#000":"#fff":null,c=s.colors.text||l,l=s.colors.close||l,a={"--block-menu-background":ColorsFactory.getBackground(i.bg),"--block-menu-color":a,"--block-menu-background-active":ColorsFactory.getBackground(o),"--block-menu-active-color":i.active_text||(i.active&&!isTransparentColor(i.active)||i.bg&&!isTransparentColor(i.bg)?isLightColor([o,i.active,i.bg])?"#000":"#fff":null),"--block-menu-font-weight":FontsFactory.getWeight(r,e.weight),"--block-menu-text-transform":FontsFactory.getTransform(e.transform),"--block-menu-font-family":FontsFactory.getFont(e.font),"--block-menu-font-size":e.textsize+"px","--block-menu-text-letterspacing":e.letterspacing+"px","--block-menu-logo-color":n.color,"--block-menu-logo-font-weight":FontsFactory.getWeight(null==n.font?r:n.font,n.weight),"--block-menu-logo-text-transform":FontsFactory.getTransform(n.transform),"--block-menu-logo-font-family":"text"==this.o.logo.type&&null!=n.font?FontsFactory.getFont(n.font):null,"--block-menu-logo-font-size":n.textsize+"px","--block-menu-logo-text-letterspacing":n.letterspacing+"px","--block-menu-shadow":StylesFactory.getShadow(e.shadow,!0),"--block-menu-border-color":t.color,"--block-menu-border-size":t.size+"px","--block-menu-burger-bg":s.colors.bg,"--block-menu-burger-color":c,"--block-menu-burger-close":l,"--block-menu-burger-font-family":null!=s.font?FontsFactory.getFont(s.font):null,"--block-menu-burger-font-weight":FontsFactory.getWeight((null==s.font?this.$account.theme.screen:s).font,s.weight),"--block-menu-burger-text-transform":FontsFactory.getTransform(s.transform),"--block-menu-burger-font-size":s.textsize+"px","--block-menu-burger-text-letterspacing":s.letterspacing+"px","--block-menu-burger-spacing":s.spacing+"px","--block-menu-burger-duration":s.duration+"ms","--offset":"widget"!=this.o.placement&&this.offset?this.offset+20+"px":null};return FontsFactory.check(),a}},created(){this.$account.menu;this.menuOpened=this.menuOpenedDefault,$events.on("fontloaded",this.checkOffset),$events.on("locale:updated",this.localeUpdated),"view"==this.mode&&$events.on("contentupdated",this.checkActive)},mounted(){this.root=$mx(this.rootSelector),"view"==this.mode&&($mx(window).on("resize",this.setMenuView),this.$auth.loadData(),this.setMenuView()),this.toggleDocumentClasses(!0),this.updateHTMLClasses(!0),this.checkOffset(),this.checkGUI(!1),this.checkScrollAnchors(),this.checkWindowSize()},beforeDestroy(){"view"==this.mode&&($events.off("contentupdated",this.checkActive),$mx(window).off("resize",this.setMenuView),this.root.removeClass("has-menu")),$events.off("locale:updated",this.localeUpdated),$events.off("fontloaded",this.checkOffset),this.toggleDocumentClasses(!1),this.updateHTMLClasses(!1),this.anchorsInited&&$scroll.body.off("scroll touchmove",this.checkScrollAnchors),this.scrollInited&&$mx(window).off("resize",this.checkWindowSize)},methods:{thumb(e){return this.keyIndex,this.$icons.prepare({i:e,t:"i"},()=>{this.keyIndex++})},open(){this.menuOpened=!0},close(){this.menuOpened=!1},toggleDocumentClasses(e){"preview"!=this.mode&&this.root.toggleClass("has-menu",e)},updateHTMLClasses(e){this.root[0].className=this.root[0].className.replace(/has\-menu\-[a-z]+\-[a-z\-]*/g,"").trim(),e&&this.root.addClass("has-menu-placement-"+this.o.placement+" has-menu-view-"+this.o.burger.view)},styleMenuItem(t){if(!this.$device.desktop||!this.o.burger.shrink){let e=0;var i=this.ml+(this.hasUser?2:0);return{"transition-delay":(e="slidedown"===this.o.burger.view?i-t:t)/3/i*(this.o.burger.duration/300)+"s"}}},setMenuView(){this.root.toggleClass("has-menu-view",(this.$device.mobile||!this.shrink)&&!this.o.burger.shrink)},menuClick(e){e=$mx(e.target);0==e.closest(".menu-block-item").length&&0!=e.closest(".menu-block-avatar").length||(this.menuOpened=!1)},logoClick(e){this.$account.main_page_id==this.$page.page_id&&($page.scrollTo(),e.preventDefault())},logout(){this.menuOpened=!1,this.$auth.logout()},recheckOffset(){this.$nextTick(()=>{this.visible=!0,this.$nextTick(()=>{this.checkOffset()})})},checkOffset(){if("widget"==this.o.placement||this.$device.mobile&&"none"==this.o.logo.type)return this.offset=null;let t=()=>{let e=Math.max(this.hasUser?60:0,"none"==this.o.logo.type?0:$mx(this.$refs.logo).find("a").width());0==e&&(e=-20),this.offset=e};null==this.offset?t():_.each([150,450,1e3,1250,2500,5e3,1e4],e=>{setTimeout(()=>{t()},e)})},localeUpdated(){this.keyComponent++,this.recheckOffset()},editProfile(){"my.taplink.cc"==document.location.hostname.substr(-13,13)?this.$router.push({name:"part",params:{part:"p",page_filename:"common"}}):document.location="https://my.taplink.cc/p/common/",this.menuOpened=!1},checkActive(){this.$nextTick(()=>{this.keyIndex++,this.checkGUI(!0)})},click(e){this.index=e},checkGUI(s){_.size(this.o.items)&&this.$nextTick(()=>{if(null!=this.$refs.scrollInner){var t=this.$refs.scrollInner.querySelector(".in");if(t){let e=this.$refs.scroll;var i=t.offsetLeft,n=e.width,i=Math.max(i-n/2+t.offsetWidth/2,0);s?(n=()=>{e&&e.getSizes()},scrollIt(i,"x",e.getWrapper(),300,"easeOutQuad",n,n)):e.scrollTo(i,0)}}})},checkScrollAnchors(){let e=null;if(this.anchors.length){var t=$scroll.body.scrollTop(),n=$scroll.body.height();for(i=this.anchors.length-1;0<=i;i--){var s=this.anchors[i];if(null!=s.y&&s.y<t+n&&(!i||this.anchors[i-1].y<t)){e=s.v;break}}}this.anchor=e},checkWindowSize(){let e,t;t=this.circleSelector&&this.root?(i=$mx("#"+this.circleSelector),e=i.width(),i.height()):(e=window.innerWidth,window.innerHeight);var i=Math.ceil(Math.sqrt(e*e+t*t));this.circle={width:i+"px",height:i+"px",left:Math.floor(-(i-e)/2)+"px !important",top:Math.floor(-(i-t)/2)+"px !important"}}},template:`<div class="menu-block-container block-item is-paddingless" :class="['is-'+mode, 'is-style-'+o.design.style, {'is-fixed': o.fixed && (mode == 'view')}]" :style="stylesheets" v-if="visible && isMenuVisible" :key="keyComponent"> <div :class="classContainer"> <div class="page-container"> <div class="menu-block-container-inner"> <div class="menu-block-logo" ref="logo" v-if="o.placement != 'widget'"><router-link :to="{name: 'index'}" v-if="o.logo.type != 'none'" @click.native.prevent="logoClick"><span v-if="o.logo.type == 'text'">{{logo}}</span><div v-if="o.logo.type == 'picture'" :style="logoStyles"></div></router-link></div> <component v-bind:is="vbar" class="menu-block-items" :class="'has-text-'+o.align" ref='scroll'> <div class="menu-block-scroll" ref="scrollInner" :class="{'is-hidden-mobile': o.burger.rule == 'mobile'}"> <div v-if="_.size(o.items) && (o.burger.rule != 'all')" role="navigation"> <vue-frontend-blocks-menu-item v-for="(v, i) in o.items" v-model="v" :mode="mode" :class="{in: mode != 'view' && i== index}" @click="click(i)" :anchor="anchor" :show-icons="true"/> </div> </div> </component> <div class="menu-block-avatar" :class="[{in: menuOpened, 'has-user': hasUser && (o.placement != 'widget'), 'is-hidden': !hasBurger}, 'is-rule-'+o.burger.rule, 'is-align-'+o.burger.align]"> <div @click="menuOpened = !menuOpened" v-if="hasBurger" class="is-avatar"> <div class="dd"></div> <div class="dt" v-if="ml" :class="'is-'+o.burger.button"></div> </div> <div class="ul" v-if="ml || hasUser" :style="circleStyles" role="navigation"> <div :class="(mode == 'view')?('max-page-container-'+$page.max_width):null"> <div v-if="ml && (o.burger.rule != 'none')" :class="{'page-container is-paddingless': (mode == 'view') && !shrink, 'is-hidden-tablet': o.burger.rule == 'mobile'}"> <vue-frontend-blocks-menu-item v-for="(v, i) in o.items" v-model="v" :mode="mode" class="li" @click="click(i)" :style="styleMenuItem(i)" :has-icons="hasIcons" :show-icons="o.burger.align != 'center'"/> <div class="li hr" v-if="hasUser" :class="{'is-hidden-tablet': o.burger.rule == 'mobile'}"></div> </div> <div :class="{'page-container is-paddingless': (mode == 'view') && !shrink}" v-if="hasUser" :key="keyComponent"> <div class="li" :style="styleMenuItem(ml)"><a @click="editProfile"><figure class="thumb has-title" v-html="thumb('tabler/settings')" :class="userIconsClass" v-if="hasIcons" role="none"></figure>{{'Мой профиль'|gettext}}</a></div> <div class="li" :style="styleMenuItem(ml+1)"><a @click="logout"><figure class="thumb has-title is-logout-icon" v-html="thumb('tabler/logout')" :class="userIconsClass" v-if="hasIcons" role="none"></figure>{{'Выйти'|gettext}}</a></div> </div> </div> </div> </div> </div> </div> </div> <div class="max-page-container-xl" v-if="$account.menu.submenu"> <div class="page-container top-panel"> <div class="scrolling-container is-submenu" role="navigation"> <div ref="submenu"> <router-link v-for="m in $account.menu.submenu" :to="m.to" class="button">{{m.title|gettext}}</router-link> </div> </div> </div> </div> </div>`}),window.$app.defineComponent("frontend","vue-frontend-blocks-messenger",{data(){return{loading:null,values:null,v:null,defaults:{items:[],messenger_style:{layout:"full",shape:"brand",design:"brand",colors:{bg:null,text:null,icon:null}}}}},props:{options:Object,block:Object,page_id:Number,section:Object,theme:Object,mode:{default:"view"}},mixins:[BlockModel],created(){this.initData(),this.block.tariff="basic"},watch:{values(){this.initData()}},methods:{initData(){this.v=this.values.messenger_style},iconPaths(e){let t="";if(null!=e.ip)for(i=1;i<=e.ip;i++)t+='<span class="p'+i+'"></span>';return t},click(e,t){if("edit"!=this.mode){this.loading=t.n;var i=this.block.stat[t.n].split("."),i=[{event:"taplink:messengers",param:i[i.length-1]+":"+t.v},{event:"taplink:messengers:"+i[i.length-1],param:t.v}];if($events.fire("tap",{page_id:this.page_id,block_id:this.block.block_id,slot:this.block.slot[t.n],stat:this.block.block_id+"."+this.block.stat[t.n],data:i,addons:null!=this.values.data&&null!=this.values.data[t.n]?this.values.data[t.n]:null}),$events.fire("messenger",t),setTimeout(()=>{this.loading=""},2e3),e.target.href==t.link.b||this.$device.isOpera)return!0;e.preventDefault(),this.$links.deeplink(t.link)}},link(e){return"view"==this.mode?this.$links.application(e.link):null},classname(e){return["btn-link is-service-"+e.i,"is-layout-"+this.v.layout,this.isFlat?null:"btn-socials","is-shape-"+this.v.shape,"is-design-"+this.v.design,"full"==this.v.layout?"btn-link-styled":null]}},computed:{isFlat(){return"full"==this.v.layout&&"flat"==this.v.shape},stylesheet(){var e,t,i,n=this.section;let s=(n&&n.link&&null!=n.link.transparent?n:this.theme).link.transparent;return"custom"!=this.v.design?null:(100==s&&(s=0),"icon"===this.v.shape?{"--block-socials-icon-text":this.v.colors.icon}:(e=this.v.colors.bg,t=this.v.colors.text,e=e||(n&&n.link&&n.link.bg?n.link.bg:null)||this.theme.link.bg,t=t||(n&&n.link&&n.link.color?n.link.color:null)||this.theme.link.color,i=ColorsFactory.getColor(e),{"--block-link-background":ColorsFactory.getBackground(e,s),"--block-link-shadow-color":this.v.colors.shadow?ColorsFactory.transparent(100-(n&&n.link&&n.link.shadow&&null!=n.link.shadow.o?n:this.theme).link.shadow.o,this.v.colors.shadow):null,"--block-link-background-digs":hexToRgb(i),"--block-link-border-color":i,"--block-link-title-color":t}))}},template:`<div class="socials" :class="'is-'+$account.locale.direction" v-if="v"> <div class="row row-small"> <div :class="{'col-shrink': v.layout == 'square', 'col-xs': v.layout != 'full', 'col-xs-12': v.layout == 'full'}" v-for="l in values.items"> <component v-bind:is="(mode == 'view')?'a':'div'" :href='link(l)' @click="click($event, l)" target="_top" :aria-label="l.t" :class="classname(l)" :style="stylesheet"> <i :class="'fa fab fa-'+l.i" v-if="!isFlat" v-html="iconPaths(l)"></i> <div v-if="v.layout == 'full'" v-html="$typography(l.t, true)" class="btn-link-title" :class="{skeleton: block.skeleton}"></div> </component> </div> </div> </div>`}),window.$app.defineComponent("frontend","vue-frontend-blocks-music",{data(){return{sample:null,size:null,inited:!1,titles:{sc:"SoundCloud",pm:"Apple Music",ym:"Яндекс.Музыка",sp:"Spotify",dz:"Deezer",bc:"Bandcamp",sb:"Сбер Звук",mk:"Audiomack",an:"Anghami",am:"Amazon Music",vk:"ВКонтакте",yt:"YouTube Music",bs:"BeatStars",pd:"Pandora",bm:"Boom",td:"Tidal",bp:"Beatport"},defaults:{items:[],sample:"",size:"m"}}},props:["options","block"],mixins:[BlockModel],created(){this.initData(),this.block.tariff="pro"},mounted(){$mx(this.$el).on("lazy-hit",e=>{this.inited=!0})},watch:{values(){this.initData()}},methods:{iconName(e){return"yt"===e?"mt":e},iconPaths(e){let t="",n=0;if(n="yt"===e.n?3:n)for(i=1;i<=n;i++)t+='<em class="p'+i+'"></em>';return t},initData(){if(this.sample="",!this.values.sample)return null;var e,t={sc:[{s:"https://w.soundcloud.com/player/?url={1}&color=d81946&theme_color=d81946&auto_play=false&hide_related=true&show_comments=false&show_user=false&show_reposts=false&show_teaser=true&like=false&sharing=false&download=false&buying=false&text_buy_track=false&visual=true"}],ym:[{r:/music\.yandex\.(ru|com)\/album\/([0-9]+)\/track\/([0-9]+)/g,s:"https://music.yandex.{2}/iframe/#track/{4}/{3}/"},{r:/music\.yandex\.(ru|com)\/users\/([^\/]+)\/playlists\/([0-9]+)/g,s:"https://music.yandex.{2}/iframe/#playlist/{3}/{4}"},{r:/music\.yandex\.(ru|com)\/([0-9]+)/g,s:"https://music.yandex.{2}/iframe/#album/{3}/"}],pm:[{r:/music\.apple\.com\/(.*)/g,s:"https://embed.music.apple.com/{2}"}],sp:[{r:/\/(track|album|playlist)\/(.*)/g,s:"https://open.spotify.com/embed/{2}/{3}"}],dz:[{r:/\/(track|album|playlist)\/(.*)/g,s:"https://widget.deezer.com/widget/auto/{2}/{3}"}],sb:[{r:/\/(track|release|playlist|podcast)\/([0-9]+)/g,s:"https://zvuk.com/embed/{2}?id={3}"}],mk:[{r:/audiomack\.com\/([^\/]+)\/(album|song|playlist)\/([^\/]+)/g,s:"https://audiomack.com/embed/{3}/{2}/{4}?background=1"}],an:[{r:/play\.anghami\.com\/(album|song|playlist)\/([^\/]+)/g,s:"https://widget.anghami.com/{2}/{3}/?layout=wide"}],bp:[{r:/beatport\.com\/(track)\/([^\/]+)\/([0-9]+)/g,s:"https://embed.beatport.com/?id={4}&type={2}"}]},i=_.filter(this.values.items,{n:this.values.sample})[0],s=[t[this.values.sample],i.url],o=null,r=null!=s[0];for(j in t[this.values.sample]){if(e=null!=(o=t[this.values.sample][j]).r?o.r.exec(s[1]):null){for(s[0]=o.s,n=1;n<e.length;n++)s.push(e[n]);break}null==o.r&&(s[0]=o.s)}if(r){let e=i.t;"p"==e&&(e="a"),this.sample=this.$format.apply(null,s),this.size={sc:{t:{s:300,m:450,l:600},a:{s:300,m:450,l:600}},ym:{t:{s:240,m:240,l:320},a:{s:240,m:450,l:600}},pm:{t:150,a:450},sp:{t:80,a:380},dz:{t:{s:70,m:120,l:240},a:{s:240,m:450,l:600}},sb:{t:240,a:450,c:450},mk:{t:252,a:400},bp:{t:162}}[this.values.sample][e],_.isObject(this.size)&&(this.size=this.size[this.values.size])}else this.sample=this.size=null},empty(e){return e.b||this.$gettext("Слушать")}},template:`<div class="lazy"> <iframe width="100%" :height="size" scrolling="no" frameborder="no" :src="sample" v-if="sample && inited" sandbox="allow-forms allow-popups allow-same-origin allow-scripts allow-top-navigation-by-user-activation" allow="autoplay *; encrypted-media *; fullscreen *"></iframe> <a v-for="f in values.items" class="music-source" v-if="!sample || (sample && values.items.length> 1)" target="_blank" :href="f.url"> <div><span :class="'btn-socials is-shape-circle-fill is-design-brand is-service-'+iconName(f.n)"><i :class="'fa fab fa-'+iconName(f.n)" v-html="iconPaths(f)"></i></span><span class="t">{{titles[f.n]}}</span></div> <span class="button" v-html="empty(f)"></span> </a> </div>`}),window.$app.defineComponent("frontend","vue-frontend-blocks-pictures",{data(){return{defaults:{picture_size:"1:1",cols:1,options:{text:0,link:0,mode:"button"},bg:null,placement:"cover",indicator:{placement:"outside",style:"dots"}},zoomActived:!1,scaleWidth:100,pinchCenter:null,pinchCenterOffset:null,lastX:0,lastY:0,imgWidth:0,imgHeight:0,viewportWidth:0,viewportHeight:0,curWidth:0,curHeight:0,scale:1,lastScale:1,x:0,y:0,index:0,navOffsetTop:null,loading:""}},props:{account:Object,options:Object,block:Object,page_id:Number,theme:Object,mode:{default:"view"},allowZoom:Boolean,deviceClass:String},mixins:[BlockModel],created(){$mx(window).on("resize",this.checkScaleHeight)},watch:{"options.list":{handler(e){e.length<=this.index&&this.$refs.slider.moveSlide(e.length-1),this.checkAspectRatio()},deep:!0}},mounted(){this.checkAspectRatio(),this.checkScaleHeight(),setTimeout(()=>{this.checkScaleHeight()},350)},beforeDestroy(){$mx(window).off("resize",this.checkScaleHeight)},computed:{isBannerMode(){return"banner"==this.values.options.mode},zoomStyles(){let e=0,t=0,i=0,n=0;return this.imgHeight*this.scale<=this.viewportHeight&&(e=0-this.imgHeight/2,i="calc(var(--vh)*50)"),this.imgWidth*this.scale<=this.viewportWidth&&(t=0-this.imgWidth/2,n="50vw"),{marginTop:i,marginLeft:n,width:window.innerWidth+"px",transform:"scale("+this.scale+") translateX("+(this.x+t)+"px) translateY("+(this.y+e)+"px)","transform-origin":"left top"}}},methods:{skeleton(e){return{skeleton:e.isFetching||this.block.skeleton}},checkAspectRatio(){if("auto"==this.options.picture_size){let i=0,n=0;var s=this.options.list;if(s.length){_.each(s,e=>{e&&e.p&&(i+=e.p.width,n+=e.p.height)});var o=i/n;Number.MAX_VALUE;let e=1,t=1;1<=o?(e=i/s.length,t=e/o):(t=n/s.length,e=t*o),1.2<t/e&&(t=1.2*e),this.values.picture_size=e+":"+t}}},isLoading(e){return"view"==this.mode&&null!=this.block.stat&&this.loading==this.block.stat[e]},isExternal(e){return-1!=["link","phone","email","sms",""].indexOf(e.type)},link(e){return"view"==this.mode?this.$links.resolve(e):null},click(e,t,i){var n;"edit"!=this.mode&&(this.loading=null!=this.block.stat?this.block.stat[t]:null,n=this.$links.resolve(e.link),n=_.isObject(n)?this.$router.resolve(n).href:n,this.block.block_id&&window.$events.fire("tap",{page_id:this.page_id,block_id:this.block.block_id,slot:t,stat:this.block.block_id+"."+this.block.stat[t],data:[{event:"taplink:pictures",param:n}]}),"anchor"==e.link.type&&((t=e.link.value.split(":"))[0]==this.$page.page_filename?(this.$page.scrollTo(".b-"+t[1]),i.preventDefault()):$scroll.position=".b-"+t[1]),setTimeout(()=>{this.loading=""},2e3))},bannerClick(){this.allowZoom&&(this.zoomActived=!0,this.x=this.y=0,this.checkScaleHeight(),this.lastScale=this.scale=this.scaleWidth)},checkScaleHeight(){var e;this.zoomActived&&(e=window.innerWidth/100*(null!=this.values.aspect_ratio?100*this.values.aspect_ratio:this.values.picture_size),this.scaleWidth=e>window.innerHeight?window.innerHeight/e:.95,this.$nextTick(()=>{var e=$mx(this.$refs.preview);this.imgWidth=e.width(),this.imgHeight=e.height(),this.viewportWidth=window.innerWidth,this.viewportHeight=window.innerHeight,this.curWidth=this.imgWidth*this.scale,this.curHeight=this.imgHeight*this.scale})),this.navOffsetTop=$mx(this.$el).find(".slider-slide.active .picture-container").height()},updateLastScale(){this.lastScale=this.scale},updateLastPos(e,t){this.lastX=this.x,this.lastY=this.y},restrictScale(e){return Math.max(this.scaleWidth,Math.min(8,e))},translate(e,t){e=this.restrictRawPos(this.lastX+e/this.scale,Math.min(this.viewportWidth,this.curWidth)/this.scale,this.imgWidth),t=this.restrictRawPos(this.lastY+t/this.scale,Math.min(this.viewportHeight,this.curHeight)/this.scale,this.imgHeight);this.x=e,this.y=t},restrictRawPos(e,t,i){return e<t-i?e=t-i:0<e&&(e=0),e},zoomPan(e){this.translate(e.deltaX,e.deltaY)},zoomPanEnd(e){this.updateLastPos()},zoomPinchend(e){this.updateLastScale(),this.updateLastPos(),this.pinchCenter=null},zoomClose(){this.zoomActived=!1},zoomReset(e){e=this.rawCenter(e);this.zoomAround(2,e.x,e.y)},zoomWheel(e){var t=e.deltaY||e.detail||e.wheelDelta;e.scale=1+.05*(0<t?-1:1),e.center={x:e.clientX,y:e.clientY},this.zoomPinch(e),this.zoomPinchend()},zoomPinch(e){null===this.pinchCenter&&(this.pinchCenter=this.rawCenter(e),t=this.pinchCenter.x*this.scale-(-this.x*this.scale+Math.min(this.viewportWidth,this.curWidth)/2),i=this.pinchCenter.y*this.scale-(-this.y*this.scale+Math.min(this.viewportHeight,this.curHeight)/2),this.pinchCenterOffset={x:t,y:i});var t=this.restrictScale(this.scale*e.scale),i={x:(this.pinchCenter.x*t-this.pinchCenterOffset.x)/t,y:(this.pinchCenter.y*t-this.pinchCenterOffset.y)/t};this.zoomAround(e.scale,i.x,i.y,!0)},rawCenter(e){var t=$mx(this.$refs.container).offset(),i=window.pageXOffset||document.body.scrollLeft,n=window.pageYOffset||document.body.scrollTop;return{x:-this.x+(e.center.x-t.left+i)/this.scale,y:-this.y+(e.center.y-t.top+n)/this.scale}},zoomDo(e){this.scale=this.restrictScale(this.lastScale*e),this.curWidth=this.imgWidth*this.scale,this.curHeight=this.imgHeight*this.scale,this.translate(0,0)},zoomAround(e,t,i,n){this.zoomDo(e);var e=-this.x+Math.min(this.viewportWidth,this.curWidth)/2/this.scale,s=-this.y+Math.min(this.viewportHeight,this.curHeight)/2/this.scale,e=(e-t)*this.scale,t=(s-i)*this.scale;this.translate(e,t),n||(this.updateLastScale(),this.updateLastPos())},stylesheetPicture(t,i=!1){if(t){let e=100;if(null!=this.values.aspect_ratio)e=100*this.values.aspect_ratio;else{if(e=this.values.picture_size.toString(),-1!=["50","70","100","138"].indexOf(e))switch(e){case"50":e="2:1";break;case"100":e="1:1";break;case"70":e="620x438";break;case"138":e="620x877"}e=e.replace("x",":").split(":"),e=parseInt(e[1])/parseInt(e[0])*100}var n=this.urlPicture(t,!1);return e={"padding-top":e+"%"},("view"!=this.mode&&n||i)&&(e["background-image"]="url("+n+")"),(this.values.bg||t.p&&t.p.color)&&(e["--block-pictures-picture-background"]=(t.p?t.p.color:null)||this.values.bg),e}},urlPicture(e,t){return(!t||"edit"!=this.mode)&&(e.picture||e.p)?e.p.link||"//"+this.$account.storage_domain+"/p/"+(null==e.picture?e.p.filename:e.picture):null}},template:`<div> <vue-frontend-blocks-slider :options="values" :block="block" :theme="theme" :page_id="page_id" :mode="mode" :allowZoom="allowZoom" :index.sync="index" @bannerClick="bannerClick" :container-classes="{'slider-has-text': this.values.options.text, 'slider-has-link': this.values.options.link && (this.values.options.mode == 'button')}" :is-banner-mode="isBannerMode" :nav-offset-top="navOffsetTop" :device-class="deviceClass" @snooze-click="$emit('snooze-click')" ref="slider" :account="account"> <template v-slot:default="{f, i, isFetching}"> <div class="picture-container lazy" :class="[skeleton(f), {'picture-container-empty': !f.p, 'loading-overlay is-active': isFetching}, 'picture-'+values.placement]" :style="stylesheetPicture(f)" :data-src="urlPicture(f, true)"> <div class="loading-icon" v-if="isFetching"></div> </div> <div class="slider-slide-text" v-if="values.options.text"> <div class="slider-slide-title" v-if="f.t" v-html="$typography(f.t, true)" :class="skeleton(f)"></div> <div class="slider-slide-title" v-else :class="skeleton(f)">{{'Заголовок'|gettext}}</div> <div class="slider-slide-snippet" v-if="f.s" v-html="$typography(f.s, true)" :class="skeleton(f)"></div> </div> <component v-bind:is="(mode == 'view')?'a':'block'" v-if="values.options.link && (isExternal(f.link) || (mode == 'edit'))" class="button slider-slide-link" :class="{'is-loading': isLoading(i)}" rel="noopener" :target="(values.open_new_window || $account.open_new_window)?'_blank':'_top'" :href='link(f.link)' @click="click(f, i, $event)">{{f.link.title|nvl($gettext('Открыть'))}}</component> <router-link v-else-if="values.options.link" class="button slider-slide-link" :class="{'is-loading': isLoading(i)}" rel="noopener" :to='link(f.link)' @click.native="click(f, i, $event)">{{f.link.title|nvl($gettext('Открыть'))}}</router-link> </template> </vue-frontend-blocks-slider> <div class="pan-zooming-background" :class="{in: zoomActived}" ref="container" v-hammer:tap="zoomClose"> <div :style="zoomStyles" ref="preview" v-hammer:pinch="zoomPinch" v-hammer:pan="zoomPan" v-hammer:panend="zoomPanEnd" v-hammer:pinchend="zoomPinchend" @wheel="zoomWheel"> <div :style="stylesheetPicture(values.list[index], true)" :class="'picture-'+values.placement" style="background-color: transparent"></div> </div> </div> </div>`}),window.$app.defineComponent("frontend","vue-frontend-blocks-plans-form",{props:["o","title","index"],data(){return{keyComponent:0}},mounted(){$events.on("reload",this.reload),$events.on("digitals_access",this.close)},beforeDestroy(){$events.off("reload",this.reload),$events.off("digitals_access",this.close)},computed:{form(){var e=[{type_id:3,title:this.$gettext("Имя"),text:"",value:"",required:!1,idx:"#a"},{type_id:6,title:this.$gettext("Email"),text:"",value:"",required:!0,idx:"#b"}];return{fields:(this.o.data.fields.length?this.o.data.fields:e).concat([{typename:"button"}]),form_btn:this.$gettext("Выбрать")}}},methods:{close(){this.$parent.close()},reload(){this.keyComponent++}},template:'<div class="modal-card modal-card-little" style="justify-content: flex-end;padding: 0"> <header class="modal-card-head has-rtl"> <p class="modal-card-title">{{title}}</p> <button class="modal-close is-large" @click="close" type="button"></button> </header> <section class="modal-card-body"> <div class="block-item"> <div class="block-form"> <vue-frontend-blocks-form :key="keyComponent" :options="form" :theme="o.theme" :block="o.block" :mode="o.mode" :fields="{index: index}"/> </div> </div> </section> </div>'}),window.$app.defineComponent("frontend","vue-frontend-blocks-plans",{data(){return{lazyHit:!1,keyComponent:0,defaults:{options:{orders:["t","d","f","p","b"],show:{t:!0,d:!0,f:!0,p:!0,b:!0}},design:{features:{icon:"icofont/check-alt"}}},featureDefault:{t:"",p:"",pp:"",d:"",ft:"",f:[],link:{title:"",type:"link",value:""}},index:0,loading:"",data:{fields:[]},buyFormModal:null}},props:{account:Object,block_id:String,options:Object,block:Object,page_id:Number,theme:Object,section:Object,deviceClass:String,mode:{default:"view"},page_filename:String,part:String,param_id:String},mixins:[BlockModel],created(){_.each(this.values.list,(e,t)=>{this.values.list[t]=_.merge(this.featureDefault,e,!0)})},mounted(){this.recheckSizes(),$mx(window).on("resize",this.recheckSizes),$events.on("fontloaded",this.recheckSizes)},beforeDestroy(){$events.off("fontloaded",this.recheckSizes),$mx(window).off("resize",this.recheckSizes)},watch:{"options.list":{handler(e){e.length<=this.index&&this.$refs.slider.moveSlide(e.length-1),this.recheckSizes()},deep:!0}},computed:{v(){return Object.assign({cols:2<this.values.list.length?3:2},this.values)},priceAlign(){var e=this.values.design;return e&&e.price&&e.price.align?e.price.align:"center"},stylesheets(){let r={},a=this.values.design,l="--block-plans-";if(this.section&&a&&a.on){let s=a.heading?a.heading.font||this.section.heading.font||this.theme.heading.font:null,o=a.font||this.section.font||this.theme.screen.font;var e=a.link&&a.link.bg?a.link.bg:this.section.link.bg||this.theme.link.bg;l;r=__.merge({"--block-plans-background":ColorsFactory.getBackground(a.bg)},a.link?{"--block-plans-link-background":ColorsFactory.getBackground(e,(null!=a.link.transparent?a:this.section).link.transparent),"--block-plans-link-title-color":a.link.color,"--block-plans-link-border-width":a.link.border&&__.isNotNull(a.link.border.width)?a.link.border.width+"px":null,"--block-plans-link-border-color":a.link.border&&a.link.border.color?a.link.border.color:ColorsFactory.getColor(e),"--block-plans-link-shadow-params":a.link.shadow?StylesFactory.getShadow(a.link.shadow,!1,!0):null,"--block-plans-link-shadow-color":a.link.shadow?ColorsFactory.transparent(100-a.link.shadow.o,a.link.shadow.color):null}:{}),_.each(["text","heading","price","interval","features","title"],e=>{var t,i,n=-1!=["heading","price","interval"].indexOf(e);a[e]&&(t=a[e],i=l+e,Object.assign(r,t.size?__.merge(FontsFactory.getTextStyles(t.size,i),"interval"==e?{[i+"-lineheight"]:1.1}:{}):{},__.filter({[i+"-color"]:t.color,[i+"-font-family"]:null!=t.font?FontsFactory.getFont(t.font):null,[i+"-font-weight"]:t.font||t.weight?FontsFactory.getWeight(null!=t.font?t.font:n?s:o,null!=t.weight?t.weight:"title"==e?2:1):null}),"features"==e?{[i+"-icon-color"]:t.icon_color||t.color,[i+"-icon-size"]:t.icon_size}:{},-1!=["text","heading"].indexOf(e)?{[i+"-align"]:t.align}:{}))})}return __.filter(r)}},methods:{linkTitle(e){return e.link&&e.link.title?e.link.title:this.$gettext("Открыть")},html(e){return this.$nl2br(this.$typography(e,!0))},skeleton(e){return{skeleton:e.isFetching||this.block.skeleton}},isLoading(e){return"view"==this.mode&&null!=this.block.stat&&this.loading==this.block.stat[e]},isExternal(e){return-1!=["link","phone","sms","email","vcard",""].indexOf(e.type)},link(e){return"view"==this.mode?this.$links.resolve(e):null},click(e,t){var i,n;"edit"!=this.mode&&(i=this.$links.resolve(e.link),"anchor"==e.link.type?(n=e.link.value.split(":"))[0]==this.$page.page_filename?this.$page.scrollTo(".b-"+n[1]):$scroll.position=".b-"+n[1]:this.loading=null!=this.block.stat?this.block.stat[t]:null,i=_.isObject(i)?this.$router.resolve(i).href:i,this.block.block_id&&window.$events.fire("tap",{page_id:this.page_id,block_id:this.block.block_id,slot:t,stat:this.block.block_id+"."+this.block.stat[t],data:[{event:"taplink:plans",param:i}]}),this.isExternal(e.link)&&(document.location=this.link(e.link)),setTimeout(()=>{this.loading=""},2e3))},recheckSizes(){this.$nextTick(()=>{_.each(["price","features","description","title"],e=>{e=$(this.$el).find(".plans-"+e);let t=0;e.each(e=>{e.children&&e.children[0]&&(t=Math.max(t,$mx(e.children[0]).outerHeight()))}),t&&e.css({height:t+"px"})})})},lazy(){this.lazyHit=!0},icon(e,t){this.recheckSizes();let i=this.values.design.features.icon;var n=i.split("/");return"tabler"==n[0]&&(n[1].match(/number\-([0-9]+)-small/g)?i=i.replace(/[0-9]+/,t%29+1):n[1].match(/(hexagon|hexagon-number|circle|circle-dashed-number|square-rounded-number|number|square|circle-dashed|pentagon-number|rosette-number|box-multiple)\-f?[0-9]+/g)&&(i=i.replace(/[0-9]+/,t%9+1))),this.lazyHit?this.$icons.get(i,()=>{this.keyComponent++,this.recheckSizes()}):null}},template:`<div :style="stylesheets"> <vue-frontend-blocks-slider :options="v" :block="block" :theme="theme" :page_id="page_id" :mode="mode" :index.sync="index" :device-class="deviceClass" :with-offset="true" ref="slider" @snooze-click="$emit('snooze-click')" :account="account"> <template v-slot:default="{f, i, isFetching}"> <div> <div v-for="k in values.options.orders" v-if="values.options.show[k]"> <div v-if="k == 't'" class="plans-title"><span :class="skeleton(f)">{{$nvl(f.t, 'Plan')}}</span></div> <div v-if="(k == 'b') && f.link"> <component v-bind:is="(mode == 'view')?'a':'div'" v-if="isExternal(f.link) || (mode == 'edit')" class="button btn-link" :class="{'is-loading': isLoading(i)}" :download="(f.link.type == 'vcard')?'contacts.vcf':null" :rel="$page.rel" target="_top" :href='link(f.link)' @click.prevent="click(f, i)"><div class="btn-link-title"><span :class="skeleton(f)">{{linkTitle(f)}}</span></div></component> <router-link v-else class="button btn-link" :class="{'is-loading': isLoading(i)}" :rel="$page.rel" :to='link(f.link)' @click.native="click(f, i)"><div class="btn-link-title"><span :class="skeleton(f)">{{linkTitle(f)}}</span></div></router-link> </div> <div v-if="k == 'p'" class="plans-price" :class="'is-'+priceAlign"><div><span :class="skeleton(f)">{{$nvl(f.p, 0)|currency(account.currency)}}</span><span :class="[skeleton(f), {strikethrough: __.isNumber(f.pp)}]">{{f.pp|currency(account.currency)}}</span></div></div> <div v-if="k == 'd'" class="plans-description" :class="skeleton(f)"><p v-html="html(f.d)"></p></div> <div v-if="k == 'f'" class="plans-features"> <div> <p v-if="f.ft">{{f.ft}}</p> <div v-for="(v, i) in f.f" :key="keyComponent" v-if="v.t"> <figure v-html="icon(v, i)" class="lazy" :class="{'lazy-force': mode== 'edit'}" @lazy-hit="lazy"></figure> <span :class="skeleton(f)">{{v.t}}</span> </div> </div> </div> </div> </div> </template> </vue-frontend-blocks-slider> </div>`}),window.$app.defineComponent("frontend","vue-frontend-blocks-pricing",{data(){return{defaults:{fields:[],styles:{text_size:"md"}}}},props:["options","block","account"],mixins:[BlockModel],created(){this.block.tariff="pro"},computed:{styleText(){return FontsFactory.getTextStyles(this.values.styles.text_size)},classnames(){return{skeleton:this.block.skeleton}}},methods:{prepareText(i){return i=(i||this.$gettext("Без имени")).split("\n"),_.map(i,(e,t)=>({p:e.trim().replace(/[ ]{2,}/g," ").split(" "),d:t==i.length-1}))}},template:'<ul class="block-pricing" :style="styleText"> <li v-for="f in values.fields"> <div> <div v-for="r in prepareText(f.title)"> <span v-for="s in r.p" :class="classnames">{{s}} </span> <span class="dotted" v-if="r.d"></span> </div> </div> <span v-if="f.value" :class="classnames">{{f.value}}</span> <span v-else :class="classnames">{{$nvl(f.price, 0)|currency(account.currency)}}</span> </li> </ul>'}),window.$app.defineComponent("frontend","vue-frontend-blocks-slider",{data(){return{defaults:{list:[],cols:1,carousel_ride:!1,carousel_interval:5,is_desktop_fullwidth:!1,remove_border:!1,arrows:{style:"opacity",icon:"none",size:2,color:null},indicator:{placement:"outside",style:"dots"}},hack:!1,loading:"",index:0,blockPageId:null,isFetching:!1,isSliding:!1,isSlidingActive:!1,timeID:null,transform:"",scrollTopSliding:0}},props:{account:Object,options:Object,block:Object,page_id:Number,theme:Object,mode:{default:"view"},withOffset:Boolean,allowZoom:Boolean,containerClasses:Object,isBannerMode:Boolean,inactiveScale:{default:.94},navOffsetTop:String,deviceClass:String},mixins:[BlockModel],created(){VueHammer.config.swipe={threshold:10},this.block.tariff="pro",this.blockPageId=this.page_id,this.dataInterval&&"view"==this.mode&&(this.timeID=setInterval(()=>{this.isSliding||this.moveSlide(this.index<this.values.list.length-1?this.index+1:0,!1)},1e3*Math.max(this.dataInterval,1)))},beforeDestroy(){this.timeID&&clearInterval(this.timeID)},computed:{hasOffset(){return"xs"==this.deviceClass&&this.withOffset&&1<this.values.list.length},cols(){return"xs"==this.deviceClass?1:this.valueCols},valueCols(){return 1<this.values.list.length?this.values.cols:1},amountNav(){return this.values.list.length-this.cols+1},dataInterval(){return"view"==this.mode&&this.values.carousel_ride&&this.$auth.isAllowTariff("pro")?this.values.carousel_interval:null},colorClass(){var e=this.theme;return isLightColor((this.values.design||(null==e.block?StylesFactory.getBaseStyles():e).block.pictures).bg)?"is-light":"is-dark"},designStyles(){var e=this.values.design;let t={"--block-pictures-arrows-color":this.values.arrows.color,"--block-pictures-arrows-contrast":this.values.arrows.color?isLightColor(this.values.arrows.color)?"#000":"#fff":null,"--block-pictures-inactive-scale":this.inactiveScale};return e&&(t=__.merge(t,{"--block-pictures-text-color":e.text,"--block-pictures-title-color":e.title,"--block-pictures-background":e.bg,"--block-pictures-nav-color":e.nav,"--block-pictures-button-text-color":e.button_text})),__.filter(t)},isDesktop(e){return"xs"!=this.deviceClass&&this.values.is_desktop_fullwidth},isRTL(){return!!this.account&&"rtl"==this.account.locale.direction}},watch:{block(e){this.hack=!0,this.$nextTick(()=>{this.hack=!1})},index(e){this.$emit("update:index",e)},"values.cols":function(e){this.moveSlide(0)}},methods:{isActive(e){return 2==this.cols?this.index==e||this.index==e-1:this.index==e},keyup(e){switch(e.key){case"ArrowLeft":this.moveSlide(this.index+(this.isRTL?1:-1),!0);break;case"ArrowRight":this.moveSlide(this.index+(this.isRTL?-1:1),!0)}},touchDeltaX(e){var t=$mx(this.$refs.device).width();let i=Math.ceil(e.deltaX/t*100);e=this.index,t=this.values.list.length;return this.isRTL?(e==t-this.cols&&0<i&&(i=0),0==e&&i<0&&(i=0)):(0==e&&0<i&&(i=0),e==t-this.cols&&i<0&&(i=0)),i*this.cols},touchstart(e){this.isSliding=this.isSlidingActive=!0},touchend(e){let t=this.touchDeltaX(e);(t=this.isRTL?-t:t)<-5?this.moveSlide(this.index+1,!0):5<t?this.moveSlide(this.index-1,!0):0!=t&&this.moveSlide(this.index,!1),setTimeout(()=>{this.isSlidingActive=!1},150),this.isSliding=!1,this.$emit("snooze-click")},touchcancel(){this.isSlidingActive=this.isSliding=!1,this.moveSlide(this.index,!0)},touchmove(e){e=this.touchDeltaX(e);this.transform="translateX("+(e-(100*this.index-this.getOffset())*(this.isRTL?-1:1))+"%)"},moveSlide(e,t=!1){let i=Math.min(Math.max(0,e),this.values.list.length-this.cols);if(this.index==i)this.transform="translateX("+(this.isRTL?"":"-")+(100*this.index-this.getOffset())+"%)";else{this.index=i;var n=$mx(this.$refs.device),s=n.find(".slider-slide");n.find(".picture-container").eq(e);for(t&&this.timeID&&clearInterval(this.timeID),this.scrollTopSliding=$mx(".page").scrollTop(),t&&setTimeout(()=>{var e,t,i,n,s,o=$mx(".page").scrollTop();this.scrollTopSliding==o&&(e=$mx(window).height(),t=$mx(this.$el).offset().top,i=this.$el.offsetHeight,n=$mx(".menu-block-container"),s=$mx(".action-panel"),t<o||o+e<t+i)&&i<e&&scrollIt(t-(e-i+(n.length?n.height():0)*($mx("html").is(".has-menu-placement-bottom")?-1:1)-(s.length?s.height():0))/2,"y",$mx(".page")[0])},350),i=-2;i<3;i++)s.eq(this.index+i).find(".lazy").triggerHandler("lazy-force");this.transform="translateX("+(this.isRTL?"":"-")+(100*this.index-this.getOffset())+"%)",n.triggerHandler("change",[this.index]),n.triggerHandler("changeindex",[this.index])}},getOffset(){return this.hasOffset&&this.index==this.values.list.length-1?10:0},bannerClick(e,t){this.isSlidingActive||this.isActive(t)||(this.index==t?"banner"==this.values.options.mode&&this.isExternal(e.link)?(this.isFetching=!0,setTimeout(()=>{this.isFetching=!1},2e3)):this.$emit("bannerClick"):this.isDesktop&&this.moveSlide(t,!0))},isExternal(e){return-1!=["link","phone","email",""].indexOf(e.type)}},template:`<div class="block-slider has-rtl" :class="[{'is-allow-fullwidth': values.is_desktop_fullwidth, disabled: isFetching}, 'has-cols-'+valueCols, 'is-indicator-'+values.indicator.placement, 'is-indicator-'+values.indicator.style, colorClass]"> <div class="block-slider-inner" @keyup="keyup" tabindex="0"> <div ref='device' v-if="!hack" class="slider slider-pictures" :class="[containerClasses, {'slider-has-border': !values.remove_border, 'is-mode-banner': isBannerMode}]" :style="designStyles" v-hammer:panstart.horizontal="touchstart" v-hammer:pan.horizontal="touchmove" v-hammer:panend.horizontal="touchend" v-hammer:pancancel.horizontal="touchcancel"> <div class="slider-inner" :class="{'has-offset': hasOffset}"> <component :is="isBannerMode?'a':'div'" :href="isBannerMode?$links.resolve(f.link, false):null" class="slider-slide" :class="{active: isActive(i), disabled: f.isFetching, 'stop-transition': isSliding}" v-for="(f, i) in values.list" :style="{transform: transform + ((isActive(i) || !isDesktop)?'':' scale(var(--block-pictures-inactive-scale))')}" @click="bannerClick(f, i)"> <slot :f="f" :i="i" :isFetching="isFetching"></slot> </component> </div> <div class="slider-nav" :class="{'is-hidden': amountNav== 1 || values.indicator.style == 'none'}" ref='sliders' :style="{top: (values.indicator.placement == 'inside')?((navOffsetTop - 30)+'px'):null}"> <div v-for="(v, i) in values.list" class="slider-dot" :class="{active: index == i}" @click="moveSlide(i, true)" v-if="i < amountNav"></div> </div> <div class="slider-arrows" :style="{top: (navOffsetTop / 2)+'px'}" v-if="values.arrows.icon != 'none'"> <label class="slider-arrows-icon" :class="['is-'+values.arrows.style, 'fai fa-'+values.arrows.icon+'-right', 'is-x'+values.arrows.size, {'is-hide': index== 0}]" @click="moveSlide(index-1, true)"></label> <label class="slider-arrows-icon" :class="['is-'+values.arrows.style, 'fai fa-'+values.arrows.icon+'-right', 'is-x'+values.arrows.size, {'is-hide': index== values.list.length-cols}]" @click="moveSlide(index+1, true)"></label> </div> </div> </div> </div>`}),window.$app.defineComponent("frontend","vue-frontend-blocks-socialnetworks",{data(){return{loading:null,values:null,v:null,defaults:{socials_style:{layout:"full",shape:"brand",design:"brand",colors:{bg:null,text:null,icon:null}},items:[]}}},props:{options:Object,block:Object,page_id:Number,section:Object,theme:Object,mode:{default:"view"}},mixins:[BlockModel],created(){this.initData(),this.block.tariff="basic"},watch:{values(){this.initData()}},methods:{initData(){this.v=this.values.socials_style},iconPaths(e){let t="";if(null!=e.ip)for(i=1;i<=e.ip;i++)t+='<em class="p'+i+'"></em>';return t},click(e,t){if("edit"!=this.mode){this.loading=t.n;var i=this.block.stat[t.n].split("."),i=[{event:"taplink:socialnetworks",param:i[i.length-1]+":"+t.v},{event:"taplink:socialnetworks:"+i[i.length-1],param:t.v}];if($events.fire("tap",{page_id:this.page_id,block_id:this.block.block_id,slot:this.block.slot[t.n],stat:this.block.block_id+"."+this.block.stat[t.n],data:i,addons:null!=this.values.data&&null!=this.values.data[t.n]?this.values.data[t.n]:null}),setTimeout(()=>{this.loading=null},2e3),e.target.href==t.link.b||this.$device.isOpera)return!0;e.preventDefault(),this.$links.deeplink(t.link)}},link(e){return"view"==this.mode?this.$links.application(e.link):null},classname(e){return["btn-link is-service-"+e.i,"is-layout-"+this.v.layout,this.isFlat?null:"btn-socials","is-shape-"+this.v.shape,"is-design-"+this.v.design,"full"==this.v.layout?"btn-link-styled":null]}},computed:{isFlat(){return"full"==this.v.layout&&"flat"==this.v.shape},stylesheet(){var e,t,i,n=this.section;let s=(n&&n.link&&null!=n.link.transparent?n:this.theme).link.transparent;return"custom"!=this.v.design?null:(100==s&&(s=0),"icon"===this.v.shape?{"--block-socials-icon-text":this.v.colors.icon}:(e=this.v.colors.bg,t=this.v.colors.text,e=e||(n&&n.link&&n.link.bg?n.link.bg:null)||this.theme.link.bg,t=t||(n&&n.link&&n.link.color?n.link.color:null)||this.theme.link.color,i=ColorsFactory.getColor(e),{"--block-link-background":ColorsFactory.getBackground(e,s),"--block-link-shadow-color":this.v.colors.shadow?ColorsFactory.transparent(100-(n&&n.link&&n.link.shadow&&null!=n.link.shadow.o?n:this.theme).link.shadow.o,this.v.colors.shadow):null,"--block-link-background-digs":hexToRgb(i),"--block-link-border-color":i,"--block-link-title-color":t}))}},template:`<div class="socials" :class="'is-'+$account.locale.direction" v-if="v"> <div class="row row-small"> <div :class="{'col-shrink': v.layout == 'square', 'col-xs': v.layout != 'full', 'col-xs-12': v.layout == 'full'}" v-for="l in values.items"> <component v-bind:is="(mode == 'view')?'a':'div'" :href="link(l)" @click="click($event, l)" target="_top" :aria-label="l.t" :class="classname(l)" :style="stylesheet"> <i :class="'fa fab fa-'+l.i" v-if="!isFlat" v-html="iconPaths(l)"></i> <div v-if="v.layout == 'full'" v-html="$typography(l.t, true)" class="btn-link-title" :class="{skeleton: block.skeleton}"></div> </component> </div> </div> </div>`}),window.$app.defineComponent("frontend","vue-frontend-blocks-text",{data(){return{defaults:{text:"",text_size:"md",text_align:"left",color:"",font:""}}},props:{options:Object,theme:Object,section:Object,block:Object,mode:{default:"view"}},mixins:[BlockModel],computed:{component(){return this.isHeading?this.values.text_size:"div"},isHeading(){return"h"==this.values.text_size[0]},html(){var e="view"==this.mode?"a":"span";return this.isPlaceholder?this.$gettext("Редактировать текст"):this.$parseContacts(this.$typography(this.values.text),e)},isEmpty(){return""==this.values.text.toString().trim().replace(/<br>/g,"")},isPlaceholder(){return this.isEmpty&&"edit"==this.mode},style(){var e=_.merge({"text-align":this.values.text_align},FontsFactory.getTextStyles(this.values.text_size)),t=(this.values.color&&(e.color=this.values.color+"!important"),"h"==this.values.text_size[0]),i=this.section||this.theme,i=t&&null!=i.heading&&null!=i.heading.weight?i.heading.weight:1,t="--theme"+(t?"-heading":"");return""!==this.values.font&&Object.assign(e,{[t+"-font-family"]:FontsFactory.getFont(this.values.font,this.theme),[t+"-font-weight"]:FontsFactory.getWeight(this.values.font,i),[t+"-font-weight-bold"]:FontsFactory.getWeight(this.values.font,Math.min(i+1,2))}),this.isPlaceholder&&(e.opacity=.3),FontsFactory.check(),e}},template:`<component v-bind:is="component" class="block-text has-rtl" :class="{'is-heading': values.text_size[0] == 'h', skeleton: block.skeleton}" :style='style' v-html="html"/>`}),window.$app.defineComponent("frontend","vue-frontend-blocks-timer-tracker",{props:["time"],data:()=>({current:null,previous:null}),created(){this.update(this.time)},watch:{time(e){void 0!==e&&this.update(e)}},methods:{update(e){(e=e<0?0:e)===this.current&&null!==this.current||(this.previous=null===this.previous?e:this.current,this.current=e,this.$el&&(this.$el.classList.remove("flip"),this.$el.offsetWidth,this.$el.classList.add("flip")))}},template:'<span class="timer-piece"> <span class="timer-card"> <b class="timer-card-top">{{current}}</b> <b class="timer-card-bottom" :data-value="current"></b> <b class="timer-card-back" :data-value="previous"></b> <b class="timer-card-back-bottom" :data-value="previous"></b> </span> </span>'}),window.$app.defineComponent("frontend","vue-frontend-blocks-timer",{data:()=>({countdown:0,timer:0,time:null,i:0,trackers:["hours","minutes","seconds"],titles:{},numbers:[0,1],frame:null,withDays:!0,defaults:{type:1,timer:{1:{date:"",time:""},2:{days:"",hours:"",minutes:"",expires:""},3:{time:""}},design:{on:!1}}}),props:["options","block","block_id","page_id"],mixins:[BlockModel],watch:{values(){this.rebuild()}},created(){this.rebuild(),this.block.tariff="business",this.titles={days:this.$gettext("Дни"),hours:this.$gettext("Часы"),minutes:this.$gettext("Минуты"),seconds:this.$gettext("Секунды")},this.withDays&&this.trackers.unshift("days"),this.timer=setInterval(()=>{this.countdown&&this.countdown--},1e3),window.requestAnimationFrame&&this.update()},beforeDestroy(){window.cancelAnimationFrame&&cancelAnimationFrame(this.frame),this.timer&&clearInterval(this.timer)},computed:{classes(){var e=this.values.design;return["has-theme-"+(e.style||"dark"),"has-style-"+(e.type||"volume"),"has-place-"+(e.label&&e.label.place?e.label.place:"top")]},designStyles(){var e=this.options.design;return e&&e.on?_.filter({"--block-timer-label-color":e.label?e.label.color:null,"--block-timer-font-family":e.font?FontsFactory.getFont(e.font):null,"--block-timer-font-weight":e.font?FontsFactory.getWeight(e.font||30,e.weight||2):null}):null}},methods:{rebuild(){var e=_.merge(this.defaults,this.values,!0);switch(this.withDays=3!=e.type,parseInt(e.type)){case 1:e.tms-=this.$account.client.timestamp+3600*this.$account.utc_timezone;break;case 2:var t="timer"+this.block_id,i=Math.round(new Date/1e3),n=Cookies.get(t);e.tms=Math.min(e.tms,8639999),n?e.tms=n-i:Cookies.set(t,e.tms+i,{maxAge:i+86400*e.expires,path:e.path||"/"});break;case 3:n=Math.abs(this.$account.utc_timezone),t=new Date;t.setUTCHours(t.getUTCHours()+n),e.tms-=3600*t.getUTCHours()+60*t.getUTCMinutes()+t.getUTCSeconds()}e.tms<0&&(e.tms=0),this.countdown=e.tms},split(e){return[e/10|0,e%10]},update(){var e,t,i,n;this.frame=requestAnimationFrame(this.update.bind(this)),this.i++%10||(e=this.countdown,e=(e=(e-=86400*(t=Math.floor(e/86400)))-3600*(i=Math.floor(e/3600)))-60*(n=Math.floor(e/60)),this.time={days:this.split(t),hours:this.split(i),minutes:this.split(n),seconds:this.split(e)})}},template:'<div class="timer" :class="classes" :style="designStyles"> <div v-for="tracker in trackers"> <span class="timer-slot">{{titles[tracker]}}</span> <div v-if="time"> <vue-frontend-blocks-timer-tracker :time="time[tracker][i]" v-ref:trackers v-for="i in numbers"/> <div class="timer-dots"><em></em><em></em></div> </div> </div> </div>'}),window.$app.defineComponent("frontend","vue-frontend-blocks-video",{data(){return{player:null,isStarted:!1,provider:null,inited:!1}},props:{options:Object,mode:{default:"view"},block:Object},mixins:[BlockModel],created(){this.block.tariff="pro",this.provider=VideoHelper.getProvider(this.values,"view"==this.mode)},mounted(){$mx(this.$refs.video).on("lazy-hit",e=>{this.provider&&(null!=this.provider.t?this.values.is_autoplay&&this.start():(this.values.embeded=this.provider.embeded(this.provider.match,this.$account.language_code),this.values.handler="embeded")),this.inited=!0})},computed:{handler(){return null!=this.values.handler?this.values.handler:"embeded"},link(){return(new RegExp("[?|&]static=1","i").test(location.search)||"edit"==this.mode)&&this.values.embeded?this.values.embeded.replace("autoplay=1",""):this.values.embeded},sources(){return[{src:this.values.url,type:this.values.type}]},poster(){return this.values.poster?"//"+this.$account.storage_domain+"/p/"+this.options.poster.filename:null}},beforeDestroy(){this.player&&this.player.dispose()},methods:{start(){this.isStarted||(this.isStarted=!0,this.$nextTick(()=>{var e=["//cdn.jsdelivr.net/combine/npm/video.js@7.6.0/dist/video.min.js,npm/videojs-contrib-quality-levels@2.2.0/dist/videojs-contrib-quality-levels.min.js,npm/videojs-http-source-selector@1.1.6/dist/videojs-http-source-selector.min.js"];this.provider.s&&e.push(this.provider.s),$mx.lazy(e,"videoplayer.css",()=>{var e=[{src:this.values.url,type:"function"==typeof this.provider.t?this.provider.t(this.provider.match[1]):this.provider.t}],e={html5:{hls:{overrideNative:!0}},poster:this.values.poster,controls:!0,autoplay:!1,textTrackSettings:!1,playbackRates:[.5,1,1.5,2,4],plugins:{httpSourceSelector:{default:"auto"}},controlBar:{volumePanel:{inline:!1},liveDisplay:!0,pictureInPictureToggle:!0},sources:e};null!=this.provider.techOrder&&(e.techOrder=this.provider.techOrder),this.player=videojs(this.$refs.videoPlayer,e),this.player.play()})}))}},template:`<div :class="{'has-9x16': values.is_vertical}"> <div class="video-container lazy" :class="[provider?('is-'+provider.name):null, {'is-9x16': values.is_vertical}]" ref="video"> <iframe frameborder="0" :src="link" allowfullscreen="1" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" v-if="handler == 'embeded' && inited"></iframe> <div class="video-container-poster" :data-src="poster" @click="start" :class="{'is-started': isStarted, lazy: poster, 'lazy-force': poster && (mode == 'edit')}" v-else-if="inited"> <video ref="videoPlayer" class="video-js vjs-fill" :class="{'vjs-hidden-control-bar': values.is_autohide}" v-if="isStarted"><div class="video-container-poster-play"></div></video> <div class="video-container-poster-play" v-else></div> </div> </div> </div>`}),window.$app.defineComponent("frontend","vue-frontend-blocks-zero",{data(){return{width:375,size:64,factor:1,defaults:ZeroFactory.defaults,blockTypes:{text:{styles:["bg"]},image:{styles:[]},link:{styles:["bg"]},shape:{styles:["bg"]},rect:{styles:["bg"]},icon:{styles:["bg"]}}}},props:{options:Object,block_id:String,page_id:Number,block:Object,mode:{default:"view"},isPrepared:Boolean},mixins:[BlockModel],created(){if(!this.isPrepared){var e=this.values.layout.items;for(i=0;i<e.length;i++){e[i]=Vue.observable(_.merge(_.clone(ZeroFactory.itemDefault),{data:_.clone(ZeroFactory.getDefault(e[i])),styles:_.clone(ZeroFactory.defaultStyles)},e[i],!0));var t=e[i].c.split(",");e[i].c={x:parseInt(t[0]),y:parseInt(t[1]),w:parseInt(t[2]),h:parseInt(t[3])},"shape"===e[i].type&&(e[i].data.clip=_.chunk(e[i].data.clip.split(","),2).map(e=>({x:e[0],y:e[1]})))}}},mounted(){$mx(window).on("resize",this.checkWidth),$events.on("fontloaded",this.checkWidth),this.checkWidth(),this.$nextTick(()=>{this.checkWidth()})},beforeDestroy(){$mx(window).off("resize",this.checkWidth),$events.on("fontloaded",this.checkWidth)},computed:{stylesheets(){var e=this.values,t=e.layout;return this.size=this.width/t.cols,__.filter({"--block-zero-cell-size":this.size,"--block-zero-cols":t.cols,"--block-zero-rows":t.rows,background:isTransparentColor(ColorsFactory.getColor(e.bg))?null:ColorsFactory.getBackground(e.bg)},__.isNotNull)}},watch:{options(){this.checkWidth()},"options.is_marginless":function(){this.checkWidth()}},methods:{iconClass(e){var t=e.styles.padding,i=e.c.w-e.c.w*(t.l+t.r)/100,e=e.c.h-e.c.h*(t.t+t.b)/100;return i==e?"w h":e<i?"w":"h"},isExternal(e){return-1!=["link","phone","sms","email","vcard"].indexOf(e.type)},hasAction(e){return e.action&&"none"!=e.action.type&&"edit"!=this.mode},cellComponent(e){return this.hasAction(e)?"a":"div"},link(e){var t;if("view"==this.mode)return this.hasAction(e)?(t=this.$links.resolve(e.action),this.isExternal(e.action)?t:this.$router.resolve(t).href):null},click(e){if(this.hasAction(e)){if(!this.isAllowElement(e))return this.$emit("showBlockedMessage");var t,i=this.$links.resolve(e.action);"anchor"==e.action.type&&((t=e.action.value.split(":"))[0]==this.$page.page_filename?this.$page.scrollTo(".b-"+t[1]):$scroll.position=".b-"+t[1]),link=_.isObject(i)?this.$router.resolve(i).href:i,$events.fire("tap",{page_id:this.page_id,block_id:this.block_id,stat:this.block_id+"."+this.block.stat,data:[{event:"taplink:zero",param:link}],addons:null!=this.values.data&&null!=this.values.data.link?this.values.data.link:null}),this.isExternal(e.action)?document.location=link:this.$router.push(i)}},thumb(e){return this.$icons.prepare({t:"_i",i:e.data.icon},()=>{e.key++})},checkWidth(){this.$nextTick(()=>{var e=this.$refs.container;e&&(e=e.offsetWidth)&&(this.width=e,this.factor=e/375)})},cellStylesInner(e){var t={r:"end",l:"start",t:"start",b:"end"},e=e.styles.pos.split(" ");return{justifyContent:t[e[0]],alignContent:t[e[1]]}},cellStyles(e,t){this.blockTypes[e.type].styles;return __.filter(__.merge({gridArea:[e.c.y,e.c.x,e.c.h+e.c.y,e.c.w+e.c.x].join("/"),zIndex:t+1},{"--cell-filter":[e.styles.blur?"blur("+e.styles.blur+"px)":"",StylesFactory.isEmptyShadow(e.styles.shadow)?"":"drop-shadow("+StylesFactory.getShadow(e.styles.shadow,!0,!1,!1)+")"].join(" ")},ZeroFactory.cellBlockStyles(e,this.$account,this.size,this.factor)),__.isNotNull)},imageClass(e){var t=e.styles.pos.split(" "),t=_.map(t,(e,t)=>"is-"+e+("c"==e?"-"+(1==t?"h":"w"):""));return t.push({"is-empty":!e.data.p&&!e.data.overlay}),t},isAllowElement(e){return!(-1!=["image","rect","shape"].indexOf(e.type)&&e.data.p&&e.data.p.filename&&"basic"==this.$account.tariff_current)}},template:`<component :is="cellComponent(values)" class="block-zero-container" :class="{'has-marginless': values.is_marginless}" @click.prevent="click(values)" ref="container"> <div class="block-zero-grid" :style="stylesheets"> <div v-for="(f, i) in values.layout.items" class="cell" :class="{'has-action': hasAction(f), 'is-locked': !isAllowElement(f)}" :style="cellStyles(f, i)" :rel="hasAction(f)?$page.rel:null" :target="hasAction(f)?'_top':null" :href="link(f)" :key="f.key" v-if="f.show"> <component :is="cellComponent(f)" :class="['is-cell-'+f.type]" @click.prevent="click(f)" :style="cellStylesInner(f)"> <div v-if="f.type == 'text'" v-html="$nl2br(f.data.text)"></div> <div v-else-if="f.type == 'link'">{{f.data.title}}</div> <span v-else-if="f.type == 'image'" :data-scaled="(f.data.size < 100)?'y':'n'"><div :class="imageClass(f)"></div></span> <div v-else-if="f.type == 'icon'" v-html="thumb(f)" :class="iconClass(f)"></div> <div v-else></div> </component> </div> <slot name="addon"/> </div> </component>`}),window.$app.defineComponent("frontend","vue-frontend-brandlink",{data(){return{index:0}},computed:{brandlink(){return"https://"+this.$account.domain+"?utm_source=pages"+(this.$account.nickname?"&utm_medium="+this.$account.nickname:"")},isAllow(){this.index;var e=this.$router.currentRoute;return!(this.$account.is_hidelink||this.$account.lock_message||-1!=["part","part.index"].indexOf(e.name)&&"p"!=e.params.part)},title(){var e=this.$account.domain;return e[0].toUpperCase()+e.slice(1)}},created(){$events.on("contentupdated",()=>{this.index++})},template:`<aside v-if="isAllow"> <a :href='brandlink' target="_blank" rel="noopener" class="footer-link"> {{'Сделано на'|gettext}} <svg version="1.1" width="16px" height="16px" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 76 76" xml:space="preserve" style="fill:#000;position:relative;top:3px;margin:0 2px"> <g><path d="M38,0C17,0,0,17,0,38s17,38,38,38s38-17,38-38S59,0,38,0z M38,72C19.2,72,4,56.8,4,38S19.2,4,38,4s34,15.2,34,34S56.8,72,38,72z M57.5,38c0,1.1-0.9,2-2,2h-35c-1.1,0-2-0.9-2-2s0.9-2,2-2h35C56.6,36,57.5,36.9,57.5,38z M57.5,50c0,1.1-0.9,2-2,2h-35c-1.1,0-2-0.9-2-2s0.9-2,2-2h35C56.6,48,57.5,48.9,57.5,50z M57.5,26c0,1.1-0.9,2-2,2h-35c-1.1,0-2-0.9-2-2s0.9-2,2-2h35C56.6,24,57.5,24.9,57.5,26z"/></g> </svg> <span>{{title}}</span> </a> </aside>`}),window.$app.defineComponent("frontend","vue-frontend-captcha-form",{props:["hash"],data(){return{isUpdating:!1,inited:!1,result:["","","","","",""],fetching:-1,timer:!1,done:[]}},mounted(){let t=$mx('<img class="stat" src="/s/captcha/captcha.png?ts='+this.$account.ts+"&pid="+this.$account.profile_id+"&rn="+Math.random()+'">').load(()=>{var e=document.createElement("canvas");e.width=t[0].naturalWidth,e.height=t[0].naturalHeight;e.getContext("2d").drawImage(t[0],0,0);e=e.toDataURL("image/png");$mx(".capture > div").css({"background-image":"url("+e+")"}),t.remove(),this.inited=!0}).on("error",()=>{this.close()});t.appendTo(document.body),this.timer=setTimeout(()=>{this.close()},3e5)},beforeDestroy(){this.timer&&clearTimeout(this.timer)},methods:{updateData(){this.isUpdating=!0,this.$parent.$emit("reload"),this.close()},hit(t){this.fetching=t,$mx.request({method:"get",url:"/s/captcha/hit",json:{ts:this.$account.ts,pid:this.$account.profile_id,index:t}}).then(e=>{"success"==e.data.result&&this.done.push(t),6==this.done.length&&this.updateData(),this.fetching=-1}).catch(e=>{this.fetching=-1})},close(){this.$parent.close()}},template:`<form class="modal-card modal-card-little is-capture" @submit.prevent="updateData"> <header class="modal-card-head"> <p class="modal-card-title">{{'Вы робот?'|gettext}}</p> <button type="button" class="modal-close is-large" @click="close"></button> </header> <section class="modal-card-body"> <div class="capture" :class="{fetching: fetching != -1}"><div v-for="(v, k) in result" :class="{skeleton: !inited, in: fetching== k, done: done.indexOf(k) != -1}" :style="{'background-position': ((6-k)*100)+'%'}" @click="hit(k)"><div></div></div></div> <div style="font-size: 1.2rem">{{'Отметьте картинки в следующем порядке'|gettext}}:</div> <div><b style="letter-spacing: 5px;font-size: 1.8rem">{{hash}}</b></div> </section> <section class="modal-card-foot"> <button class="button is-primary" type="submit" :class="{'is-loading': isUpdating}" :disabled="done.length < 6">{{'Подтвердить'|gettext}}</button> </section> </form>`}),window.$app.defineComponent("frontend","vue-frontend-components-clockpicker-face",{props:{pickerSize:Number,min:Number,max:Number,double:Boolean,value:Number,faceNumbers:Array,disabledValues:Function},data(){return{isDragging:!1,inputValue:this.value,prevAngle:720}},computed:{count(){return this.max-this.min+1},countPerRing(){return this.double?this.count/2:this.count},radius(){return this.pickerSize/2},outerRadius(){return this.radius-5-20},innerRadius(){return Math.max(.6*this.outerRadius,this.outerRadius-5-40)},degreesPerUnit(){return 360/this.countPerRing},degrees(){return this.degreesPerUnit*Math.PI/180},handRotateAngle(){let e=this.prevAngle;for(;e<0;)e+=360;var t=this.calcHandAngle(this.displayedValue),t=this.shortestDistanceDegrees(e,t);return this.prevAngle+t},handScale(){return this.calcHandScale(this.displayedValue)},handStyle(){return{transform:`rotate(${this.handRotateAngle}deg) scaleY(${this.handScale})`,transition:".3s cubic-bezier(.25,.8,.50,1)"}},displayedValue(){return null==this.inputValue?this.min:this.inputValue}},watch:{value(e){e!==this.inputValue&&(this.prevAngle=this.handRotateAngle),this.inputValue=e}},methods:{isDisabled(e){return this.disabledValues&&this.disabledValues(e)},euclidean(e,t){var i=t.x-e.x,t=t.y-e.y;return Math.sqrt(i*i+t*t)},shortestDistanceDegrees(e,t){t=(t-e)%360,e=180-Math.abs(Math.abs(t)-180);return(360+t)%360<180?e:-1*e},coordToAngle(e,t){t=2*Math.atan2(t.y-e.y-this.euclidean(e,t),t.x-e.x);return Math.abs(180*t/Math.PI)},getNumberTranslate(e){var{x:e,y:t}=this.getNumberCoords(e);return`translate(${e}px, ${t}px)`},getNumberCoords(e){var t=this.isInnerRing(e)?this.innerRadius:this.outerRadius;return{x:Math.round(t*Math.sin((e-this.min)*this.degrees)),y:Math.round(-t*Math.cos((e-this.min)*this.degrees))}},getFaceNumberClasses(e){return{active:e.value===this.displayedValue,disabled:this.isDisabled(e.value)}},isInnerRing(e){return this.double&&e-this.min>=this.countPerRing},calcHandAngle(e){let t=this.degreesPerUnit*(e-this.min);return this.isInnerRing(e)&&(t-=360),t},calcHandScale(e){return this.isInnerRing(e)?this.innerRadius/this.outerRadius:1},onMouseDown(e){e.preventDefault(),this.isDragging=!0,this.onDragMove(e)},onMouseUp(){this.isDragging=!1,this.isDisabled(this.inputValue)||this.$emit("change",this.inputValue)},onDragMove(t){if(t.preventDefault(),this.isDragging||"click"===t.type){var{width:i,top:n,left:s}=this.$refs.clock.getBoundingClientRect(),{clientX:t,clientY:o}="touches"in t?t.touches[0]:t,i={x:i/2,y:-i/2},t={x:t-s,y:n-o},s=Math.round(this.coordToAngle(i,t)+360)%360,n=this.double&&this.euclidean(i,t)<(this.outerRadius+this.innerRadius)/2-16;let e=Math.round(s/this.degreesPerUnit)+this.min+(n?this.countPerRing:0);s>=360-this.degreesPerUnit/2&&(e=n?this.max:this.min),this.update(e)}},update(e){this.inputValue===e||this.isDisabled(e)||(this.prevAngle=this.handRotateAngle,this.inputValue=e,this.$emit("input",e))}},template:'<div class="b-clockpicker-face" @mousedown="onMouseDown" @mouseup="onMouseUp" @mousemove="onDragMove" @touchstart="onMouseDown" @touchend="onMouseUp" @touchmove="onDragMove"> <div class="b-clockpicker-face-outer-ring" ref="clock"> <div class="b-clockpicker-face-hand" :style="handStyle"/> <span v-for="(num, index) of faceNumbers" :key="index" class="b-clockpicker-face-number" :class="getFaceNumberClasses(num)" :style="{ transform: getNumberTranslate(num.value) }"> <span>{{ num.label }}</span> </span> </div> </div>'}),window.$app.defineComponent("frontend","vue-frontend-components-clockpicker",{props:{value:Date,pickerSize:{type:Number,default:290},hourFormat:{type:String,default:"12",validator:e=>"24"===e||"12"===e},mobileNative:{type:Boolean,default:!0},incrementMinutes:{type:Number,default:5},autoSwitch:{type:Boolean,default:!0},type:{type:String,default:"is-primary"},position:String,editable:Boolean,rounded:Boolean,disabled:Boolean,inline:Boolean,minTime:Date,maxTime:Date,placeholder:String,loading:Boolean,useHtml5Validation:{type:Boolean,default:!0},timeFormatter:{type:Function,default:(i,n)=>{{let e=i.getHours();var s=i.getMinutes(),i=i.getSeconds();let t="";return"12"===n.hourFormat&&(t=" "+(e<12?AM:PM),12<e?e-=12:0===e&&(e=12)),n.pad(e)+":"+n.pad(s)+(n.enableSeconds?":"+n.pad(i):"")+t}}}},data(){return{isSelectingHour:!0,isDragging:!1,_isClockpicker:!0,dateSelected:this.value,hoursSelected:null,minutesSelected:null,secondsSelected:null,meridienSelected:null}},watch:{value(e){this.dateSelected=e,this.checkHtml5Validity()}},computed:{computedValue:{get(){return this.dateSelected},set(e){this.dateSelected=e,this.$emit("input",e)}},hours(){var n=[],e=this.isHourFormat24?24:12;for(let i=0;i<e;i++){let e=i,t=e;this.isHourFormat24||(e=i+1,t=e,this.meridienSelected===this.AM?12===e&&(e=0):this.meridienSelected===this.PM&&12!==e&&(e+=12)),n.push({label:this.formatNumber(t),value:e})}return n},minutes(){var t=[];for(let e=0;e<60;e+=this.incrementMinutes)t.push({label:this.formatNumber(e),value:e});return t},seconds(){var t=[];for(let e=0;e<60;e+=this.incrementSeconds)t.push({label:this.formatNumber(e),value:e});return t},meridiens(){return[AM,PM]},hoursDisplay(){if(null==this.hoursSelected)return"--";if(this.isHourFormat24)return this.pad(this.hoursSelected);let e=this.hoursSelected;return this.meridienSelected===this.PM&&(e-=12),e=0===e?12:e},minutesDisplay(){return null==this.minutesSelected?"--":this.pad(this.minutesSelected)},minFaceValue(){return this.isSelectingHour&&!this.isHourFormat24&&this.meridienSelected===this.PM?12:0},maxFaceValue(){return this.isSelectingHour?this.isHourFormat24||this.meridienSelected!==this.AM?23:11:59},faceFormatter(){return this.isSelectingHour&&!this.isHourFormat24?e=>e:this.formatNumber},faceSize(){return this.pickerSize-24},faceDisabledValues(){return this.isSelectingHour?this.isHourDisabled:this.isMinuteDisabled},isMobile(){return this.mobileNative&&screen.width<768},isHourFormat24(){return"24"===this.hourFormat}},methods:{toggle(){},onClockInput(e){this.isSelectingHour?(this.hoursSelected=e,this.onHoursChange(e)):(this.minutesSelected=e,this.onMinutesChange(e))},onHoursChange(e){!this.minutesSelected&&this.defaultMinutes&&(this.minutesSelected=this.defaultMinutes),!this.secondsSelected&&this.defaultSeconds&&(this.secondsSelected=this.defaultSeconds),this.updateDateSelected(parseInt(e,10),this.minutesSelected,this.enableSeconds?this.secondsSelected:0,this.meridienSelected)},onMinutesChange(e){!this.secondsSelected&&this.defaultSeconds&&(this.secondsSelected=this.defaultSeconds),this.updateDateSelected(this.hoursSelected,parseInt(e,10),this.enableSeconds?this.secondsSelected:0,this.meridienSelected)},onSecondsChange(e){this.updateDateSelected(this.hoursSelected,this.minutesSelected,parseInt(e,10),this.meridienSelected)},updateDateSelected(t,i,n,e){if(null!=t&&null!=i&&(!this.isHourFormat24&&null!==e||this.isHourFormat24)){let e=null;this.computedValue&&!isNaN(this.computedValue)?e=new Date(this.computedValue):(e=new Date).setMilliseconds(0),e.setHours(t),e.setMinutes(i),e.setSeconds(n),this.computedValue=new Date(e.getTime())}},formatValue(e){return e&&!isNaN(e)?this.timeFormatter(e,this):null},onClockChange(e){this.autoSwitch&&this.isSelectingHour&&(this.isSelectingHour=!this.isSelectingHour)},onMeridienClick(e){this.meridienSelected!==e&&(this.meridienSelected=e,this.onMeridienChange(e))},handleOnFocus(){this.onFocus(),this.openOnFocus&&this.toggle(!0)},onChangeNativePicker(t){t=t.target.value;if(t){let e=null;this.computedValue&&!isNaN(this.computedValue)?e=new Date(this.computedValue):(e=new Date).setMilliseconds(0);t=t.split(":");e.setHours(parseInt(t[0],10)),e.setMinutes(parseInt(t[1],10)),e.setSeconds(t[2]?parseInt(t[2],10):0),this.computedValue=new Date(e.getTime())}else this.computedValue=null},formatNumber(e,t){return this.isHourFormat24||t?this.pad(e):e},onBlur(e){this.isFocused=!1,this.$emit("blur",e),this.checkHtml5Validity()},onFocus(e){this.isFocused=!0,this.$emit("focus",e)},pad(e){return(e<10?"0":"")+e},checkHtml5Validity(){if(this.useHtml5Validation&&void 0!==this.$refs[this.$data._elementRef]){var n=this.$el.querySelector(this.$data._elementRef);let e=null,t=null,i=!0;return n.checkValidity()||(e="is-danger",t=n.validationMessage,i=!1),this.isValid=i,this.$nextTick(()=>{this.parentField&&(this.parentField.type||(this.parentField.newType=e),this.parentField.message||(this.parentField.newMessage=t))}),this.isValid}},formatHHMMSS(e){var t,i=new Date(e);return e&&!isNaN(i)?(e=i.getHours(),t=i.getMinutes(),i=i.getSeconds(),this.formatNumber(e)+":"+this.formatNumber(t,!0)+":"+this.formatNumber(i,!0)):""}},template:`<div class="b-clockpicker clockpicker-container"> <div class="control has-icons-right" :class="{'is-inline-mode': !isMobile || inline}"> <vue-frontend-components-dropdown v-if="!isMobile || inline" ref="dropdown" :position="position" :disabled="disabled" :inline="inline"> <input v-if="!inline" ref="input" slot="trigger" autocomplete="off" type="text" :value="formatValue(computedValue)" :placeholder="placeholder" class="element" :loading="loading" :disabled="disabled" :readonly="!editable" :rounded="rounded" v-bind="$attrs" :use-html5-validation="useHtml5Validation" @click.native.stop="toggle(true)" @keyup.native.enter="toggle(true)" @change.native="onChangeNativePicker" @focus="handleOnFocus" @blur="onBlur() && checkHtml5Validity()"/> <div class="card" :disabled="disabled" custom> <header v-if="inline" class="card-header"> <div class="b-clockpicker-header card-header-title"> <div class="b-clockpicker-time"> <span class="b-clockpicker-btn" :class="{ active: isSelectingHour }" @click="isSelectingHour = true">{{ hoursDisplay }}</span> <span>:</span> <span class="b-clockpicker-btn" :class="{ active: !isSelectingHour }" @click="isSelectingHour = false">{{ minutesDisplay }}</span> </div> <div v-if="!isHourFormat24" class="b-clockpicker-period"> <div class="b-clockpicker-btn" :class="{ active: meridienSelected== AM }" @click="onMeridienClick(AM)">am</div> <div class="b-clockpicker-btn" :class="{ active: meridienSelected== PM }" @click="onMeridienClick(PM)">pm</div> </div> </div> </header> <div class="card-content"> <div class="b-clockpicker-body" :style="{ width: faceSize + 'px', height: faceSize + 'px' }"> <div v-if="!inline" class="b-clockpicker-time"> <div class="b-clockpicker-btn" :class="{ active: isSelectingHour }" @click="isSelectingHour = true">Hours</div> <span class="b-clockpicker-btn" :class="{ active: !isSelectingHour }" @click="isSelectingHour = false">Min</span> </div> <div v-if="!isHourFormat24 && !inline" class="b-clockpicker-period"> <div class="b-clockpicker-btn" :class="{ active: meridienSelected== AM }" @click="onMeridienClick(AM)">{{ AM }}</div> <div class="b-clockpicker-btn" :class="{ active: meridienSelected== PM }" @click="onMeridienClick(PM)">{{ PM }}</div> </div> <vue-frontend-components-clockpicker-face :picker-size="faceSize" :min="minFaceValue" :max="maxFaceValue" :face-numbers="isSelectingHour ? hours : minutes" :disabled-values="faceDisabledValues" :double="isSelectingHour && isHourFormat24" :value="isSelectingHour ? hoursSelected : minutesSelected" @input="onClockInput" @change="onClockChange"/> </div> </div> <footer v-if="$slots.default !== undefined && $slots.default.length" class="b-clockpicker-footer card-footer"> <slot/> </footer> </div> </vue-frontend-components-dropdown> <input v-else ref="input" type="time" autocomplete="off" :value="formatHHMMSS(computedValue)" :placeholder="placeholder" :loading="loading" :max="formatHHMMSS(maxTime)" :min="formatHHMMSS(minTime)" :disabled="disabled" class="element" :readonly="false" v-bind="$attrs" :use-html5-validation="useHtml5Validation" style="-webkit-appearance: none" @click.stop="toggle(true)" @keyup.enter="toggle(true)" @change="onChangeNativePicker" @focus="handleOnFocus" @blur="onBlur() && checkHtml5Validity()"/> <span class="icon is-right is-clickable" v-if="dateSelected" @click="computedValue = null"><i class="fai fa-circle-times"></i></span> </div> </div>`}),window.$app.defineComponent("frontend","vue-frontend-components-datapicker",{inheritAttrs:!1,props:{value:Date,dayNames:{type:Array,default:()=>Vue.prototype.$getDaysNames()},monthNames:{type:Array,default:()=>Vue.prototype.$getMonthsNames()},firstDayOfWeek:{type:Number,default:()=>Vue.prototype.$getFirstDayWeek()},inline:Boolean,minDate:Date,maxDate:Date,focusedDate:Date,placeholder:String,editable:Boolean,disabled:Boolean,unselectableDates:Array,unselectableDaysOfWeek:{type:Array,default:()=>[]},selectableDates:Array,dateFormatter:{type:Function,default:e=>date_format(window.i18n.formats.date,Date.parse(e)/1e3|0)},dateParser:{type:Function,default:e=>new Date(Date.parse(e))},dateCreator:{type:Function,default:()=>new Date},mobileNative:{type:Boolean,default:!0},position:String,events:Array,indicators:{type:String,default:"dots"},required:{type:Boolean,default:!1},expanded:Boolean,loading:Boolean,rounded:Boolean,autocomplete:String,maxlength:[Number,String],useHtml5Validation:{type:Boolean,default:!0}},data(){var e=this.value||this.focusedDate||this.dateCreator();return{dateSelected:this.value,focusedDateData:{month:e.getMonth(),year:e.getFullYear()},_elementRef:"input",_isDatepicker:!0,isValid:!0,isFocused:!1,newIconPack:"fa"}},computed:{listOfYears(){var t=this.maxDate?this.maxDate.getFullYear():Math.max(this.dateCreator().getFullYear(),this.focusedDateData.year)+3,i=[];for(let e=this.minDate?this.minDate.getFullYear():1900;e<=t;e++)i.push(e);return i.reverse()},isFirstMonth(){return!!this.minDate&&new Date(this.focusedDateData.year,this.focusedDateData.month)<=new Date(this.minDate.getFullYear(),this.minDate.getMonth())},isLastMonth(){var e;return!!this.maxDate&&(e=new Date(this.focusedDateData.year,this.focusedDateData.month),new Date(this.maxDate.getFullYear(),this.maxDate.getMonth())<=e)},isMobile(){return this.mobileNative&&screen.width<768},parentField(){let t=this.$parent;for(let e=0;e<3;e++)t&&!t.$data._isField&&(t=t.$parent);return t},statusType(){if(this.parentField&&this.parentField.newType){if("string"==typeof this.parentField.newType)return this.parentField.newType;for(var e in this.parentField.newType)if(this.parentField.newType[e])return e}},statusMessage(){if(this.parentField)return this.parentField.newMessage}},watch:{dateSelected(e){var t=e||this.dateCreator();this.focusedDateData={month:t.getMonth(),year:t.getFullYear()},this.$emit("input",e),this.$refs.dropdown&&(this.$refs.dropdown.isActive=!1)},value(e){this.dateSelected=e,this.isValid||null==this.$refs.input.checkHtml5Validity||this.$refs.input.checkHtml5Validity()},focusedDate(e){e&&(this.focusedDateData={month:e.getMonth(),year:e.getFullYear()})},"focusedDateData.month"(e){this.$emit("change-month",e)},"focusedDateData.year"(e){this.$emit("change-year",e)}},methods:{updateSelectedDate(e){this.dateSelected=e},onChange(e){e=this.dateParser(e);e&&!isNaN(e)?this.dateSelected=e:(this.dateSelected=null,this.$refs.input.newValue=this.dateSelected)},formatValue(e){return e&&!isNaN(e)?this.dateFormatter(e):null},decrementMonth(){this.disabled||(0<this.focusedDateData.month?--this.focusedDateData.month:(this.focusedDateData.month=11,--this.focusedDateData.year))},incrementMonth(){this.disabled||(this.focusedDateData.month<11?this.focusedDateData.month+=1:(this.focusedDateData.month=0,this.focusedDateData.year+=1))},formatYYYYMMDD(e){var t=new Date(e);return e&&!isNaN(t)?t.getFullYear()+"-"+((e=t.getMonth()+1)<10?"0":"")+e+"-"+((e=t.getDate())<10?"0":"")+e:""},onChangeNativePicker(e){e=e.target.value;this.dateSelected=e?new Date(e.replace(/-/g,"/")):null},focus(){void 0!==this.$data._elementRef&&this.$nextTick(()=>this.$el.querySelector(this.$data._elementRef).focus())},onBlur(e){this.isFocused=!1,this.$emit("blur",e),this.checkHtml5Validity()},onFocus(e){this.isFocused=!0,this.$emit("focus",e)},checkHtml5Validity(){if(this.useHtml5Validation&&void 0!==this.$refs[this.$data._elementRef]){var n=this.$el.querySelector(this.$data._elementRef);let e=null,t=null,i=!0;return n.checkValidity()||(e="is-danger",t=n.validationMessage,i=!1),this.isValid=i,this.$nextTick(()=>{this.parentField&&(this.parentField.type||(this.parentField.newType=e),this.parentField.message||(this.parentField.newMessage=t))}),this.isValid}}},template:`<div class="has-feedback datepicker-container"> <div class="datepicker" :class="{'is-expanded': expanded}"> <div class="control has-icons-right" :class="{'is-inline-mode': !isMobile || inline}"> <vue-frontend-components-dropdown v-if="!isMobile || inline" ref="dropdown" :position="position" :disabled="disabled" :inline="inline"> <input v-if="!inline" ref="input" :required="required" class="element" slot="trigger" type="text" autocomplete="off" :value="formatValue(dateSelected)" :placeholder="placeholder" :rounded="rounded" :loading="loading" :disabled="disabled" v-bind="$attrs" @change.native="onChange($event.target.value)" @focus="$emit('focus', $event)" @blur="$emit('blur', $event) && checkHtml5Validity()"/> <vue-frontend-components-dropdown-item :disabled="disabled" custom> <header class="datepicker-header"> <template v-if="$slots.header !== undefined && $slots.header.length"> <slot name="header"/> </template> <div v-else class="field has-addons"> <div class="control"> <a v-show="!isFirstMonth && !disabled" class="button" role="button" :disabled="disabled" @click.prevent="decrementMonth" @keydown.enter.prevent="decrementMonth" @keydown.space.prevent="decrementMonth"> <i class="fai fa-angle-left"></i> </a> </div> <div class="control is-expanded"> <span class="select is-fullwidth"> <select v-model="focusedDateData.month" :disabled="disabled"> <option v-for="(month, index) in monthNames" :value="index" :key="month"> {{ month }} </option> </select> </span> </div> <div class="control is-expanded"> <span class="select is-fullwidth"> <select v-model="focusedDateData.year" :disabled="disabled"> <option v-for="year in listOfYears" :value="year" :key="year"> {{ year }} </option> </select> </span> </div> <div class="control"> <a v-show="!isLastMonth && !disabled" class="button" role="button" :disabled="disabled" @click.prevent="incrementMonth" @keydown.enter.prevent="incrementMonth" @keydown.space.prevent="incrementMonth"> <i class="fai fa-angle-right"></i> </a> </div> </div> </header> <div class="datepicker-content"> <vue-frontend-components-datepicker-table v-model="dateSelected" :day-names="dayNames" :month-names="monthNames" :first-day-of-week="firstDayOfWeek" :min-date="minDate" :max-date="maxDate" :focused="focusedDateData" :disabled="disabled" :unselectable-dates="unselectableDates" :unselectable-days-of-week="unselectableDaysOfWeek" :selectable-dates="selectableDates" :events="events" :indicators="indicators" :date-creator="dateCreator" @close="$refs.dropdown.isActive = false"/> </div> <footer v-if="$slots.default !== undefined && $slots.default.length" class="datepicker-footer"> <slot/> </footer> </vue-frontend-components-dropdown-item> </vue-frontend-components-dropdown> <input v-else ref="input" type="date" :required="required" autocomplete="off" class="element" :value="formatYYYYMMDD(value)" :placeholder="placeholder" :loading="loading" :max="formatYYYYMMDD(maxDate)" :min="formatYYYYMMDD(minDate)" :disabled="disabled" v-bind="$attrs" @change="onChangeNativePicker" @focus="$emit('focus', $event)" @blur="$emit('blur', $event) && checkHtml5Validity()"/> <span class="icon is-right is-clickable" v-if="value" @click="value = null"><i class="fai fa-circle-times"></i></span> </div> </div> </div>`}),window.$app.defineComponent("frontend","vue-frontend-components-datepicker-table-row",{props:{selectedDate:Date,week:{type:Array,required:!0},month:{type:Number,required:!0},minDate:Date,maxDate:Date,disabled:Boolean,unselectableDates:Array,unselectableDaysOfWeek:Array,selectableDates:Array,events:Array,indicators:String,dateCreator:Function},methods:{selectableDate(t){var i=[];if(this.minDate&&i.push(t>=this.minDate),this.maxDate&&i.push(t<=this.maxDate),i.push(t.getMonth()===this.month),this.selectableDates)for(let e=0;e<this.selectableDates.length;e++){var n=this.selectableDates[e];if(t.getDate()===n.getDate()&&t.getFullYear()===n.getFullYear()&&t.getMonth()===n.getMonth())return!0;i.push(!1)}if(this.unselectableDates)for(let e=0;e<this.unselectableDates.length;e++){var s=this.unselectableDates[e];i.push(t.getDate()!==s.getDate()||t.getFullYear()!==s.getFullYear()||t.getMonth()!==s.getMonth())}if(this.unselectableDaysOfWeek)for(let e=0;e<this.unselectableDaysOfWeek.length;e++){var o=this.unselectableDaysOfWeek[e];i.push(t.getDay()!==o)}return i.indexOf(!1)<0},emitChosenDate(e){this.disabled||this.selectableDate(e)&&this.$emit("select",e)},eventsDateMatch(t){if(!this.events.length)return!1;var i=[];for(let e=0;e<this.events.length;e++)this.events[e].date.getDay()===t.getDay()&&i.push(this.events[e]);return!!i.length&&i},classObject(e){function t(e,t){return!(!e||!t)&&e.getDate()===t.getDate()&&e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()}return{"is-selected":t(e,this.selectedDate),"is-today":t(e,this.dateCreator()),"is-selectable":this.selectableDate(e)&&!this.disabled,"is-unselectable":!this.selectableDate(e)||this.disabled}}},template:`<div class="datepicker-row"> <template v-for="(day, index) in week"> <a v-if="selectableDate(day) && !disabled" :key="index" :class="[classObject(day), {'has-event':eventsDateMatch(day)}, indicators]" class="datepicker-cell" role="button" href="#" :disabled="disabled" @click.prevent="emitChosenDate(day)" @keydown.enter.prevent="emitChosenDate(day)" @keydown.space.prevent="emitChosenDate(day)"> {{ day.getDate() }} <div class="events" v-if="eventsDateMatch(day)"> <div class="event" :class="event.type" v-for="(event, index) in eventsDateMatch(day)" :key="index"/> </div> </a> <div v-else :key="index" :class="classObject(day)" class="datepicker-cell"> {{ day.getDate() }} </div> </template> </div>`}),window.$app.defineComponent("frontend","vue-frontend-components-datepicker-table",{props:{value:Date,dayNames:Array,monthNames:Array,firstDayOfWeek:Number,events:Array,indicators:String,minDate:Date,maxDate:Date,focused:Object,disabled:Boolean,dateCreator:Function,unselectableDates:Array,unselectableDaysOfWeek:Array,selectableDates:Array},computed:{visibleDayNames(){var e=[];let t=this.firstDayOfWeek;for(;e.length<this.dayNames.length;){var i=this.dayNames[t%this.dayNames.length];e.push(i),t++}return e},hasEvents(){return this.events&&this.events.length},eventsInThisMonth(){if(!this.events)return[];var i=[];for(let t=0;t<this.events.length;t++){let e=this.events[t];(e=e.hasOwnProperty("date")?e:{date:e}).hasOwnProperty("type")||(e.type="is-primary"),e.date.getMonth()===this.focused.month&&e.date.getFullYear()===this.focused.year&&i.push(e)}return i}},methods:{updateSelectedDate(e){this.$emit("input",e)},weekBuilder(t,e,i){var n=new Date(i,e),s=[],o=new Date(i,e,t).getDay(),r=o>=this.firstDayOfWeek?o-this.firstDayOfWeek:7-this.firstDayOfWeek+o;let a=1;for(let e=0;e<r;e++)s.unshift(new Date(n.getFullYear(),n.getMonth(),t-a)),a++;s.push(new Date(i,e,t));let l=1;for(;s.length<7;)s.push(new Date(i,e,t+l)),l++;return s},weeksInThisMonth(i,e){var n=[],t=new Date(e,i+1,0).getDate();let s=1;for(;s<=t+6;){var o=this.weekBuilder(s,i,e);let t=!1;o.forEach(e=>{e.getMonth()===i&&(t=!0)}),t&&n.push(o),s+=7}return n},eventsInThisWeek(e,i){if(!this.eventsInThisMonth.length)return[];var n=[],s=[],s=this.weeksInThisMonth(this.focused.month,this.focused.year);for(let t=0;t<s[i].length;t++)for(let e=0;e<this.eventsInThisMonth.length;e++)this.eventsInThisMonth[e].date.getTime()===s[i][t].getTime()&&n.push(this.eventsInThisMonth[e]);return n}},template:`<section class="datepicker-table"> <header class="datepicker-header"> <div v-for="(day, index) in visibleDayNames" :key="index" class="datepicker-cell"> {{ day }} </div> </header> <div class="datepicker-body" :class="{'has-events':hasEvents}"> <vue-frontend-components-datepicker-table-row v-for="(week, index) in weeksInThisMonth(focused.month, focused.year)" :key="index" :selected-date="value" :week="week" :month="focused.month" :min-date="minDate" :max-date="maxDate" :disabled="disabled" :unselectable-dates="unselectableDates" :unselectable-days-of-week="unselectableDaysOfWeek" :selectable-dates="selectableDates" :events="eventsInThisWeek(week, index)" :indicators="indicators" :date-creator="dateCreator" @select="updateSelectedDate"/> </div> </section>`}),window.$app.defineComponent("frontend","vue-frontend-components-document",{props:{value:Object,skeletons:{default:[]}},methods:{classes(e,t){var i=[];return null!=e.tunes&&null!=e.tunes.alignment&&(e=e.tunes.alignment.alignment,i.push("has-text-"+({center:"centered"}[e]||e))),i},html(e){return e&&e.toString().replace(/<a.*?href="(.*?)".*?>(.*?)<\/a>/g,(e,t,i)=>"#"==t.substr(0,1)?`<a onclick="scrollIt('${t}', 'y', $mx(this).closest('.help-container')[0])">${i}</a>`:`<a href="${t}" target="_blank">${i}</a>`)}},template:`<div class="document document-view small-images"> <div v-for="(b, i) in value.blocks" class="ce-block" :class="['is-'+b.type, {'is-first-child': i== 0, 'is-last-child': i== value.blocks.length - 1, 'skeleton skeleton-all': skeletons.indexOf(b.id) != -1}]"> <div class="ce-block__content"> <p v-if="b.type == 'paragraph'" class="ce-paragraph" :class="classes(b, i)" v-html="html(b.data.text)"/> <component v-if="b.type == 'header'" v-bind:is="'h'+b.data.level" :id="b.data.anchor" v-html="html(b.data.text)" class="ce-header" :class="classes(b, i)"/> <div v-if="b.type == 'image'" :class="{'has-bordered': b.data.withBorder, 'has-stretched': b.data.stretched, 'has-background': b.data.withBackground}"> <div class="doc-image" :data-size="(b.data.files != undefined)?b.data.files.length:1"> <img v-if="b.data.file != undefined" :src="b.data.file.url" :alt="b.data.caption" style="cursor: default" @click="showLightboxPicture(b.data.file.url)"> <img v-for="p in b.data.files" :src="p.url" :alt="b.data.caption" @click="showLightboxPicture(p.url)" :class="(p.width> p.height)?'is-horizontal':'is-vertical'"> </div> </div> <component v-if="b.type == 'list'" v-bind:is="(b.data.style == 'ordered')?'ol':'ul'"><li v-for="item in b.data.items" v-html="html(item)"/></component> <div v-if="b.type == 'avatar'" class="ce-avatar"> <img :width="b.data.size+'px'" :height="b.data.size+'px'" :src="'//{1}{2}'|format(account.storage_domain, account.avatar.url)"> <div v-if="b.data.title" style="line-height: 2">{{b.data.title}}</div> <div v-if="b.data.subtitle" style="color:#a6a6a6;line-height: 1.2">{{b.data.subtitle}}</div> </div> <div v-if="b.type == 'button'" v-html="b.data.html"></div> <div v-if="b.type == 'embed'"> <div v-if="['vimeo', 'youtube'].indexOf(b.data.service) != -1" class="video-container"> <iframe :src="b.data.embed" frameborder="0" allowtransparency="true" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe> </div> </div> <div v-if="b.type == 'alert'" :class="'cdx-alert cdx-alert-'+b.data.type" v-html="html(b.data.message)"></div> <div v-if="b.type == 'delimiter'" class="ce-delimiter"></div> <pre v-if="b.type == 'code'" class="highlightjs" :class="'lang-'+b.data.language">{{b.data.code}}</pre> <blockquote v-if="b.type == 'quote'" v-html="html(b.data.text)"></blockquote> <table class="doc-table" :class="{'with-headings': b.data.withHeadings}" v-if="b.type == 'table'"> <tbody> <tr v-for="tr in b.data.content"><td v-for="td in tr" v-html="html($nl2br(td))"></td></tr> </tbody> </table> <div v-if="b.type == 'zeroblock'" v-html="html(b.data.html)" style="margin: 0 -15px"/> <vue-frontend-blocks-video v-if="b.type == 'video'" :options='{"url": b.data.url, "type": b.data.type, "handler": "player", "is_autoplay": false, "is_autohide": false, "poster": b.data.poster}' :block="{}"/> </div> </div> </div>`}),window.$app.defineComponent("frontend","vue-frontend-components-dropdown-item",{props:{value:{type:[String,Number,Boolean,Object,Array,Function],default:null},separator:Boolean,disabled:Boolean,custom:Boolean,paddingless:Boolean,hasLink:Boolean,ariaRole:{type:String,default:""}},computed:{anchorClasses(){return{"is-disabled":this.$parent.disabled||this.disabled,"is-paddingless":this.paddingless,"is-active":null!==this.value&&this.value===this.$parent.selected}},itemClasses(){return{"dropdown-item":!this.hasLink,"is-disabled":this.disabled,"is-paddingless":this.paddingless,"is-active":null!==this.value&&this.value===this.$parent.selected,"has-link":this.hasLink}},ariaRoleItem(){return"menuitem"===this.ariaRole||"listitem"===this.ariaRole?this.ariaRole:null},isClickable(){return!(this.$parent.disabled||this.separator||this.disabled||this.custom)}},methods:{selectItem(){this.isClickable&&(this.$parent.selectItem(this.value),this.$emit("click"))}},created(){if(!this.$parent.$data._isDropdown)throw this.$destroy(),new Error("You should wrap bDropdownItem on a bDropdown")},template:'<hr v-if="separator" class="dropdown-divider"> <a v-else-if="!custom && !hasLink" class="dropdown-item" :class="anchorClasses" @click="selectItem" :role="ariaRoleItem"> <slot/> </a> <div v-else :class="itemClasses" @click="selectItem" :role="ariaRoleItem"> <slot/> </div>'}),window.$app.defineComponent("frontend","vue-frontend-components-dropdown",{props:{value:{type:[String,Number,Boolean,Object,Array,Function],default:null},disabled:Boolean,hoverable:Boolean,inline:Boolean,position:{type:String,validator(e){return-1<["is-top-right","is-top-left","is-bottom-left"].indexOf(e)}},mobileModal:{type:Boolean,default:!0},ariaRole:{type:String,default:""},animation:{type:String,default:"fade"}},data(){return{selected:this.value,isActive:!1,_isDropdown:!0}},computed:{rootClasses(){return[this.position,{"is-disabled":this.disabled,"is-hoverable":this.hoverable,"is-inline":this.inline,"is-active":this.isActive||this.inline,"is-mobile-modal":this.isMobileModal}]},isMobileModal(){return this.mobileModal&&!this.inline&&!this.hoverable},ariaRoleMenu(){return"menu"===this.ariaRole||"list"===this.ariaRole?this.ariaRole:null}},watch:{value(e){this.selected=e},isActive(e){this.$emit("active-change",e)}},methods:{selectItem(e){this.selected!==e&&(this.$emit("change",e),this.selected=e),this.$emit("input",e),this.isActive=!1},isInWhiteList(e){if(e===this.$refs.dropdownMenu)return!0;if(e===this.$refs.trigger)return!0;if(void 0!==this.$refs.dropdownMenu)for(const t of this.$refs.dropdownMenu.querySelectorAll("*"))if(e===t)return!0;if(void 0!==this.$refs.trigger)for(const i of this.$refs.trigger.querySelectorAll("*"))if(e===i)return!0;return!1},clickedOutside(e){this.inline||this.isInWhiteList(e.target)||(this.isActive=!1)},toggle(){this.disabled||this.hoverable||(this.isActive?this.isActive=!this.isActive:this.$nextTick(()=>{this.isActive=!this.isActive}))}},created(){"undefined"!=typeof window&&document.addEventListener("click",this.clickedOutside)},beforeDestroy(){"undefined"!=typeof window&&document.removeEventListener("click",this.clickedOutside)},template:'<div class="dropdown" :class="rootClasses"> <div v-if="!inline" role="button" ref="trigger" class="dropdown-trigger" @click="toggle" aria-haspopup="true"> <slot name="trigger"/> </div> <transition :name="animation"> <div v-if="isMobileModal" v-show="isActive" class="background" :aria-hidden="!isActive"/> </transition> <transition :name="animation"> <div v-show="(!disabled && (isActive || hoverable)) || inline" ref="dropdownMenu" class="dropdown-menu" :aria-hidden="!isActive"> <div class="dropdown-content" :role="ariaRoleMenu"> <slot/> </div> </div> </transition> </div>'}),window.$app.defineComponent("frontend","vue-frontend-components-fileupload",{props:{accept:String,disabled:Boolean,multiple:Boolean,value:Array,options:Object},data(){return{dropFile:null,dragDropFocus:!1,keyComponent:0,message:""}},created(){this.value||(this.value=[])},watch:{value:{handler(){this.$emit("input",this.value)},deep:!0}},computed:{maxAmount(){return this.options.limits.amount}},methods:{icon(e){return this.$icons.get(mimetype(e),()=>{this.keyComponent++})},updateDragDropFocus(e){this.dragDropFocus=e},humanSize(e){let t=0;for(;1024<=e;)e/=1024,t++;return e.toFixed(0)+" "+["B","KB","MB","GB"][t]},deleteFile(e){(this.value[e].file_id||this.value[e].error)&&this.value.splice(e,1)},percent(e,t=2){return(e.progress/e.filesize*100).toFixed(t)},dropFilesChanged(e){if(this.message="",window.File&&window.FormData){e=e.target.files||e.dataTransfer.files;let n=[];_.each(e,(e,t)=>{var i;this.value.length<this.maxAmount&&(e.size>1024*Math.min(this.options.limits.maxsize,256)*1024?this.message=this.$gettext("Максимальный размер файла: %s").replace("%s",this.options.limits.maxsize)+" MB":(i={filename:e.name,progress:0,filesize:e.size},this.value.push(i),n.push({file:e,o:i})))}),this.$api.get("upload/prepare",{params:{profile_id:this.$account.profile_id,ts:this.$account.ts}}).then(t=>{"success"==t.result?_.each(n,i=>{var e=new FormData;e.append("file",i.file);const n=new XMLHttpRequest;n.withCredentials=!0,n.onreadystatechange=e=>{var t,e="Unknow error:"+JSON.stringify(e);n.readyState===XMLHttpRequest.DONE&&(200===n.status?"success"==(t=JSON.parse(n.responseText)).result?(this.$set(i.o,"file_id",t.response.file_id),this.$delete(i.o,"progress")):this.$set(i.o,"error",t.message||e):this.$set(i.o,"error",e))},n.upload&&(n.upload.onprogress=e=>{e.lengthComputable&&(i.o.progress=e.loaded,i.o.filesize=e.total)}),n.open("POST",t.response.url,!0),n.send(e)}):_.each(n,e=>{this.$set(e.o,"error",t.result)})})}else alert("The File APIs are not fully supported in this browser");this.dragDropFocus||(this.$refs.input.value=null),this.dragDropFocus=!1}},template:`<div class="fileupload-field" :key="keyComponent"> <transition name="fade"><div class="message is-danger" v-if="message"><div class="message-body has-text-centered">{{message}}</div></div></transition> <div v-for="(f, i) in value" class="file element" tabindex="0" :class="{'is-done': f.file_id, 'is-error': f.error, 'is-uploading': !f.file_id && !f.error}"> <div class="is-icon" v-html="icon(f)"></div> <div class="is-title"> <div class="t">{{f.filename}}</div> <div class="d" v-if="f.error">{{f.error}}</div> <div class="d" v-else><span v-if="f.progress">{{humanSize(f.progress)}} /</span> {{humanSize(f.filesize)}}</div> <transition name="fade"> <div class="progress" v-if="!f.file_id"><div :style="{width: percent(f)+'%'}" :class="{'is-done': f.progress == f.filesize}"></div></div> </transition> </div> <div class="control"><div class="percent"><span v-if="!f.file_id">{{percent(f, 0)}}%</span></div><span class="control-icon" @click="deleteFile(i)" v-if="!disabled"></span></div> </div> <div v-if="!disabled && (value.length < maxAmount)" class="upload element" tabindex="0" :class="{'is-hover': dragDropFocus}" @drop.prevent="dropFilesChanged" @dragover.prevent="updateDragDropFocus(true)" @dragleave.prevent="updateDragDropFocus(false)" @dragenter.prevent="updateDragDropFocus(true)"> <div class="empty"><i class="fab fa-upload has-mr-1"></i>{{'Перетащите или выберите файлы'|gettext}}</div> <input ref="input" type="file" :multiple="multiple" :accept="accept" :disabled="disabled" @change="dropFilesChanged" v-if="!dragDropFocus"> </div> </div>`}),window.$app.defineComponent("frontend","vue-frontend-components-userfield",{props:["value","disabled"],template:`<div class="input user-field element" :class="{disabled: disabled}" tabindex="0" @focus="$emit('focus')" @blur="$emit('blur')"> <dt><dd :class="{'is-fetching-block': !value}"></dd><span><span :class="{'is-fetching-block': !value}">{{value?value.email:'AAAAAAAAAA'}}</span></span></dt> <a @click="$emit('logout')" tabindex="0" v-if="value"></a> </div>`}),window.$app.defineComponent("frontend","vue-frontend-components-verifyfield",{data(){return{code:["","","","","",""]}},props:{value:String,disabled:Boolean,type:{type:String,default:"text"}},watch:{code(){this.value=this.code.join(""),this.$emit("input",this.value)}},created(){for(i=0;i<this.value.length;i++)this.code[i]=this.value[i]},mounted(){this.focus()},methods:{reset(){for(i=0;i<this.code.length;i++)this.$set(this.code,i,"")},focus(){this.$refs.c0[0].focus()},isAndroid(){return navigator&&/android/i.test(navigator.userAgent)},textInput(e,t){this.isAndroid()&&(null!=e.data&&(e.keyCode=e.data.charCodeAt(0)),this.keydown(e,t,!0))},paste(e,t){if(this.disabled)return e.preventDefault();var i=e.clipboardData.getData("text").toLowerCase().replace(/[^a-z0-9]/g,"");for(j=0;j<Math.min(this.code.length-t,i.length);j++)this.$set(this.code,t+j,i[j]);this.$refs["c"+(j-1)][0].focus()},keydown(e,t,i){if(8==e.keyCode)this.$set(this.code,t,""),t&&this.$refs["c"+(t-1)][0].focus();else{if(this.isAndroid()&&!i)return;if(13==e.keyCode||this.disabled||e.metaKey||e.ctrlKey)return;switch((37==e.keyCode||e.shiftKey&&9==e.keyCode)&&t&&this.$refs["c"+(t-1)][0].focus(),(39==e.keyCode||!e.shiftKey&&9==e.keyCode)&&t<this.code.length-1&&this.$refs["c"+(t+1)][0].focus(),this.type){case"text":if(97<=e.keyCode&&e.keyCode<=122||65<=e.keyCode&&e.keyCode<=90||48<=e.keyCode&&e.keyCode<=57)break;return e.preventDefault();case"tel":if(48<=e.keyCode&&e.keyCode<=57)break;return e.preventDefault()}this.$set(this.code,t,String.fromCharCode(e.keyCode).toLowerCase()),t<this.code.length-1&&this.$refs["c"+(t+1)][0].focus()}e.preventDefault(),this.$emit("keydown",e)}},template:`<div class="row row-small verifyfield"> <div class="col-xs-2" v-for="(v, i) in code"><input :type="type" v-model="v" class="input is-large input-code" autocomplete='off' @textInput="textInput($event, i)" @keydown="keydown($event, i)" :ref="'c'+i" @paste.prevent="paste($event, i)" :disabled="disabled" placeholder="0"></input></div> </div>`}),window.$app.defineComponent("frontend","vue-frontend-dialog",{data(){return{buttons:{info:"is-primary",danger:"is-danger"}}},props:{title:String,text:String,type:{default:"info"},confirm:Function},methods:{response(e){this.$parent.close(),this.confirm(e)}},template:`<div class="modal-card modal-card-little" style="max-width: 370px;margin: 0 auto"> <section class="modal-card-body has-text-centered"> <div :class="'modal-icon is-'+type+' has-mt-2 has-mb-2'"><div> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" style="width: 2rem"><path d="M256 0C114.6 0 0 114.6 0 256s114.6 256 256 256s256-114.6 256-256S397.4 0 256 0zM256 480c-123.5 0-224-100.5-224-224s100.5-224 224-224s224 100.5 224 224S379.5 480 256 480zM256 304c8.844 0 16-7.156 16-16V128c0-8.844-7.156-16-16-16S240 119.2 240 128v160C240 296.8 247.2 304 256 304zM256 344c-13.25 0-24 10.75-24 24s10.75 24 24 24s24-10.75 24-24S269.3 344 256 344z"/></svg> </div></div> <h4>{{title|gettext}}</h4> <p>{{text|gettext}} </section> <footer class="modal-card-foot" style="border-top: 0"> <div v-if="confirm" style="flex:1;display:flex"> <button class="button is-medium is-fullwidth is-clear" type="button" @click="response(0)">{{'Нет'|gettext}}</button> <button class="button is-medium is-fullwidth" :class="buttons[type]" type="button" @click="response(1)">{{'Да'|gettext}}</button> </div> <button class="button is-medium is-fullwidth" :class="buttons[type]" type="button" @click="$parent.close()" v-else>{{'Закрыть'|gettext}}</button> </footer> </div>`}),window.$app.defineComponent("frontend","vue-frontend-form-complete-modal",{props:{isOpened:Boolean,message:String},template:`<div class="modal-card modal-card-little"> <section class="modal-card-body"> <div class="has-text-centered"> <div class="has-mb-2"> <div class="sa-icon sa-success animate" style="display: block;"> <span class="sa-line sa-tip animateSuccessTip"></span> <span class="sa-line sa-long animateSuccessLong"></span> <div class="sa-placeholder"></div> <div class="sa-fix"></div> </div> </div> <h4 v-html="$nl2br($escape(message))"></h4> </div> </section> <div class="modal-card-foot" style="justify-content: center"> <button type="button" class="button is-secondary" @click="$parent.close">{{'Закрыть'|gettext}}</button> </div> </div>`}),window.$app.defineComponent("frontend","vue-frontend-form-elements",{props:{fields:Array,errors:Object,isLoading:Boolean,checkDepends:Boolean,block_id:String,mode:{default:"view"},needUser:Boolean,disabled:Boolean,form_btn:String,allowCompactMode:{type:Boolean,default:!0}},data(){return{focused:null,userFieldIndex:null,keyComponent:0,types:{1:"text",3:"name",5:"textarea",6:"email",7:"phone",8:"select",9:"radio",10:"checkbox",11:"country",12:"number",13:"date",14:"time",100:"code"}}},mounted(){this.rebuildValues(),null==this.block_id&&(this.block_id=Date.now().toString(36)+Math.random().toString(36).substring(2)),$events.on("userauth",this.onUserAuth),$events.on("userlogout",this.clearUser)},beforeDestoyed(){$events.off("userauth",this.onUserAuth),$events.off("userlogout",this.clearUser)},watch:{fields(){this.rebuildValues()}},computed:{d(){return null!=this.$account.readonly&&this.$account.readonly||this.isLoading||this.disabled}},methods:{input(){this.$emit("update:fields",this.fields),this.$emit("input",this.fields)},onUserAuth(e,t){if(t){for(i=0;i<this.fields.length;i++)if(3==this.fields[i].type_id){this.fields[i].value=this.$auth.user.name;break}}else this.clearUser();this.keyComponent++},buttonTitle(e){return e.title||this.form_btn||this.$gettext("Отправить")},clearUser(){this.userFieldIndex&&(__.each(this.fields,e=>{switch(this.type(e)){case"user":e.typename="email",e.value="";break;case"name":e.value=""}}),this.userFieldIndex=null)},logout(){this.$modal("vue-frontend-dialog",{title:this.$format(this.$gettext("Вы авторизованы как {1}. Вы хотите выйти и оформить заявку на другой аккаунт?"),this.$auth.user.email),type:"danger",confirm:e=>{e&&this.$auth.logout()}})},type(e){return e.typename||this.types[e.type_id]},rebuildValues(){this.userFieldIndex=null,__.each(this.fields,(i,e)=>{switch(void 0===i.value&&this.$set(i,"value",null),this.type(i)){case"checkbox":i.default&&(i.value=1);break;case"country":$mx.lazy("countries."+i18n.locale+".js",()=>{i.variants=__.sortBy(__.filter(__.map(i18n.counties,(e,t)=>null!=i.ids&&i.ids.length&&-1==i.ids.indexOf(parseInt(t))?null:__.isObject(e)?e:{k:t,v:e})),"v"),i.nulltitle="-- "+this.$gettext("Выберите страну")+" --",this.$set(i,"typename","select")});break;case"user":this.userFieldIndex=e;break;case"name":this.$auth.inited&&(i.value=this.$auth.user.name);break;case"email":this.needUser&&null===this.userFieldIndex&&"view"==this.mode&&(i.typename="user",this.userFieldIndex=e,this.$auth.inited||this.$auth.loadData())}})},prepareVariants(e){return _.isString(e)?e.split("\n"):e},prepareSelect(e){return __.map(__.isString(e)?e.split("\n"):e,(e,t)=>__.isObject(e)?e:{k:e,v:e})},checkFieldDepends(e){return null==e.depends_name||!this.checkDepends||this.checkDepends(e)||null!=this.fields[e.depends_name]&&-1!=e.depends_value.indexOf(this.fields[e.depends_name].value)},input_type(e){let t="text";return t=-1!=["password","number","email"].indexOf(this.type(e))?this.type(e):t},clickParagraph(e){if(e.target&&"A"==e.target.tagName.toUpperCase()&&"view"==this.mode){var t=$mx(e.target);if("_blank"==t.attr("target"))return;t=t.data();t.component&&$events.fire("component:show",{name:t.component,data:t})}e.preventDefault()},alert(e){this.$modal("vue-frontend-dialog",{title:e,type:"danger"})},reset(){for(i in this.fields)this.fields[i].value=null;this.input()},getFields(){let t=!0;var n=[];for(i in this.fields){var s=this.fields[i];if(this.checkFieldDepends(s)){var o=this.type(s);let e=null==s.value?null:s.value;if(-1==["paragraph","button"].indexOf(o)){switch(o){case"date":e=e?date_format("d.m.Y",e/1e3|0):"";break;case"user":e=this.$auth.user.email+";"+this.$auth.user.hs;break;case"time":e=e?date_format("H:i",e/1e3|0):"";break;default:switch(typeof s.value){case"number":case"boolean":break;default:e=e&&e.toString().trim()}}if(s.required&&!e){this.alert(this.$gettext("Необходимо заполнить поле")),t=!1;break}if("phone"==o&&!s.valid&&e||!e&&s.required){this.alert(this.$gettext("Введите корректный номер телефона")),t=!1;break}if("email"==o&&!s.valid&&e||!e&&s.required)if(!/^(([^а-я<>()[\]\\.,;:\s@\"]+(\.[^а-я<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)){this.alert(this.$gettext("Введите корректный email")),t=!1;break}n[i]=__.filter({type:null==s.type_id?null:s.type_id,value:e||"",idx:null==s.idx?null:s.idx,name:null==s.name?null:s.name},__.isNotNull)}}}return t?n:null}},template:`<div class="has-rtl" :key="keyComponent"> <div v-for="(field, idx) in fields" v-if="checkFieldDepends(field)" :data-a="type(field)" :data-b="field.value" :data-c="$auth.user"> <div v-if="type(field) == 'button'" class="form-field"><button type="submit" class="button btn-link btn-link-title" :class="{'is-loading': isLoading}">{{buttonTitle(field)}}</button></div> <div v-else-if="type(field) == 'paragraph'" class="form-field form-field-paragraph has-mt-2" style="font-size:.9em" v-html="field.text" @click="clickParagraph"></div> <div v-else class="form-field" :class="{'is-focused': focused== idx, 'is-empty': __.isEmpty(field.value) && (type(field) != 'user'), 'has-label': !__.isEmpty(field.title), 'has-error': errors && errors[idx], 'has-compacted-mode': ['name', 'text', 'email', 'number', 'password', 'select', 'country', 'date', 'time', 'textarea', 'phone', 'user', 'code', 'file'].indexOf(type(field)) != -1 && allowCompactMode}" :data-type="type(field)" :data-t="typeof(field.value)"> <div v-if="type(field) == 'checkbox'" class="checkbox-list"> <label class="checkbox"> <input type="checkbox" :checked="field.default" v-model="field.value" @input="input" :required="field.required == 1" :disabled="d"> {{field.title}}<sup class="required" v-if="field.required">*</sup> </label> <div class="form-field-desc" v-if="field.text">{{field.text}}</div> </div> <label v-else-if="field.title" class="label" :class="{'is-marginless': type(field) == 'radio'}" :for="block_id+'fid'+idx">{{field.title}}<sup class="required" v-if="field.required == 1">*</sup></label> <div v-if="(type(field) != 'checkbox') && field.text" class="form-field-desc">{{field.text}}</div> <vue-frontend-components-userfield v-model="$auth.user" @input="input" @logout="logout" v-if="(type(field) == 'user')" @focus="focused = idx" @blur="focused = null" :disabled="d"/> <input class="element" v-if="['name', 'text', 'email', 'number', 'password'].indexOf(type(field)) != -1" :placeholder="field.placeholder" :name="field.name" @input="input" :type="input_type(field)" :disabled="d || field.disabled" v-model="field.value" :required="field.required == 1" :id="block_id+'fid'+idx" @focus="focused = idx" @blur="focused = null" maxlength="256"> <input class="element" v-if="type(field) == 'code'" :name="type(field)" @input="input" :type="input_type(field)" :disabled="d" v-model="field.value" :required="field.required == 1" :id="block_id+'fid'+idx" @focus="focused = idx" @blur="focused = null" maxlength="16" v-mask="{transform: 'upper', preg: 'A-ZА-Я0-9-_'}"> <mx-phone v-if="type(field) == 'phone'" :name="type(field)" @input="input" v-model="field.value" :disabled="d" :required="field.required == 1" :isValid.sync="field.valid" :id="block_id+'fid'+idx" :title="'Страна'|gettext" @focus="focused = idx" @blur="focused = null" classname="element"/> <textarea v-if="type(field) == 'textarea'" rows="4" :disabled="d" @input="input" :placeholder="field.placeholder" v-model="field.value" :required="field.required == 1" :id="block_id+'fid'+idx" class="element autoresize-init" @focus="focused = idx" @blur="focused = null" maxlength="4096"/> <div class="select" v-if="type(field) == 'select'"><select class="element" @input="input" v-model="field.value" :required="field.required == 1" :disabled="d || field.disabled" @focus="focused = idx" @blur="focused = null"> <option :value="null" v-if="field.nulltitle">{{field.nulltitle}}</option> <option :value="null" v-else-if="field.default == undefined">-- {{'Не выбрано'|gettext}} --</option> <option v-for="v in prepareSelect(field.variants)" :value="v.k" v-if="v.v != ''">{{v.v}}</option> </select></div> <div class="select" v-if="type(field) == 'country'"><select class="element" disabled><option v-if="field.nulltitle">{{field.nulltitle}}</option><option v-else>-- {{'Не выбрано'|gettext}} --</option></select></div> <vue-frontend-components-datapicker v-if="(type(field) == 'date') && (mode != 'edit')" @input="input" v-model='field.value' :required="field.required == 1" :disabled="d || field.disabled" :id="block_id+'fid'+idx" @focus="focused = idx" @blur="focused = null"/> <vue-frontend-components-clockpicker v-if="(type(field) == 'time') && (mode != 'edit')" @input="input" v-model="field.value" :disabled="d || field.disabled" hour-format="24" :id="block_id+'fid'+idx" @focus="focused = idx" @blur="focused = null"/> <vue-frontend-components-fileupload v-if="type(field) == 'file'" v-model="field.value" @input="input" :multiple="true" :disabled="d" :options="field.options" @focus="focused = idx" @blur="focused = null"/> <input v-if="(mode == 'edit') && (['date', 'time'].indexOf(type(field)) != -1)" type="text" class="element"> <div class="radio-list" v-if="type(field) == 'radio'"> <label v-for="v in prepareVariants(field.variants)" class="radio"> <input type="radio" :value="v" :disabled="d" @change="input" v-model="field.value" :required="field.required == 1" :name="'b{1}f{2}'|format(block_id, idx)">{{v}} </label> </div> <p class="help is-danger" v-if="errors && errors[idx]">{{errors[idx]}}</p> </div> </div> </div>`}),window.$app.defineComponent("frontend","vue-frontend-index",{data(){return{inited:!1,keyComponent:0,indexHTML:0,needAuth:null,dynamicComponent:{name:null,data:null}}},computed:{showHTML(){return this.$account.html&&(null==this.$account.cookies||0==this.$account.cookies.length)},pageClasses(){var e=[];return this.options&&(e.push("max-page-container-"+(this.options.max_width||"lg")),null!=this.options.valign)&&e.push("page-valign-"+this.options.valign),e}},created(){$scroll.init();let i=!1;var e;null!=this.$account.addons&&null!=this.$account.addons.codes&&_.each(this.$account.addons.codes,t=>{var e=e=>{t.html&&(this.$account.html+=t.html),t.link&&$mx.lazy(t.link),t.cb&&window[t.cb](e)};(i|=null!=this.$account.cookies&&null!=t.cookie)?this.$account.cookies.push([t.cookie,e,t.data]):e(t.data)}),i||($events.fire("navigate",{path:document.location.pathname}),$events.fire("pageview",{page_id:this.$page.page_id,profile_id:this.$account.profile_id})),$events.on("userauth",this.onUserAuth),$events.on("component:show",this.showComponent),document.location.search&&!this.$auth.user&&(e=new URLSearchParams(document.location.search),this.needAuth=e.get("auth"),this.needAuth)&&this.$auth.loadData()},mounted(){this.reduildStyles(),$mx(this.$el).closest(".main-theme").addClass(StylesFactory.getPageClasses(this.$account).join(" ")),this.inited=!0},beforeDestroy(){$events.off("userauth",this.onUserAuth)},methods:{reduildStyles(){StylesFactory.updateCSSBlock(this.$account.styles,this.$refs.styles)},showComponent(e,t){$app.loadComponent(t.name).then(()=>{this.dynamicComponent=t,this.$nextTick(()=>{var e=this.$refs.dynamicComponent;e&&e.show(t.data)})})},transferCookies(e){console.log(e),e.host},onUserAuth(e,t){!this.needAuth||t&&t.email==this.needAuth||(Vue.prototype.$modal("vue-frontend-auth-form",{login:this.needAuth,withClose:!0}),this.needAuth=null)}},template:`<div class="page-background" :class="'is-device-'+$device.class"> <div class="page-background-overlay"> <div ref='styles'></div> <div class="page-background-extended" v-if="inited && i18n.inited"> <div v-if="$account.theme && $account.theme.extended" class="page-background-extended-items"><div v-for="a in $account.theme.extended.items" v-html="a.html"></div></div> <vue-frontend-blocks-menu v-if="$account.menu" v-model="$account.menu" mode="view"/> <router-view v-if="inited"/> <vue-frontend-actionbar :key="keyComponent"/> <component v-bind:is="$app.addonComponent(w.name)" v-for="w in $account.widgets" v-model="w.data"/> <vue-frontend-blocks-html v-if="showHTML" :options='$account'/> </div> <component :is="dynamicComponent.name" v-if="dynamicComponent.name" ref="dynamicComponent"/> </div> </div>`}),window.$app.defineComponent("frontend","vue-frontend-page-blocks",{props:{fields:Object,data:Object,page_id:String,page_filename:String,param_id:String,part:String,isEmbeded:Boolean,showBlockedMessage:Boolean,excludeTypes:{default:[]}},data(){return{prefix:""}},created(){this.prepareFields()},mounted(){this.prepareStyles()},watch:{showBlockedMessage(e){this.$emit("update:showBlockedMessage",e)},fields(e){this.prepareFields(),this.prepareStyles()}},computed:{mode(){return-1==document.location.pathname.indexOf("template:")?"view":"edit"}},methods:{blockClass(e){var t=e.options,i=t?t.padding:null;return["block-"+e.block_type_name,{"is-textable":"text"==e.block_type_name,"is-headline":"text"==e.block_type_name&&null!=t&&null!=t.text_size&&"h"==t.text_size[0],"block-item-locked":!this.$auth.isAllowTariff(e.tariff),"is-hidden":null!=e.visible&&!e.visible},i&&i.on?(null!=i.bottom?"has-pb-"+i.bottom:"")+" "+(null!=i.top?"has-pt-"+i.top:""):null,"b-"+e.block_id]},isTransparentSection(e){var t=e.indent&&e.indent.on&&e.indent.border&&0<e.indent.border.width&&e.indent.border.color&&!isTransparentColor(e.indent.border.color);return(!e.bg||!e.bg.color||isTransparentColor(e.bg.color))&&!t&&!(e.bg&&e.bg.picture)},classSection(e,t){var i=this.fields;return[null==e.section||null==e.section.bg||null==e.section.bg.color?null:"is-"+lightOrDark(ColorsFactory.getColor(e.section.bg.color)),e.section?"s-"+this.prefix+t+(e.section.section_id?" has-s s-"+e.section.section_id:"")+(this.isTransparentSection(e.section)?" is-transparent":""):null,null!=e.section&&null!=e.section.indent&&e.section.indent.on?" has-indent":null,i[t+1]&&i[t+1].section?" has-next-s"+(this.isTransparentSection(i[t+1].section)?" is-next-transparent":""):null,{" is-empty":!e.items.length}]},checkTariff(e){this.$auth.isAllowTariff(e)||(this.showBlockedMessage=!0)},prepareFields(){let i=this.$account.theme,n=StylesFactory.getEmptySection(i),s=StylesFactory.getDefaultSection(i,!1);_.each(this.fields,(e,t)=>{e.section?(e.section.bg&&e.section.bg.picture&&(e.section.bg.picture.link="//"+Vue.prototype.$account.storage_domain+"/p/"+e.section.bg.picture.filename),e.section_full=StylesFactory.restoreSection(e.section,i,s),e.section=StylesFactory.restoreSection(e.section,i,n)):(e.section_full=s,e.section=n)})},prepareStyles(){this.prefix=this.page_id?this.page_id.toString().replace(".","_")+"-":"";let i={};_.each(this.fields,(e,t)=>{StylesFactory.prepareSectionStyles(e.section,this.prefix+t,this.$account.theme,i,void 0,"page",this.$account.storage_domain,this.isEmbeded)}),StylesFactory.updateCSSBlock(i,this.$refs.styles)},loadEntry(e){let t=e.block_type_name;return-1==t.indexOf("-")?t="vue-frontend-blocks-"+t:(e=t.split("-"),t="vue-frontend-addons-"+e[0]+"-blocks-"+e[1],null!=Vue.options.components[t]&&!window.components_loaded_hooks[t]||(t="vue-frontend-addonblock")),t}},template:`<div class="is-flex-fullheight"> <div ref='styles'></div> <div class="is-flex-fullheight"> <div class="blocks-section is-empty"><div><div class="page-container"></div></div></div> <div v-for="(p, j) in fields" class="blocks-section" :class="classSection(p, j)" :key="j"> <div> <div :class="{'page-container': !isEmbeded}"> <div class="section-main" v-if="p.items.length"> <div> <div> <div class="block-item" v-for="(f, i) in p.items" :name="f.anchor" v-if="excludeTypes.indexOf(f.block_type_name) == -1" :class="blockClass(f)" @click="checkTariff(f.tariff)" :key="f.block_id"> <div> <component v-bind:is="loadEntry(f)" :options="f.options" :data="data" :section="p.section_full" :block_id="f.block_id" :block="f" :account="$account" :theme="$account.theme" :index="i" :page_id="page_id" :page_filename="page_filename" :param_id="param_id" :part="part" @refreshPage="$parent.fetchData" :isEmbeded="isEmbeded" :device-class="$device.class" :mode="mode" @showBlockedMessage="showBlockedMessage = true"/> </div> </div> <vue-frontend-brandlink v-if="!isEmbeded && j== fields.length - 1 && p.section != null && (fields[fields.length-1].section.indent == undefined || !fields[fields.length-1].section.indent.on)"/> </div> </div> <span v-if="p.section && p.section.extend && p.section.extend.on" v-html="StylesFactory.prepareSectionHTML(p.section.extend.html, 's-'+p.section.section_id)"></span> </div> </div> </div> </div> </div> </div>`}),window.$app.defineComponent("frontend","vue-frontend-page",{data(){return{showBlockedMessage:!1,fields:[],options:{},data:null,isFetching:!1,page_id:null}},props:["page_filename","part","param_id"],created(){this.$api.cacheKeyFunc=(e,t)=>e+"?"+$mx.param(t),window.data?(this.initData(window.data,!0),delete window.data):this.fetchData(),$events.on("reload",this.reload)},mounted(){location.hash&&$page.scrollTo(location.hash.substr(1))},watch:{page_filename(e){this.fetchData()},part(e,t){this.fetchData()},param_id(e){this.fetchData()}},computed:{brandlinkOutside(){return!this.fields.length||null==this.fields[this.fields.length-1].section||null!=this.fields[this.fields.length-1].section.indent&&this.fields[this.fields.length-1].section.indent.on},current_page_id(){return this.page_id||this.$page.page_id},foundBlocked(){for(let t=0;t<this.fields.length;t++)for(let e=0;e<this.fields[t].items.length;e++)if(!this.$auth.isAllowTariff(this.fields[t].items[e].tariff))return!0;return!1},pageClasses(){var e=[];return this.options&&(e.push("max-page-container-"+(this.options.max_width||"lg")),e.push("page-valign-"+(this.options.valign||"top"))),e}},methods:{reload(e,t){this.fetchData("account",t)},initData(e,t){null!=e.account&&_.each(prepareAccount(e.account),(e,t)=>{this.$set(this.$account,t,e)}),this.fields=this.checkFields(e.fields),this.options=e.options,this.data=e.data||null,e.fonts&&_.size(e.fonts)&&_.each(e.fonts,(e,t)=>{null==globalFonts[t]&&(globalFonts[t]=e)}),this.$page.page_filename=this.page_filename||(this.part?null:this.$account.main_page_id.toString(16)),this.$page.page_id=this.page_id=e.page_id||null,this.$page.max_width=e.options.max_width||"lg",e.ts&&(this.$account.ts=e.ts),null!=e.seo&&null!=e.seo.title&&(document.title=e.seo.title),e.page_id&&$events.fire("pageview",{page_id:e.page_id,profile_id:this.$account.profile_id}),$events.fire("contentupdated"),this.options.access_control&&this.$modal("vue-frontend-password-form",{page_id:e.page_id,profile_id:this.$account.profile_id},null,{canCancel:["button"]}).then(e=>{e.$on("result",()=>{$events.fire("reload")})}),t&&this.$actionbar.clear()},fetchData:_.debounce(function(t=null,e=null){var i=this.$history.prev,n=this.$router.currentRoute;null==i||"part"!=n.name&&"part.index"!=n.name||"part"!=i.name&&"part.index"!=i.name||i.params.part!=n.params.part||i.params.part;this.isFetching=!0,this.$api.get("page/get",{params:__.filter(__.merge({part:this.part,page_id:this.page_filename||null,extra:t,param_id:this.param_id},e||{}))}).then(e=>{null!=e.redirect?this.$router.replace(e.redirect):(this.initData(e.response,!t),this.$nextTick(()=>{$scroll.scroll()})),this.isFetching=!1})},1),checkFields(e){return _.each(e,e=>{_.each(e.items,e=>{e.tariff="basic",e.visible=!0})}),e}},template:`<div class="page-content" :class="pageClasses"> <a class="header-banner lock-footer has-background-black" v-if="!$account.has_nickname && $account.allow_by_session && !$account.allow_by_token" style="position: inherit" target="_blank" :href="'https://'+this.$account.domain+'/profile/pages/#publish'"> <div class="container has-mb-2 has-mt-2 is-text-centered" style="justify-content: center">{{'Страница недоступна для просмотра всем. Для решения этой проблемы вам необходимо подключить профиль или доменное имя'|gettext}}</div> </a> <div class="is-flex-fullheight"> <div class="is-flex-fullheight"> <div class="container has-mt-3" v-if="$account.lock_message"> <div class="message is-danger block-text has-text-centered"><div class="message-body">{{$account.lock_message}}</div></div> </div> <main class="is-flex-fullheight"> <vue-frontend-page-blocks :fields="fields" :data="data" :page_id="current_page_id" :page_filename="page_filename" :param_id="param_id" :part="part" :showBlockedMessage.sync="showBlockedMessage" :class="{'is-flex-fullheight': !brandlinkOutside}"/> <vue-frontend-brandlink v-if="brandlinkOutside && !isFetching"/> </main> </div> </div> <div class="footer-banner lock-footer has-background-black has-close" :class="{'is-closed': !showBlockedMessage}" @click="showBlockedMessage = false" v-if="foundBlocked"> <div class="container has-mb-2 has-mt-2">{{'К сожалению эта функция была заблокирована, так как владелец страницы своевременно не оплатил ее. Если вас не затруднит, сообщите владельцу страницы о данной проблеме'|gettext}}</div> </div> </div>`}),window.$app.defineComponent("frontend","vue-frontend-password-form",{props:["page_id","profile_id"],data(){return{password:"",isChecking:!1,passwordMask:{preg:"\\s",inverse:!0},message:""}},methods:{checkPassword(){this.isChecking=!0,this.$api.post("page/access",{params:{password:this.password,page_id:this.page_id,profile_id:this.profile_id}}).then(e=>{this.isChecking=!1,"success"==e.result?(this.$parent.$emit("result"),this.$parent.close()):(this.message=this.$gettext("Пароль неверный"),this.$nextTick(()=>{this.$refs.password.focus()}))})}},template:`<form class="modal-card modal-card-little is-password" @submit.prevent="checkPassword"> <section class="modal-card-body"> <div class="has-text-centered has-mt-4"><i class="fab fa-lock" style="font-size: 5rem"></i></div> <h3 class="has-mt-2 has-text-centered">{{'Защищенная страница'|gettext}}</h3> <div class="field has-mt-5 has-mb-5" :class="{'has-error': message}"> <input type="password" class="input is-large" :placeholder="'Введите пароль'|gettext" v-model="password" maxlength="32" v-mask="passwordMask" :disabled="isChecking" autofill="off" v-focus ref="password"> <p class="help" v-if="message">{{message}}</p> </div> </section> <section class="modal-card-foot"> <button class="button is-primary is-large is-fullwidth" :class="{'is-loading': isChecking}" type="submit" :disabled="password.length < 6">{{'Отправить'|gettext}}</button> </section> </form>`}),window.$app.defineComponent("frontend","vue-frontend-vbar",{data:()=>({dragging:{enable:!1,axis:"",offset:""},bars:{horizontal:{elm:"",parent:"",size:0},vertical:{elm:"",parent:"",size:0}},wrapperObj:{elm:"",scrollHeight:"",scrollWidth:"",scrollLeft:"",scrollTop:""},container:{elm:"",scrollHeight:"",scrollWidth:""}}),mounted(){addResizeListener(this.$refs.container,this.resize),addResizeListener(this.$refs.wrapperRef.children[0],this.resize),document.addEventListener("mousemove",this.onDrag),document.addEventListener("touchmove",this.onDrag),document.addEventListener("mouseup",this.stopDrag),document.addEventListener("touchend",this.stopDrag),this.getSizes()},beforeDestroy(){removeResizeListener(this.$refs.container,this.resize),removeResizeListener(this.$refs.wrapperRef.children[0],this.resize),document.removeEventListener("mousemove",this.onDrag),document.removeEventListener("touchmove",this.onDrag),document.removeEventListener("mouseup",this.stopDrag),document.removeEventListener("touchend",this.stopDrag)},computed:{propWrapperSize(){return this.wrapper||""},propBarVertical(){return this.vBar||""},propBarInternalVertical(){return this.vBarInternal||""},propBarHorizontal(){return this.hBar||""},propBarInternalHorizontal(){return this.hBarInternal||""},barSizeVertical(){if(this.bars.horizontal.size&&this.bars.vertical.size)return{height:"calc(100% - 16px)"}},barSizeHorizontal(){if(this.bars.horizontal.size&&this.bars.vertical.size)return{width:"calc(100% - 16px)"}},barInternalVertical(){var e=this.getBarInternal("Y");return{height:this.bars.vertical.size+"px",top:e+"px"}},barInternalHorizontal(){var e=this.getBarInternal("X");return{width:this.bars.horizontal.size+"px",left:e+"px"}},validationScrolls(){return this.bars.horizontal.size?this.bars.vertical.size?void 0:"overflowY: hidden":"overflowX: hidden"},width(){return this.$refs.wrapperRef.getBoundingClientRect().width},shadowStyle(){return"-webkit-mask-image: linear-gradient(90deg, transparent 0%, rgba(0, 0, 0, 1.0) "+Math.min(this.wrapperObj.scrollLeft/80*10,10)+"%, rgba(0, 0, 0, 1.0) "+(100-Math.min((this.wrapperObj.scrollWidth-this.wrapperObj.scrollLeft-this.container.scrollWidth)/80*10,10))+"%, transparent 100%);"}},methods:{scroll(e){this.getSizes(0,0)},resize(){this.getSizes()},getBarInternal(e){let t,i,n,s,o;return o=this.bars.horizontal.size&&this.bars.vertical.size?40:0,"X"===e?(t=this.wrapperObj.scrollLeft,i=this.wrapperObj.scrollWidth,n=this.bars.horizontal.size+o,s=this.container.scrollWidth):"Y"===e&&(t=this.wrapperObj.scrollTop,i=this.wrapperObj.scrollHeight,n=this.bars.vertical.size+o,s=this.container.scrollHeight),t/(i-s)*(s-n)},getCoordinates(e,t){let i,n,s,o,r;return"X"===t?(i=this.wrapperObj.scrollWidth,n=this.bars.horizontal.size,s=this.container.scrollWidth,o=this.container.elm.offsetLeft,r=e.clientX-this.dragging.offset):"Y"===t&&(i=this.wrapperObj.scrollHeight,n=this.bars.vertical.size,s=this.container.scrollHeight,o=this.container.elm.offsetTop-1.4*this.bars.vertical.size,r=e.clientY-this.dragging.offset),(i-s)*(r-o)/(s-n)},startDrag(e){e.preventDefault(),e.stopPropagation();var t=(e=e.changedTouches?e.changedTouches[0]:e).target.getAttribute("data-axis"),i=e.target.getAttribute("data-drag-source");let n,s;"Y"===t?"bar"===i?s=e.explicitOriginalTarget.offsetTop+1.4*this.bars.vertical.size:"internal"===i&&(s=e.clientY-this.bars.vertical.elm.offsetTop):"X"===t&&("bar"===i?s=e.explicitOriginalTarget.offsetLeft+1.4*this.bars.horizontal.size:"internal"===i&&(s=e.clientX-this.bars.horizontal.elm.offsetLeft)),n=s,this.dragging={enable:!0,axis:t,offset:n}},getWrapper(){return this.$refs.wrapperRef},scrollTo(e,t){var i=this.getWrapper();i.scrollLeft=e,i.scrollTop=t,this.getSizes()},onDrag(e){var t;this.dragging.enable&&(e.preventDefault(),e.stopPropagation(),e=e.changedTouches?e.changedTouches[0]:e,t=this.$refs.wrapperRef,"X"===this.dragging.axis?t.scrollLeft=this.getCoordinates(e,"X"):"Y"===this.dragging.axis&&(t.scrollTop=this.getCoordinates(e,"Y")),this.getSizes())},stopDrag(e){this.dragging.enable&&(this.dragging={enable:!1,axis:""})},getSizes(e,t){var i=this.$refs.wrapperRef,n=this.$refs.container,s=this.$refs.verticalBar,o=this.$refs.verticalInternalBar,r=this.$refs.horizontalBar,a=this.$refs.horizontalInternalBar;this.wrapperObj={elm:i,scrollHeight:i?i.scrollHeight:0,scrollWidth:i?i.scrollWidth:0,scrollLeft:i?i.scrollLeft:0,scrollTop:i?i.scrollTop:0},this.container={elm:n,scrollHeight:n?n.scrollHeight:0,scrollWidth:n?n.scrollWidth:0},this.bars.horizontal.elm=a,this.bars.horizontal.parent=r,this.bars.horizontal.size=24<this.wrapperObj.scrollWidth-this.container.scrollWidth&&this.wrapperObj.scrollWidth-this.container.scrollWidth!=0?this.container.scrollWidth/this.wrapperObj.scrollWidth*this.container.scrollWidth:0,this.bars.vertical.elm=o,this.bars.vertical.parent=s,this.bars.vertical.size=24<this.wrapperObj.scrollHeight-this.container.scrollHeight&&this.wrapperObj.scrollHeight-this.container.scrollHeight!=0?this.container.scrollHeight/this.wrapperObj.scrollHeight*this.container.scrollHeight:0}},props:["wrapper","vBar","vBarInternal","hBar","hBarInternal"],template:'<div id="vbar" :class="propWrapperSize"> <div class="bar--container" ref="container" :style="shadowStyle"> <div class="bar--vertical" ref="verticalBar" v-show="bars.vertical.size" :style="barSizeVertical" :class="propBarVertical" @touchstart="startDrag" @mousedown="startDrag" data-axis="Y" data-drag-source="bar"> <div class="bar--vertical-internal" ref="verticalInternalBar" :style="barInternalVertical" :class="propBarInternalVertical" @touchstart="startDrag" @mousedown="startDrag" data-axis="Y" data-drag-source="internal"></div> </div> <div class="bar--horizontal" ref="horizontalBar" v-show="bars.horizontal.size" :style="barSizeHorizontal" :class="propBarHorizontal" @touchstart="startDrag" @mousedown="startDrag" data-axis="X" data-drag-source="bar"> <div class="bar--horizontal-internal" ref="horizontalInternalBar" :style="barInternalHorizontal" :class="propBarInternalHorizontal" @touchstart="startDrag" @mousedown="startDrag" data-axis="X" data-drag-source="internal"></div> </div> <div class="bar--wrapper has-scroll-emulate" ref="wrapperRef" :style="validationScrolls" @wheel="scroll" @touchmove="scroll"> <slot></slot> </div> </div> </div>'}),window.$app.defineModule("frontend",[{path:"/",props:!0,component:"vue-frontend-index",children:[{path:"",props:!0,name:"index"},{path:"/p/:page_filename/",props:!0,name:"page"},{path:"/:part/",props:!0,name:"part.index"},{path:"/:part/:page_filename/",props:!0,name:"part"},{path:"/:part/:page_filename/:param_id/",props:!0,name:"param"}]}]);
